---
title: 常用SQL注入方法总结
toc: true
recommend: 1
uniqueId: '2021-05-03 08:39:13/sql-injection.html'
mathJax: false
date: 2021-05-03 16:39:13
thumbnail:
tags: [数据库]
categories: [个人技术心得,渗透]
keywords:
---
> 网上资料过于繁杂，所以想写一篇文章记录我的收获

<!-- more -->

## 判断是否存在注入点

一般来说都是输入sql语句，报错就很有可能存在注入点


## 字符型注入和数字注入

这两个的区别就是一个需要引号，一个不需要

字符型：`?id=2'　其他语句#`

数字型：`?id=2　其他语句`

**如何判断？**

数字型的其他语句替换为 `and 1=2` 会报错，否则就是字符型

## url编码问题

网址都是采用`url`编码，一般浏览器网址栏的字符都会被自动转码，但需要注意几点

- **末尾的空格不会被转码**
- **#不会被转码**（**#**url编码后是**%23**）

## 注释问题

在字符型注入中，需要闭合引号构造sql语句，可以使用两个符号

1. `#`：在#后面的语句都会被注释掉
2. `--`：使用时需要注意，后面一定要接一个空格，在使用中都是 `--+`，+是空格的url编码

## 其他问题

表的字段类型如果是数字类型也可以用 `'数字'`来表示，但如果是数字＋字母的组合，只会取开头为数字的部分

```sql
＃比如下面的写法查询结果一样
where id='123abc'
where id='123'
where id=123
```

## 技巧

